parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r},p.cache={};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"3oS9":[function(require,module,exports) {
!function(n){"use strict";function r(n,r,t){return t.a=n,t.f=r,t}function t(n){return r(2,n,function(r){return function(t){return n(r,t)}})}function e(n){return r(3,n,function(r){return function(t){return function(e){return n(r,t,e)}}})}function u(n){return r(4,n,function(r){return function(t){return function(e){return function(u){return n(r,t,e,u)}}}})}function a(n){return r(5,n,function(r){return function(t){return function(e){return function(u){return function(a){return n(r,t,e,u,a)}}}}})}function c(n){return r(6,n,function(r){return function(t){return function(e){return function(u){return function(a){return function(c){return n(r,t,e,u,a,c)}}}}}})}function i(n){return r(7,n,function(r){return function(t){return function(e){return function(u){return function(a){return function(c){return function(i){return n(r,t,e,u,a,c,i)}}}}}}})}function o(n){return r(8,n,function(r){return function(t){return function(e){return function(u){return function(a){return function(c){return function(i){return function(o){return n(r,t,e,u,a,c,i,o)}}}}}}}})}function f(n){return r(9,n,function(r){return function(t){return function(e){return function(u){return function(a){return function(c){return function(i){return function(o){return function(f){return n(r,t,e,u,a,c,i,o,f)}}}}}}}}})}function s(n,r,t){return 2===n.a?n.f(r,t):n(r)(t)}function b(n,r,t,e){return 3===n.a?n.f(r,t,e):n(r)(t)(e)}function l(n,r,t,e,u){return 4===n.a?n.f(r,t,e,u):n(r)(t)(e)(u)}function d(n,r,t,e,u,a){return 5===n.a?n.f(r,t,e,u,a):n(r)(t)(e)(u)(a)}function v(n,r,t,e,u,a,c){return 6===n.a?n.f(r,t,e,u,a,c):n(r)(t)(e)(u)(a)(c)}function h(n,r,t,e,u,a,c,i){return 7===n.a?n.f(r,t,e,u,a,c,i):n(r)(t)(e)(u)(a)(c)(i)}function p(n,r,t,e,u,a,c,i,o){return 8===n.a?n.f(r,t,e,u,a,c,i,o):n(r)(t)(e)(u)(a)(c)(i)(o)}var g={$:0};function m(n,r){return{$:1,a:n,b:r}}var $=t(m);function w(n){for(var r=g,t=n.length;t--;)r=m(n[t],r);return r}function x(n){for(var r=[];n.b;n=n.b)r.push(n.a);return r}var y=e(function(n,r,t){for(var e=[];r.b&&t.b;r=r.b,t=t.b)e.push(s(n,r.a,t.a));return w(e)}),k=t(function(n,r){return w(x(r).sort(function(r,t){return T(n(r),n(t))}))}),z=t(function(n,r){return w(x(r).sort(function(r,t){var e=s(n,r,t);return e===bt?0:e===dt?-1:1}))});function I(n,r){for(var t,e=[],u=E(n,r,0,e);u&&(t=e.pop());u=E(t.a,t.b,0,e));return u}function E(n,r,t,e){if(t>100)return e.push(O(n,r)),!0;if(n===r)return!0;if("object"!=typeof n||null===n||null===r)return"function"==typeof n&&N(5),!1;for(var u in 0>n.$&&(n=pt(n),r=pt(r)),n)if(!E(n[u],r[u],t+1,e))return!1;return!0}function T(n,r,t){if("object"!=typeof n)return n===r?0:r>n?-1:1;if(void 0===n.$)return(t=T(n.a,r.a))?t:(t=T(n.b,r.b))?t:T(n.c,r.c);for(;n.b&&r.b&&!(t=T(n.a,r.a));n=n.b,r=r.b);return t||(n.b?1:r.b?-1:0)}var A=t(function(n,r){var t=T(n,r);return 0>t?dt:t?lt:bt}),L=0;function O(n,r){return{a:n,b:r}}function F(n,r,t){return{a:n,b:r,c:t}}function _(n){return n}function j(n,r){var t={};for(var e in n)t[e]=n[e];for(var e in r)t[e]=r[e];return t}var C=t(H);function H(n,r){if("string"==typeof n)return n+r;if(!n.b)return r;var t=m(n.a,r);n=n.b;for(var e=t;n.b;n=n.b)e=e.b=m(n.a,r);return t}var M=e(function(n,r,t){for(var e=Array(n),u=0;n>u;u++)e[u]=t(r+u);return e}),R=t(function(n,r){for(var t=Array(n),e=0;n>e&&r.b;e++)t[e]=r.a,r=r.b;return t.length=e,O(t,r)});function N(n){throw Error("https://github.com/elm/core/blob/1.0.0/hints/"+n+".md")}var D=t(Math.pow),P=t(function(n,r){var t=r%n;return 0===n?N(11):t>0&&0>n||0>t&&n>0?t+n:t}),S=Math.ceil,B=Math.floor,q=Math.round,W=Math.log,V=t(function(n,r){return n&&r}),Z=t(function(n,r){return n+r}),J=t(function(n,r){return n+r}),U=e(function(n,r,t){for(var e=t.length,u=0;e>u;){var a=t[u],c=t.charCodeAt(u);u++,55296>c||c>56319||(a+=t[u],u++),r=s(n,_(a),r)}return r}),G=e(function(n,r,t){for(var e=t.length;e--;){var u=t[e],a=t.charCodeAt(e);56320>a||a>57343||(u=t[--e]+u),r=s(n,_(u),r)}return r}),Q=t(function(n,r){return r.split(n)}),X=t(function(n,r){return r.join(n)}),K=e(function(n,r,t){return t.slice(n,r)}),Y=t(function(n,r){for(var t=r.length;t--;){var e=r[t],u=r.charCodeAt(t);if(56320>u||u>57343||(e=r[--t]+e),!n(_(e)))return!1}return!0}),nn=t(function(n,r){return 0===r.indexOf(n)});function rn(n){return n+""}function tn(n){return{$:2,b:n}}var en=tn(function(n){return"number"!=typeof n?yn("an INT",n):n>-2147483647&&2147483647>n&&(0|n)===n?qt(n):!isFinite(n)||n%1?yn("an INT",n):qt(n)}),un=(tn(function(n){return"boolean"==typeof n?qt(n):yn("a BOOL",n)}),tn(function(n){return"number"==typeof n?qt(n):yn("a FLOAT",n)})),an=tn(function(n){return qt(En(n))}),cn=tn(function(n){return"string"==typeof n?qt(n):n instanceof String?qt(n+""):yn("a STRING",n)}),on=t(function(n,r){return{$:6,d:n,b:r}});function fn(n,r){return{$:9,f:n,g:r}}var sn=t(function(n,r){return{$:10,b:r,h:n}}),bn=t(function(n,r){return fn(n,[r])}),ln=e(function(n,r,t){return fn(n,[r,t])}),dn=u(function(n,r,t,e){return fn(n,[r,t,e])}),vn=i(function(n,r,t,e,u,a,c){return fn(n,[r,t,e,u,a,c])}),hn=o(function(n,r,t,e,u,a,c,i){return fn(n,[r,t,e,u,a,c,i])}),pn=t(function(n,r){try{return mn(n,JSON.parse(r))}catch(n){return Bt(s(Vt,"This is not valid JSON! "+n.message,En(r)))}}),gn=t(function(n,r){return mn(n,Tn(r))});function mn(n,r){switch(n.$){case 2:return n.b(r);case 5:return null===r?qt(n.c):yn("null",r);case 3:return wn(r)?$n(n.b,r,w):yn("a LIST",r);case 4:return wn(r)?$n(n.b,r,xn):yn("an ARRAY",r);case 6:var t=n.d;if("object"!=typeof r||null===r||!(t in r))return yn("an OBJECT with a field named `"+t+"`",r);var e=mn(n.b,r[t]);return Wt(e)?e:Bt(s(Zt,t,e.a));case 7:var u=n.e;return wn(r)?r.length>u?(e=mn(n.b,r[u]),Wt(e)?e:Bt(s(Jt,u,e.a))):yn("a LONGER array. Need index "+u+" but only see "+r.length+" entries",r):yn("an ARRAY",r);case 8:if("object"!=typeof r||null===r||wn(r))return yn("an OBJECT",r);var a=g;for(var c in r)if(r.hasOwnProperty(c)){if(e=mn(n.b,r[c]),!Wt(e))return Bt(s(Zt,c,e.a));a=m(O(c,e.a),a)}return qt(Tt(a));case 9:for(var i=n.f,o=n.g,f=0;o.length>f;f++){if(e=mn(o[f],r),!Wt(e))return e;i=i(e.a)}return qt(i);case 10:return e=mn(n.b,r),Wt(e)?mn(n.h(e.a),r):e;case 11:for(var b=g,l=n.g;l.b;l=l.b){if(e=mn(l.a,r),Wt(e))return e;b=m(e.a,b)}return Bt(Ut(Tt(b)));case 1:return Bt(s(Vt,n.a,En(r)));case 0:return qt(n.a)}}function $n(n,r,t){for(var e=r.length,u=Array(e),a=0;e>a;a++){var c=mn(n,r[a]);if(!Wt(c))return Bt(s(Jt,a,c.a));u[a]=c.a}return qt(t(u))}function wn(n){return Array.isArray(n)||"function"==typeof FileList&&n instanceof FileList}function xn(n){return s(Dt,n.length,function(r){return n[r]})}function yn(n,r){return Bt(s(Vt,"Expecting "+n,En(r)))}function kn(n,r){if(n===r)return!0;if(n.$!==r.$)return!1;switch(n.$){case 0:case 1:return n.a===r.a;case 2:return n.b===r.b;case 5:return n.c===r.c;case 3:case 4:case 8:return kn(n.b,r.b);case 6:return n.d===r.d&&kn(n.b,r.b);case 7:return n.e===r.e&&kn(n.b,r.b);case 9:return n.f===r.f&&zn(n.g,r.g);case 10:return n.h===r.h&&kn(n.b,r.b);case 11:return zn(n.g,r.g)}}function zn(n,r){var t=n.length;if(t!==r.length)return!1;for(var e=0;t>e;e++)if(!kn(n[e],r[e]))return!1;return!0}var In=t(function(n,r){return JSON.stringify(Tn(r),null,n)+""});function En(n){return n}function Tn(n){return n}var An=e(function(n,r,t){return t[n]=Tn(r),t});function Ln(n){return{$:0,a:n}}function On(n){return{$:2,b:n,c:null}}En(null);var Fn=t(function(n,r){return{$:3,b:n,d:r}}),_n=t(function(n,r){return{$:4,b:n,d:r}}),jn=0;function Cn(n){var r={$:0,e:jn++,f:n,g:null,h:[]};return Pn(r),r}function Hn(n){return On(function(r){r(Ln(Cn(n)))})}function Mn(n,r){n.h.push(r),Pn(n)}var Rn=t(function(n,r){return On(function(t){Mn(n,r),t(Ln(L))})}),Nn=!1,Dn=[];function Pn(n){if(Dn.push(n),!Nn){for(Nn=!0;n=Dn.shift();)Sn(n);Nn=!1}}function Sn(n){for(;n.f;){var r=n.f.$;if(0===r||1===r){for(;n.g&&n.g.$!==r;)n.g=n.g.i;if(!n.g)return;n.f=n.g.b(n.f.a),n.g=n.g.i}else{if(2===r)return void(n.f.c=n.f.b(function(r){n.f=r,Pn(n)}));if(5===r){if(0===n.h.length)return;n.f=n.f.b(n.h.shift())}else n.g={$:3===r?0:1,b:n.f.b,i:n.g},n.f=n.f.d}}}var Bn={};function qn(n,r,t,e,u){return{b:n,c:r,d:t,e:e,f:u}}function Wn(n,r){var t={g:r,h:void 0},e=n.c,u=n.d,a=n.e,c=n.f;function i(n){return s(Fn,i,{$:5,b:function(r){var i=r.a;return 0===r.$?b(u,t,i,n):a&&c?l(e,t,i.i,i.j,n):b(e,t,a?i.i:i.j,n)}})}return t.h=Cn(s(Fn,i,n.b))}var Vn=t(function(n,r){return On(function(t){n.g(r),t(Ln(L))})}),Zn=t(function(n,r){return s(Rn,n.h,{$:0,a:r})});function Jn(n){return function(r){return{$:1,k:n,l:r}}}function Un(n){return{$:2,m:n}}function Gn(n,r,t){var e={};for(var u in Qn(!0,r,e,null),Qn(!1,t,e,null),n)Mn(n[u],{$:"fx",a:e[u]||{i:g,j:g}})}function Qn(n,r,t,e){switch(r.$){case 1:var u=r.k,a=function(n,t,e){function u(n){for(var r=e;r;r=r.q)n=r.p(n);return n}return s(n?Bn[t].e:Bn[t].f,u,r.l)}(n,u,e);return void(t[u]=function(n,r,t){return t=t||{i:g,j:g},n?t.i=m(r,t.i):t.j=m(r,t.j),t}(n,a,t[u]));case 2:for(var c=r.m;c.b;c=c.b)Qn(n,c.a,t,e);return;case 3:return void Qn(n,r.o,t,{p:r.n,q:e})}}function Xn(n){Bn[n]&&N(3)}function Kn(n,r){return Xn(n),Bn[n]={e:Yn,r:r,a:nr},Jn(n)}var Yn=t(function(n,r){return r});function nr(n){var r=[],t=Bn[n].r,u=(0,On(function(n){var r=setTimeout(function(){n(Ln(L))},0);return function(){clearTimeout(r)}}));return Bn[n].b=u,Bn[n].c=e(function(n,e){for(;e.b;e=e.b)for(var a=r,c=Tn(t(e.a)),i=0;a.length>i;i++)a[i](c);return u}),{subscribe:function(n){r.push(n)},unsubscribe:function(n){var t=(r=r.slice()).indexOf(n);0>t||r.splice(t,1)}}}function rr(n,r){return Xn(n),Bn[n]={f:tr,r:r,a:er},Jn(n)}var tr=t(function(n,r){return function(t){return n(r(t))}});function er(n,r){var t=g,u=Bn[n].r,a=Ln(null);return Bn[n].b=a,Bn[n].c=e(function(n,r){return t=r,a}),{send:function(n){var e=s(gn,u,En(n));Wt(e)||N(4);for(var a=e.a,c=t;c.b;c=c.b)r(c.a(a))}}}var ur=e(function(n,r,t){return On(function(e){function u(n){e(r(t.bb.a(n)))}var a=new XMLHttpRequest;a.addEventListener("error",function(){u(uu)}),a.addEventListener("timeout",function(){u(iu)}),a.addEventListener("load",function(){u(function(n,r){return s(r.status>=200&&300>r.status?eu:ru,function(n){return{bu:n.responseURL,dd:n.status,fO:n.statusText,et:ar(n.getAllResponseHeaders())}}(r),n(r.response))}(t.bb.b,a))}),Xe(t.gg)&&function(n,r,t){r.upload.addEventListener("progress",function(e){r.c||Cn(s(Ye,n,O(t,cu({fE:e.loaded,fI:e.total}))))}),r.addEventListener("progress",function(e){r.c||Cn(s(Ye,n,O(t,au({fr:e.loaded,fI:e.lengthComputable?Pt(e.total):St}))))})}(n,a,t.gg.a);try{a.open(t.eX,t.bu,!0)}catch(n){return u(tu(t.bu))}return function(n,r){for(var t=r.et;t.b;t=t.b)n.setRequestHeader(t.a.a,t.a.b);n.timeout=r.ga.a||0,n.responseType=r.bb.d,n.withCredentials=r.ak}(a,t),t.dQ.a&&a.setRequestHeader("Content-Type",t.dQ.a),a.send(t.dQ.b),function(){a.c=!0,a.abort()}})});function ar(n){if(!n)return Ie;for(var r=Ie,t=n.split("\r\n"),e=t.length;e--;){var u=t[e],a=u.indexOf(": ");if(a>0){var c=u.substring(0,a),i=u.substring(a+2);r=b(Qe,c,function(n){return Pt(Xe(n)?i+", "+n.a:i)},r)}}return r}var cr,ir=e(function(n,r,t){return{$:0,d:n,b:r,a:t}}),or=t(function(n,r){return{$:0,d:r.d,b:r.b,a:function(t){return n(r.a(t))}}}),fr=t(function(n,r){return{$:0,a:n,b:r}}),sr=t(function(n,r){return On(function(){var t=setInterval(function(){Cn(r)},n);return function(){clearInterval(t)}})}),br="undefined"!=typeof document?document:{};function lr(n,r){n.appendChild(r)}function dr(n){return{$:0,a:n}}var vr=t(function(n,r){return t(function(t,e){for(var u=[],a=0;e.b;e=e.b){var c=e.a;a+=c.b||0,u.push(c)}return a+=u.length,{$:1,c:r,d:Lr(t),e:u,f:n,b:a}})}),hr=vr(void 0),pr=t(function(n,r){return t(function(t,e){for(var u=[],a=0;e.b;e=e.b){var c=e.a;a+=c.b.b||0,u.push(c)}return a+=u.length,{$:2,c:r,d:Lr(t),e:u,f:n,b:a}})}),gr=pr(void 0),mr=t(function(n,r){return{$:4,j:n,k:r,b:1+(r.b||0)}}),$r=t(function(n,r){return{$:"a0",n:n,o:r}}),wr=t(function(n,r){return{$:"a1",n:n,o:r}}),xr=t(function(n,r){return{$:"a2",n:n,o:r}}),yr=t(function(n,r){return{$:"a3",n:n,o:r}});function kr(n){return"script"==n?"p":n}function zr(n){return/^\s*(javascript:|data:text\/html)/i.test(n)?"":n}var Ir,Er=t(function(n,r){return"a0"===r.$?s($r,r.n,function(n,r){var t=$a(r);return{$:r.$,a:t?b(me,3>t?Tr:Ar,Ce(n),r.a):s(_e,n,r.a)}}(n,r.o)):r}),Tr=t(function(n,r){return O(n(r.a),r.b)}),Ar=t(function(n,r){return{O:n(r.O),bW:r.bW,bR:r.bR}});function Lr(n){for(var r={};n.b;n=n.b){var t=n.a,e=t.$,u=t.n,a=t.o;if("a2"!==e){var c=r[e]||(r[e]={});"a3"===e&&"class"===u?Or(c,u,a):c[u]=a}else"className"===u?Or(r,u,Tn(a)):r[u]=Tn(a)}return r}function Or(n,r,t){var e=n[r];n[r]=e?e+" "+t:t}function Fr(n,r){var t=n.$;if(5===t)return Fr(n.k||(n.k=n.m()),r);if(0===t)return br.createTextNode(n.a);if(4===t){for(var e=n.k,u=n.j;4===e.$;)"object"!=typeof u?u=[u,e.j]:u.push(e.j),e=e.k;var a={j:u,p:r};return(c=Fr(e,a)).elm_event_node_ref=a,c}if(3===t)return _r(c=n.h(n.g),r,n.d),c;var c=n.f?br.createElementNS(n.f,n.c):br.createElement(n.c);cr&&"a"==n.c&&c.addEventListener("click",cr(c)),_r(c,r,n.d);for(var i=n.e,o=0;i.length>o;o++)lr(c,Fr(1===t?i[o]:i[o].b,r));return c}function _r(n,r,t){for(var e in t){var u=t[e];"a1"===e?jr(n,u):"a0"===e?Mr(n,r,u):"a3"===e?Cr(n,u):"a4"===e?Hr(n,u):("value"!==e||"checked"!==e||n[e]!==u)&&(n[e]=u)}}function jr(n,r){var t=n.style;for(var e in r)t[e]=r[e]}function Cr(n,r){for(var t in r){var e=r[t];e?n.setAttribute(t,e):n.removeAttribute(t)}}function Hr(n,r){for(var t in r){var e=r[t],u=e.f,a=e.o;a?n.setAttributeNS(u,t,a):n.removeAttributeNS(u,t)}}function Mr(n,r,t){var e=n.elmFs||(n.elmFs={});for(var u in t){var a=t[u],c=e[u];if(a){if(c){if(c.q.$===a.$){c.q=a;continue}n.removeEventListener(u,c)}c=Rr(r,a),n.addEventListener(u,c,Ir&&{passive:2>$a(a)}),e[u]=c}else n.removeEventListener(u,c),e[u]=void 0}}try{window.addEventListener("t",null,Object.defineProperty({},"passive",{get:function(){Ir=!0}}))}catch(n){}function Rr(n,r){function t(r){var e=t.q,u=mn(e.a,r);if(Wt(u)){for(var a,c=$a(e),i=u.a,o=c?3>c?i.a:i.O:i,f=1==c?i.b:3==c&&i.bW,s=(f&&r.stopPropagation(),(2==c?i.b:3==c&&i.bR)&&r.preventDefault(),n);a=s.j;){if("function"==typeof a)o=a(o);else for(var b=a.length;b--;)o=a[b](o);s=s.p}s(o,f)}}return t.q=r,t}function Nr(n,r){return n.$==r.$&&kn(n.a,r.a)}function Dr(n,r,t,e){var u={$:r,r:t,s:e,t:void 0,u:void 0};return n.push(u),u}function Pr(n,r,t,e){if(n!==r){var u=n.$,a=r.$;if(u!==a){if(1!==u||2!==a)return void Dr(t,0,e,r);r=function(n){for(var r=n.e,t=r.length,e=Array(t),u=0;t>u;u++)e[u]=r[u].b;return{$:1,c:n.c,d:n.d,e:e,f:n.f,b:n.b}}(r),a=1}switch(a){case 5:for(var c=n.l,i=r.l,o=c.length,f=o===i.length;f&&o--;)f=c[o]===i[o];if(f)return void(r.k=n.k);r.k=r.m();var s=[];return Pr(n.k,r.k,s,0),void(s.length>0&&Dr(t,1,e,s));case 4:for(var b=n.j,l=r.j,d=!1,v=n.k;4===v.$;)d=!0,"object"!=typeof b?b=[b,v.j]:b.push(v.j),v=v.k;for(var h=r.k;4===h.$;)d=!0,"object"!=typeof l?l=[l,h.j]:l.push(h.j),h=h.k;return d&&b.length!==l.length?void Dr(t,0,e,r):((d?function(n,r){for(var t=0;n.length>t;t++)if(n[t]!==r[t])return!1;return!0}(b,l):b===l)||Dr(t,2,e,l),void Pr(v,h,t,e+1));case 0:return void(n.a!==r.a&&Dr(t,3,e,r.a));case 1:return void Sr(n,r,t,e,qr);case 2:return void Sr(n,r,t,e,Wr);case 3:if(n.h!==r.h)return void Dr(t,0,e,r);var p=Br(n.d,r.d);p&&Dr(t,4,e,p);var g=r.i(n.g,r.g);return void(g&&Dr(t,5,e,g))}}}function Sr(n,r,t,e,u){if(n.c===r.c&&n.f===r.f){var a=Br(n.d,r.d);a&&Dr(t,4,e,a),u(n,r,t,e)}else Dr(t,0,e,r)}function Br(n,r,t){var e;for(var u in n)if("a1"!==u&&"a0"!==u&&"a3"!==u&&"a4"!==u)if(u in r){var a=n[u],c=r[u];a===c&&"value"!==u&&"checked"!==u||"a0"===t&&Nr(a,c)||((e=e||{})[u]=c)}else(e=e||{})[u]=t?"a1"===t?"":"a0"===t||"a3"===t?void 0:{f:n[u].f,o:void 0}:"string"==typeof n[u]?"":null;else{var i=Br(n[u],r[u]||{},u);i&&((e=e||{})[u]=i)}for(var o in r)o in n||((e=e||{})[o]=r[o]);return e}function qr(n,r,t,e){var u=n.e,a=r.e,c=u.length,i=a.length;c>i?Dr(t,6,e,{v:i,i:c-i}):i>c&&Dr(t,7,e,{v:c,e:a});for(var o=i>c?c:i,f=0;o>f;f++){var s=u[f];Pr(s,a[f],t,++e),e+=s.b||0}}function Wr(n,r,t,e){for(var u=[],a={},c=[],i=n.e,o=r.e,f=i.length,s=o.length,b=0,l=0,d=e;f>b&&s>l;){var v=(E=i[b]).a,h=(T=o[l]).a,p=E.b,g=T.b;if(v!==h){var m=i[b+1],$=o[l+1];if(m)var w=m.a,x=m.b,y=h===w;if($)var k=$.a,z=$.b,I=v===k;if(I&&y)Pr(p,z,u,++d),Zr(a,u,v,g,l,c),d+=p.b||0,Jr(a,u,v,x,++d),d+=x.b||0,b+=2,l+=2;else if(I)d++,Zr(a,u,h,g,l,c),Pr(p,z,u,d),d+=p.b||0,b+=1,l+=2;else if(y)Jr(a,u,v,p,++d),d+=p.b||0,Pr(x,g,u,++d),d+=x.b||0,b+=2,l+=1;else{if(!m||w!==k)break;Jr(a,u,v,p,++d),Zr(a,u,h,g,l,c),d+=p.b||0,Pr(x,z,u,++d),d+=x.b||0,b+=2,l+=2}}else Pr(p,g,u,++d),d+=p.b||0,b++,l++}for(;f>b;){var E;Jr(a,u,(E=i[b]).a,p=E.b,++d),d+=p.b||0,b++}for(;s>l;){var T,A=A||[];Zr(a,u,(T=o[l]).a,T.b,void 0,A),l++}(u.length>0||c.length>0||A)&&Dr(t,8,e,{w:u,x:c,y:A})}var Vr="_elmW6BL";function Zr(n,r,t,e,u,a){var c=n[t];if(!c)return a.push({r:u,A:c={c:0,z:e,r:u,s:void 0}}),void(n[t]=c);if(1===c.c){a.push({r:u,A:c}),c.c=2;var i=[];return Pr(c.z,e,i,c.r),c.r=u,void(c.s.s={w:i,A:c})}Zr(n,r,t+Vr,e,u,a)}function Jr(n,r,t,e,u){var a=n[t];if(a){if(0===a.c){a.c=2;var c=[];return Pr(e,a.z,c,u),void Dr(r,9,u,{w:c,A:a})}Jr(n,r,t+Vr,e,u)}else{var i=Dr(r,9,u,void 0);n[t]={c:1,z:e,r:u,s:i}}}function Ur(n,r,t,e){return 0===t.length?n:(function n(r,t,e,u){!function r(t,e,u,a,c,i,o){for(var f=u[a],s=f.r;s===c;){var b=f.$;if(1===b)n(t,e.k,f.s,o);else if(8===b)f.t=t,f.u=o,(l=f.s.w).length>0&&r(t,e,l,0,c,i,o);else if(9===b){f.t=t,f.u=o;var l,d=f.s;d&&(d.A.s=t,(l=d.w).length>0&&r(t,e,l,0,c,i,o))}else f.t=t,f.u=o;if(!(f=u[++a])||(s=f.r)>i)return a}var v=e.$;if(4===v){for(var h=e.k;4===h.$;)h=h.k;return r(t,h,u,a,c+1,i,t.elm_event_node_ref)}for(var p=e.e,g=t.childNodes,m=0;p.length>m;m++){var $=1===v?p[m]:p[m].b,w=++c+($.b||0);if(!(c>s||s>w||(f=u[a=r(g[m],$,u,a,c,w,o)])&&(s=f.r)<=i))return a;c=w}return a}(r,t,e,0,0,t.b,u)}(n,r,t,e),Gr(n,t))}function Gr(n,r){for(var t=0;r.length>t;t++){var e=r[t],u=e.t,a=Qr(u,e);u===n&&(n=a)}return n}function Qr(n,r){switch(r.$){case 0:return function(n){var t=n.parentNode,e=Fr(r.s,r.u);return e.elm_event_node_ref||(e.elm_event_node_ref=n.elm_event_node_ref),t&&e!==n&&t.replaceChild(e,n),e}(n);case 4:return _r(n,r.u,r.s),n;case 3:return n.replaceData(0,n.length,r.s),n;case 1:return Gr(n,r.s);case 2:return n.elm_event_node_ref?n.elm_event_node_ref.j=r.s:n.elm_event_node_ref={j:r.s,p:r.u},n;case 6:for(var t=r.s,e=0;t.i>e;e++)n.removeChild(n.childNodes[t.v]);return n;case 7:for(var u=(t=r.s).e,a=n.childNodes[e=t.v];u.length>e;e++)n.insertBefore(Fr(u[e],r.u),a);return n;case 9:if(!(t=r.s))return n.parentNode.removeChild(n),n;var c=t.A;return void 0!==c.r&&n.parentNode.removeChild(n),c.s=Gr(n,t.w),n;case 8:return function(n,r){var t=r.s,e=function(n,r){if(n){for(var t=br.createDocumentFragment(),e=0;n.length>e;e++){var u=n[e].A;lr(t,2===u.c?u.s:Fr(u.z,r.u))}return t}}(t.y,r);n=Gr(n,t.w);for(var u=t.x,a=0;u.length>a;a++){var c=u[a],i=c.A,o=2===i.c?i.s:Fr(i.z,r.u);n.insertBefore(o,n.childNodes[c.r])}return e&&lr(n,e),n}(n,r);case 5:return r.s(n);default:N(10)}}var Xr=u(function(n,r,t,e){return function(n,r,t,e,u,a){var c=s(gn,n,En(r?r.flags:void 0));Wt(c)||N(2);var i={},o=(c=t(c.a)).a,f=a(l,o),b=function(n,r){var t;for(var e in Bn){var u=Bn[e];u.a&&((t=t||{})[e]=u.a(e,r)),n[e]=Wn(u,r)}return t}(i,l);function l(n,r){f(o=(c=s(e,n,o)).a,r),Gn(i,c.b,u(o))}return Gn(i,c.b,u(o)),b?{ports:b}:{}}(r,e,n.eF,n.gi,n.fW,function(r,t){var e=n.aS&&n.aS(r),u=n.gk,a=br.title,c=br.body,i=function n(r){if(3===r.nodeType)return dr(r.textContent);if(1!==r.nodeType)return dr("");for(var t=g,e=r.attributes,u=e.length;u--;){var a=e[u];t=m(s(yr,a.name,a.value),t)}var c=r.tagName.toLowerCase(),i=g,o=r.childNodes;for(u=o.length;u--;)i=m(n(o[u]),i);return b(hr,c,t,i)}(c);return function(n,r){r(n);var t=0;function e(){t=1===t?0:(Kr(e),r(n),1)}return function(u,a){n=u,a?(r(n),2===t&&(t=1)):(0===t&&Kr(e),t=2)}}(t,function(n){cr=e;var t=u(n),o=hr("body")(g)(t.dQ),f=function(n,r){var t=[];return Pr(n,r,t,0),t}(i,o);c=Ur(c,i,f,r),i=o,cr=0,a!==t.gb&&(br.title=a=t.gb)})})}),Kr=("undefined"!=typeof cancelAnimationFrame&&cancelAnimationFrame,"undefined"!=typeof requestAnimationFrame?requestAnimationFrame:function(n){return setTimeout(n,1e3/60)});var Yr={addEventListener:function(){},removeEventListener:function(){}},nt="undefined"!=typeof document?document:Yr,rt="undefined"!=typeof window?window:Yr,tt=e(function(n,r,t){return Hn(On(function(){function e(n){Cn(t(n))}return n.addEventListener(r,e,Ir&&{passive:!0}),function(){n.removeEventListener(r,e)}}))}),et=t(function(n,r){var t=mn(n,r);return Wt(t)?Pt(t.a):St});var ut=t(function(n,r){return function(n,r){return On(function(t){Kr(function(){var e=document.getElementById(n);t(e?Ln(r(e)):{$:1,a:ga(n)})})})}(r,function(r){return r[n](),L})}),at=a(function(n,r,t,e,u){for(var a=n.length,c=u.length>=r+a,i=0;c&&a>i;){var o=u.charCodeAt(r);c=n[i++]===u[r++]&&(10===o?(t++,e=1):(e++,55296==(63488&o)?n[i++]===u[r++]:1))}return F(c?r:-1,t,e)}),ct=e(function(n,r,t){return t.length>r?55296==(63488&t.charCodeAt(r))?n(_(t.substr(r,2)))?r+2:-1:n(_(t[r]))?"\n"===t[r]?-2:r+1:-1:-1}),it=t(function(n,r){var t="g";n.e_&&(t+="m"),n.d$&&(t+="i");try{return Pt(RegExp(r,t))}catch(n){return St}}),ot=t(function(n,r){return null!==r.match(n)}),ft=u(function(n,r,t,e){var u=0;return e.replace(r,function(r){if(u++>=n)return r;for(var e=arguments.length-3,a=Array(e);e>0;){var c=arguments[e];a[--e]=c?Pt(c):St}return t(l(Ng,r,arguments[arguments.length-2],u,w(a)))})}),st=u(function(n,r,t,e){return{$:0,a:n,b:r,c:t,d:e}}),bt=1,lt=2,dt=0,vt=e(function(n,r,t){for(;;){if(-2===t.$)return r;var e=t.d,u=n,a=b(n,t.b,t.c,b(vt,n,r,t.e));n=u,r=a,t=e}}),ht=$,pt=function(n){return b(vt,e(function(n,r,t){return s(ht,O(n,r),t)}),g,n)},gt=function(n){return b(vt,e(function(n,r,t){return s(ht,n,t)}),g,n)},mt=function(n){return gt(n)},$t=S,wt=t(function(n,r){return W(r)/W(n)}),xt=function(n){return n},yt=$t(s(wt,2,32)),kt=[],zt=l(st,0,yt,kt,kt),It=R,Et=e(function(n,r,t){for(;;){if(!t.b)return r;var e=t.b,u=n,a=s(n,t.a,r);n=u,r=a,t=e}}),Tt=function(n){return b(Et,ht,g,n)},At=t(function(n,r){for(;;){var t=s(It,32,n),e=t.b,u=s(ht,{$:0,a:t.a},r);if(!e.b)return Tt(u);n=e,r=u}}),Lt=t(function(n,r){return r(n)}),Ot=function(n){return n.a},Ft=t(function(n,r){for(;;){var t=$t(r/32);if(1===t)return s(It,32,n).a;n=s(At,n,g),r=t}}),_t=t(function(n,r){return n(r)}),jt=B,Ct=t(function(n,r){return T(n,r)>0?n:r}),Ht=function(n){return n.length},Mt=t(function(n,r){if(r.k){var t=32*r.k,e=jt(s(wt,32,t-1)),u=n?Tt(r.n):r.n,a=s(Ft,u,r.k);return l(st,Ht(r.m)+t,s(Ct,5,e*yt),a,r.m)}return l(st,Ht(r.m),yt,kt,r.m)}),Rt=M,Nt=a(function(n,r,t,e,u){for(;;){if(0>r)return s(Mt,!1,{n:e,k:t/32|0,m:u});var a={$:1,a:b(Rt,32,r,n)};n=n,r-=32,t=t,e=s(ht,a,e),u=u}}),Dt=t(function(n,r){if(n>0){var t=n%32;return d(Nt,r,n-t-32,n,g,b(Rt,t,n-t,r))}return zt}),Pt=function(n){return{$:0,a:n}},St={$:1},Bt=function(n){return{$:1,a:n}},qt=function(n){return{$:0,a:n}},Wt=function(n){return!n.$},Vt=t(function(n,r){return{$:3,a:n,b:r}}),Zt=t(function(n,r){return{$:0,a:n,b:r}}),Jt=t(function(n,r){return{$:1,a:n,b:r}}),Ut=function(n){return{$:2,a:n}},Gt=V,Qt=C,Xt=function(n){var r=n.charCodeAt(0);return 55296>r||r>56319?r:1024*(r-55296)+n.charCodeAt(1)-56320+65536},Kt=function(n){var r=Xt(n);return r>=97&&122>=r},Yt=function(n){var r=Xt(n);return 90>=r&&r>=65},ne=function(n){return Kt(n)||Yt(n)},re=function(n){var r=Xt(n);return 57>=r&&r>=48},te=function(n){return Kt(n)||Yt(n)||re(n)},ee=function(n){return b(Et,t(function(n,r){return r+1}),0,n)},ue=y,ae=e(function(n,r,t){for(;;){if(T(n,r)>=1)return t;var e=n,u=r-1,a=s(ht,r,t);n=e,r=u,t=a}}),ce=t(function(n,r){return b(ae,n,r,g)}),ie=t(function(n,r){return b(ue,n,s(ce,0,ee(r)-1),r)}),oe=Y,fe=rn,se=t(function(n,r){return s(X,n,x(r))}),be=t(function(n,r){return w(s(Q,n,r))}),le=function(n){return s(se,"\n    ",s(be,"\n",n))},de=In,ve=t(function(n,r){return"\n\n("+fe(n+1)+") "+le(he(r))}),he=function(n){return s(pe,n,g)},pe=t(function(n,r){n:for(;;)switch(n.$){case 0:var t=n.a,e=n.b,u=function(){var n,r,e=(r=(n=t).charCodeAt(0))?Pt(55296>r||r>56319?O(_(n[0]),n.slice(1)):O(_(n[0]+n[1]),n.slice(2))):St;if(1===e.$)return!1;var u=e.a,a=u.b;return ne(u.a)&&s(oe,te,a)}();n=e,r=s(ht,u?"."+t:"['"+t+"']",r);continue n;case 1:e=n.b;var a="["+fe(n.a)+"]";n=e,r=s(ht,a,r);continue n;case 2:var c=n.a;if(c.b){if(c.b.b){var i=(r.b?"The Json.Decode.oneOf at json"+s(se,"",Tt(r)):"Json.Decode.oneOf")+" failed in the following "+fe(ee(c))+" ways:";return s(se,"\n\n",s(ht,i,s(ie,ve,c)))}n=e=c.a,r=r;continue n}return"Ran into a Json.Decode.oneOf with no possibilities"+(r.b?" at json"+s(se,"",Tt(r)):"!");default:var o=n.a,f=n.b;return(i=r.b?"Problem with the value at json"+s(se,"",Tt(r))+":\n\n    ":"Problem with the given value:\n\n")+le(s(de,4,f))+"\n\n"+o}}),ge=on,me=ln,$e=cn,we=function(n){return{$:3,b:n}},xe=we(b(me,t(function(n,r){return O(n,r)}),s(ge,"id",$e),s(ge,"name",$e))),ye=en,ke=b(me,t(function(n,r){return O(n,r)}),s(ge,"id",ye),s(ge,"name",$e)),ze={$:-2},Ie=ze,Ee=a(function(n,r,t,e,u){return{$:-1,a:n,b:r,c:t,d:e,e:u}}),Te=A,Ae=a(function(n,r,t,e,u){if(-1!==u.$||u.a){if(-1!==e.$||e.a||-1!==e.d.$||e.d.a)return d(Ee,n,r,t,e,u);var a=e.d;return c=e.e,d(Ee,0,e.b,e.c,d(Ee,1,a.b,a.c,a.d,a.e),d(Ee,1,r,t,c,u))}var c,i=u.b,o=u.c,f=u.d,s=u.e;return-1!==e.$||e.a?d(Ee,n,i,o,d(Ee,0,r,t,e,f),s):d(Ee,0,r,t,d(Ee,1,e.b,e.c,e.d,c=e.e),d(Ee,1,i,o,f,s))}),Le=e(function(n,r,t){if(-2===t.$)return d(Ee,0,n,r,ze,ze);var e=t.a,u=t.b,a=t.c,c=t.d,i=t.e;switch(s(Te,n,u)){case 0:return d(Ae,e,u,a,b(Le,n,r,c),i);case 1:return d(Ee,e,u,r,c,i);default:return d(Ae,e,u,a,c,b(Le,n,r,i))}}),Oe=e(function(n,r,t){var e=b(Le,n,r,t);return-1!==e.$||e.a?e:d(Ee,1,e.b,e.c,e.d,e.e)}),Fe=function(n){return b(Et,t(function(n,r){return b(Oe,n.a,n.b,r)}),Ie,n)},_e=bn,je=s(_e,Fe,we(ke)),Ce=function(n){return{$:0,a:n}},He=h(vn,c(function(n,r,t,e,u,a){return{eg:t,cs:u,bH:n,eT:a,bN:r,dn:e}}),s(ge,"id",ye),s(ge,"name",$e),s(ge,"description",$e),s(ge,"type",$e),s(ge,"formats",we(ye)),Ce(St)),Me=we(He),Re=e(function(n,r,t){return{d6:t,cs:n,fn:r}}),Ne=l(dn,Re,s(ge,"formats",je),s(ge,"products",Me),s(ge,"communes",xe)),De=t(function(n,r){return r.$?Bt(n(r.a)):qt(r.a)}),Pe=e(function(n,r,t){return r(n(t))}),Se=function(n){return n},Be=t(function(n,r){n:for(;;){if(-2===r.$)return St;var t=r.c,e=r.d,u=r.e;switch(s(Te,n,r.b)){case 0:n=n,r=e;continue n;case 1:return Pt(t);default:n=n,r=u;continue n}}}),qe=function(n){if(-1===n.$&&-1===n.d.$&&-1===n.e.$){if(-1!==n.e.d.$||n.e.d.a){var r=n.d,t=n.e;return c=t.b,i=t.c,e=t.d,s=t.e,d(Ee,1,n.b,n.c,d(Ee,0,r.b,r.c,r.d,r.e),d(Ee,0,c,i,e,s))}var e,u=n.d,a=n.e,c=a.b,i=a.c,o=(e=a.d).d,f=e.e,s=a.e;return d(Ee,0,e.b,e.c,d(Ee,1,n.b,n.c,d(Ee,0,u.b,u.c,u.d,u.e),o),d(Ee,1,c,i,f,s))}return n},We=function(n){if(-1===n.$&&-1===n.d.$&&-1===n.e.$){if(-1!==n.d.d.$||n.d.d.a){var r=n.d,t=n.e;return f=t.b,s=t.c,b=t.d,l=t.e,d(Ee,1,e=n.b,u=n.c,d(Ee,0,r.b,r.c,r.d,i=r.e),d(Ee,0,f,s,b,l))}var e=n.b,u=n.c,a=n.d,c=a.d,i=a.e,o=n.e,f=o.b,s=o.c,b=o.d,l=o.e;return d(Ee,0,a.b,a.c,d(Ee,1,c.b,c.c,c.d,c.e),d(Ee,1,e,u,i,d(Ee,0,f,s,b,l)))}return n},Ve=i(function(n,r,t,e,u,a,c){if(-1!==a.$||a.a){n:for(;;){if(-1===c.$&&1===c.a){if(-1===c.d.$){if(1===c.d.a)return We(r);break n}return We(r)}break n}return r}return d(Ee,t,a.b,a.c,a.d,d(Ee,0,e,u,a.e,c))}),Ze=function(n){if(-1===n.$&&-1===n.d.$){var r=n.a,t=n.b,e=n.c,u=n.d,a=u.d,c=n.e;if(1===u.a){if(-1!==a.$||a.a){var i=qe(n);if(-1===i.$){var o=i.e;return d(Ae,i.a,i.b,i.c,Ze(i.d),o)}return ze}return d(Ee,r,t,e,Ze(u),c)}return d(Ee,r,t,e,Ze(u),c)}return ze},Je=t(function(n,r){if(-2===r.$)return ze;var t=r.a,e=r.b,u=r.c,a=r.d,c=r.e;if(0>T(n,e)){if(-1===a.$&&1===a.a){var i=a.d;if(-1!==i.$||i.a){var o=qe(r);if(-1===o.$){var f=o.e;return d(Ae,o.a,o.b,o.c,s(Je,n,o.d),f)}return ze}return d(Ee,t,e,u,s(Je,n,a),c)}return d(Ee,t,e,u,s(Je,n,a),c)}return s(Ue,n,h(Ve,n,r,t,e,u,a,c))}),Ue=t(function(n,r){if(-1===r.$){var t=r.a,e=r.b,u=r.c,a=r.d,c=r.e;if(I(n,e)){var i=function(n){for(;;){if(-1!==n.$||-1!==n.d.$)return n;n=n.d}}(c);return-1===i.$?d(Ae,t,i.b,i.c,a,Ze(c)):ze}return d(Ae,t,e,u,a,s(Je,n,c))}return ze}),Ge=t(function(n,r){var t=s(Je,n,r);return-1!==t.$||t.a?t:d(Ee,1,t.b,t.c,t.d,t.e)}),Qe=e(function(n,r,t){var e=r(s(Be,n,t));return e.$?s(Ge,n,t):b(Oe,n,e.a,t)}),Xe=function(n){return!n.$},Ke=Vn,Ye=Zn,nu=t(function(n,r){return r.$?Bt(r.a):qt(n(r.a))}),ru=t(function(n,r){return{$:3,a:n,b:r}}),tu=function(n){return{$:0,a:n}},eu=t(function(n,r){return{$:4,a:n,b:r}}),uu={$:2},au=function(n){return{$:1,a:n}},cu=function(n){return{$:0,a:n}},iu={$:1},ou=t(function(n,r){return b(ir,"",Se,s(Pe,r,n))}),fu=function(n){return{$:4,a:n}},su={$:2},bu={$:1},lu=t(function(n,r){switch(r.$){case 0:return Bt({$:0,a:r.a});case 1:return Bt(bu);case 2:return Bt(su);case 3:return Bt({$:3,a:r.a.dd});default:return s(De,fu,n(r.b))}}),du=pn,vu=t(function(n,r){return s(ou,n,lu(function(n){return s(De,he,s(du,r,n))}))}),hu={$:0},pu=function(n){return{$:1,a:n}},gu=Ln,mu=t(function(n,r){return{c2:n,de:r}}),$u=gu(s(mu,Ie,g)),wu=Fn,xu=function(n){return On(function(r){var t=n.f;2===t.$&&t.c&&t.c(),n.f=null,r(Ln(L))})},yu=Hn,ku=e(function(n,r,t){n:for(;;){if(r.b){var e=r.a,u=r.b;if(e.$){var a=e.a;return s(wu,function(r){var e=a.gg;return b(ku,n,u,1===e.$?t:b(Oe,e.a,r,t))},yu(b(ur,n,Ke(n),a)))}var c=e.a,i=s(Be,c,t);if(1===i.$){n=n,r=u,t=t;continue n}return s(wu,function(){return b(ku,n,u,s(Ge,c,t))},xu(i.a))}return gu(t)}}),zu=u(function(n,r,t,e){return s(wu,function(n){return gu(s(mu,n,t))},b(ku,n,r,e.c2))}),Iu=u(function(n,r,t,e){if(e.b){var u=e.a,a=e.b;if(a.b){var c=a.a,i=a.b;if(i.b){var o=i.a,f=i.b;if(f.b){var d=f.b;return s(n,u,s(n,c,s(n,o,s(n,f.a,t>500?b(Et,n,r,Tt(d)):l(Iu,n,r,t+1,d)))))}return s(n,u,s(n,c,s(n,o,r)))}return s(n,u,s(n,c,r))}return s(n,u,r)}return r}),Eu=e(function(n,r,t){return l(Iu,n,r,0,t)}),Tu=e(function(n,r,t){var e=n(r);return e.$?t:s(ht,e.a,t)}),Au=t(function(n,r){return b(Eu,Tu(n),g,r)}),Lu=e(function(n,r,t){return s(wu,function(r){return s(wu,function(t){return gu(s(n,r,t))},t)},r)}),Ou=function(n){return b(Eu,Lu(ht),gu(g),n)},Fu=u(function(n,r,t,e){var u=e.b;return I(r,e.a)?Pt(s(Ke,n,u(t))):St}),_u=e(function(n,r,t){return s(wu,function(){return gu(t)},Ou(s(Au,b(Fu,n,r.a,r.b),t.de)))}),ju=t(function(n,r){if(r.$){var t=r.a;return pu({ak:t.ak,dQ:t.dQ,bb:s(or,n,t.bb),et:t.et,eX:t.eX,ga:t.ga,gg:t.gg,bu:t.bu})}return{$:0,a:r.a}}),Cu=t(function(n,r){return{$:0,a:n,b:r}});Bn.Http=qn($u,zu,_u,ju,t(function(n,r){return s(Cu,r.a,s(Pe,r.b,n))}));var Hu=Jn("Http"),Mu=(Jn("Http"),function(n){return Hu(pu({ak:!1,dQ:n.dQ,bb:n.bb,et:n.et,eX:n.eX,ga:n.ga,gg:n.gg,bu:n.bu}))}),Ru=function(n){return Mu({dQ:hu,bb:n.bb,et:g,eX:"GET",ga:St,gg:St,bu:n.bu})},Nu=function(n){return{$:1,a:n}},Du=function(n){return{$:1,a:n}},Pu=function(n){return{$:0,a:n}},Su=function(n){return{$:4,a:n}},Bu=q,qu=Un,Wu=Ie,Vu=t(function(n,r){return b(Oe,n,0,r)}),Zu=function(n){return b(Et,Vu,Wu,n)},Ju=gu(0),Uu=t(function(n,r){return b(Eu,t(function(r,t){return s(ht,n(r),t)}),g,r)}),Gu=t(function(n,r){return s(wu,function(r){return gu(n(r))},r)}),Qu=t(function(n,r){var t=r;return Hn(s(wu,Ke(n),t))});Bn.Task=qn(Ju,e(function(n,r){return s(Gu,function(){return 0},Ou(s(Uu,Qu(n),r)))}),e(function(){return gu(0)}),t(function(n,r){return s(Gu,n,r)}));var Xu,Ku=Jn("Task"),Yu=t(function(n,r){return Ku(s(Gu,n,r))}),na=t(function(n,r){return{$:0,a:n,b:r}}),ra=na,ta=On(function(n){n(Ln(s(ra,-(new Date).getTimezoneOffset(),g)))}),ea=Se,ua=(Xu=ea,On(function(n){n(Ln(Xu(Date.now())))})),aa=s(na,0,g),ca=rr("getOrdersFromCache",$e),ia=an,oa=rr("mapConfigChanged",ia),fa={$:16},sa=function(n){return{$:23,a:n}},ba=t(function(n,r){return{$:2,a:n,b:r}}),la=e(function(n,r,t){return{$:0,a:n,b:r,c:t}}),da=t(function(n,r){return{cT:r,de:n}}),va=gu(s(da,g,Ie)),ha=function(n){return O(H(n.a?"w_":"d_",n.b),n)},pa=t(function(n,r){return{co:r,cG:n}}),ga=Se,ma=function(n){for(;;)n=n},$a=function(n){switch(n.$){case 0:return 0;case 1:return 1;case 2:return 2;default:return 3}},wa=function(n){return n.length},xa=K,ya=t(function(n,r){return 1>n?r:b(xa,n,wa(r),r)}),ka=nn,za=function(n){return""===n},Ia=e(function(n,r,t){return s(Gu,function(n){return O(r,n)},b(tt,t.a?rt:nt,t.b,function(t){return s(Ye,n,s(pa,r,t))}))}),Ea=e(function(n,r,t){for(;;){if(-2===t.$)return r;var e=t.e,u=n,a=b(n,t.b,t.c,b(Ea,n,r,t.d));n=u,r=a,t=e}}),Ta=c(function(n,r,u,a,c,i){var o=b(Ea,e(function(t,e,a){n:for(;;){var c=a.a,i=a.b;if(c.b){var o=c.a,f=o.a,s=o.b,d=c.b;if(0>T(f,t)){t=t,e=e,a=O(d,b(n,f,s,i));continue n}return T(f,t)>0?O(c,b(u,t,e,i)):O(d,l(r,f,s,e,i))}return O(c,b(u,t,e,i))}}),O(pt(a),i),c),f=o.a,s=o.b;return b(Et,t(function(r,t){return b(n,r.a,r.b,t)}),s,f)}),Aa=t(function(n,r){return b(Ea,Oe,r,n)});Bn["Browser.Events"]=qn(va,e(function(n,r,t){var a=e(function(r,t,e){var u=e.c;return F(e.a,e.b,s(ht,b(Ia,n,r,t),u))}),c=e(function(n,r,t){var e=t.b,u=t.c;return F(s(ht,r,t.a),e,u)}),i=u(function(n,r,t,e){var u=e.c;return F(e.a,b(Oe,n,r,e.b),u)}),o=s(Uu,ha,r),f=v(Ta,c,i,a,t.cT,Fe(o),F(g,Ie,g)),l=f.b,d=f.c;return s(wu,function(n){return gu(s(da,o,s(Aa,l,Fe(n))))},s(wu,function(){return Ou(d)},Ou(s(Uu,xu,f.a))))}),e(function(n,r,t){var e=r.cG,u=r.co,a=s(Au,function(n){var r=n.b.c;return I(n.a,e)?s(et,r,u):St},t.de);return s(wu,function(){return gu(t)},Ou(s(Uu,Ke(n),a)))}),0,t(function(n,r){return b(la,r.a,r.b,s(_e,n,r.c))}));var La=Jn("Browser.Events"),Oa=e(function(n,r,t){return La(b(la,n,r,t))}),Fa=t(function(n){return n}),_a=function(n){return!n},ja=t(function(n,r){for(;;){if(-2===r.$)return n;var t=r.d;n=s(ja,n+1,r.e),r=t}}),Ca=Un,Ha=Ca(g),Ma=t(function(n,r){return{$:0,a:n,b:r}}),Ra=t(function(n,r){return{cY:r,dg:n}}),Na=gu(s(Ra,Ie,Ie)),Da=t(function(n,r){var t=n.a,e=n.b,u=s(Be,t,r);return b(Oe,t,1===u.$?w([e]):s(ht,e,u.a),r)}),Pa=sr,Sa=e(function(n,r,t){if(r.b){var e=r.a,u=r.b,a=yu(s(Pa,e,s(Ye,n,e)));return s(wu,function(r){return b(Sa,n,u,b(Oe,e,r,t))},a)}return gu(t)}),Ba=e(function(n,r,t){var a=t.cY,c=e(function(n,r,t){var e=t.c;return F(t.a,t.b,s(wu,function(){return e},xu(r)))}),i=b(Et,Da,Ie,r),o=v(Ta,e(function(n,r,t){var e=t.b,u=t.c;return F(s(ht,n,t.a),e,u)}),u(function(n,r,t,e){var u=e.c;return F(e.a,b(Oe,n,t,e.b),u)}),c,i,a,F(g,Ie,gu(0))),f=o.a,l=o.b;return s(wu,function(n){return gu(s(Ra,i,n))},s(wu,function(){return b(Sa,n,f,l)},o.c))}),qa=e(function(n,r,t){var e=s(Be,r,t.dg);if(1===e.$)return gu(t);var u=e.a;return s(wu,function(){return gu(t)},s(wu,function(r){return Ou(s(Uu,function(t){return s(Ke,n,t(r))},u))},ua))}),Wa=e(function(n,r,t){return n(r(t))});Bn.Time=qn(Na,Ba,qa,0,t(function(n,r){return s(Ma,r.a,s(Wa,n,r.b))}));var Va,Za,Ja,Ua,Ga,Qa,Xa,Ka,Ya,nc,rc,tc=Jn("Time"),ec=t(function(n,r){return tc(s(Ma,n,r))}),uc=me(Lt),ac=sn,cc=gn,ic=function(n){return{$:1,a:n}},oc=function(n){return{$:11,g:n}},fc=e(function(n,r,t){return s(ac,function(e){var u=s(cc,n,e);if(u.$)return Ce(t);var a,c=u.a,i=s(cc,oc(w([r,(a=t,{$:5,c:a})])),c);return i.$?ic(he(i.a)):Ce(i.a)},ia)}),sc=u(function(n,r,t,e){return s(uc,b(fc,s(ge,n,ia),r,t),e)}),bc=e(function(n,r,t){return s(uc,s(ge,n,r),t)}),lc=un,dc=(Va=function(n){return"Array has too "+n+" numbers to make a position"},s(ac,function(n){return n.b&&n.b.b?n.b.b.b?ic(Va("many")):Ce(O(n.a,n.b.a)):ic(Va("few"))},we(lc))),vc=i(function(n,r,t,e,u,a,c){return{dZ:e,d0:n,el:t,e0:a,cR:c,fl:u,gt:r}}),hc=l(sc,"perimeter",$e,"box",l(sc,"oltool",$e,"none",l(sc,"polygon",we(we(dc)),w([g]),l(sc,"box",we(we(dc)),w([g]),b(bc,"extent",we(lc),b(bc,"zoom",lc,b(bc,"center",dc,Ce(vc)))))))),pc=cc(hc),gc=s(Pe,Ce,uc),mc=t(function(n,r){return{ci:n,dn:r}}),$c=b(bc,"type",$e,b(bc,"coordinates",we(we(dc)),Ce(mc))),wc=t(function(n,r){return{eq:n,fm:r}}),xc=b(bc,"product_id",ye,b(bc,"format_id",ye,Ce(wc))),yc=i(function(n,r,t,e,u,a,c){return{cm:n,fe:r,ff:t,fg:e,fh:u,fi:a,fn:c}}),kc=hn,zc=function(n){return oc(w([s(_e,Pt,n),Ce(St)]))},Ic=p(kc,yc,s(ge,"email",$e),zc(s(ge,"pdir_coordsys",$e)),zc(s(ge,"pdir_polygon",$c)),s(ge,"perimeter_type",$e),zc(s(ge,"pindir_ident",we($e))),zc(s(ge,"pindir_layer_name",$e)),s(ge,"products",we(xc))),Ec=f(function(n,r,t,e,u,a,c,i,o){return{cl:o,en:a,eI:r,e8:c,e9:i,fa:n,fN:t,fP:e,fV:u}}),Tc=s(gc,!1,l(sc,"orderTitle",$e,"",b(bc,"order",Ic,b(bc,"finished",$e,b(bc,"submitted",$e,b(bc,"status_code",ye,b(bc,"status",$e,b(bc,"internal_id",ye,b(bc,"order_id",$e,Ce(Ec)))))))))),Ac=(Za=Tc,s(_e,Fe,function(n){return{$:8,b:n}}(Za))),Lc=t(function(n,r){return En(b(Et,function(n){return t(function(r,t){return t.push(Tn(n(r))),t})}(n),[],r))}),Oc=e(function(n,r,t){var e=t.b;return s(Lc,Se,w([n(t.a),r(e)]))}),Fc=En,_c=function(n){return b(Oc,Fc,Fc,O(n.a,n.b))},jc=function(n){return s(Lc,_c,n)},Cc=function(n){return En(b(Et,t(function(n,r){return b(An,n.a,n.b,r)}),{},n))},Hc=En,Mc=En,Rc=function(n){return Cc(w([O("format_id",Mc(n.eq)),O("product_id",Mc(n.fm))]))},Nc={ci:w([w([O(0,0)])]),dn:"point"},Dc=t(function(n,r){return r.$?n:r.a}),Pc=function(n){return Cc(w([O("order_id",Hc(n.fa)),O("internal_id",Mc(n.eI)),O("status",Hc(n.fN)),O("status_code",Mc(n.fP)),O("submitted",Hc(n.fV)),O("finished",Hc(n.en)),O("order",(r=n.e8,Cc(w([O("email",Hc(r.cm)),O("pdir_coordsys",Hc(s(Dc,"LV95",r.fe))),O("pdir_polygon",(u=s(Dc,Nc,r.ff),Cc(w([O("coordinates",s(Lc,jc,u.ci)),O("type",Hc(u.dn))])))),O("perimeter_type",Hc(r.fg)),O("pindir_ident",(e=s(Dc,w([""]),r.fh),s(Lc,Hc,e))),O("pindir_layer_name",Hc(s(Dc,"COMMUNE",r.fi))),O("products",(t=r.fn,s(Lc,Rc,t)))])))),O("orderTitle",Hc(n.e9))]));var r,t,e,u},Sc=e(function(n,r,t){return En(b(Ea,e(function(t,e,u){return b(An,n(t),r(e),u)}),{},t))}),Bc=s(Sc,Se,Pc),qc=s(ge,"order_id",$e),Wc=function(n){var r=n.b;return Cc(w([O("product_id",Mc(n.a)),O("format_id",Mc(r))]))},Vc=function(n){var r=function(){switch(n.cR){case"box":return n.dZ;case"polygon":return n.fl;case"extent":var r=n.el;if(r.b&&r.b.b&&r.b.b.b&&r.b.b.b.b&&!r.b.b.b.b.b){var t=r.a,e=r.b,u=e.a,a=e.b,c=a.a,i=a.b.a;return w([w([O(t,u),O(t,i),O(c,i),O(c,u),O(t,u)])])}return w([g]);default:return w([g])}}(),t=function(n){return s(Lc,Fc,w([n.a,n.b]))};return s(Lc,function(n){return s(Lc,t,n)},r)},Zc=function(n){var r,t=function(){switch(n.cI.cR){case"gemeinde":case"parzelle":return"INDIRECT";default:return"DIRECT"}}();return Cc(w([O("email",Hc(n.cm)),O("perimeter_type",Hc(t)),O("pdir_polygon",(r=n.cI,Cc(w([O("type",Hc("Polygon")),O("coordinates",Vc(r))])))),O("pdir_coordsys",Hc("LV95")),O("products",s(Lc,Wc,mt(n.gl)))]))},Jc=t(function(n,r){return{$:0,a:n,b:r}}),Uc=Jc,Gc=t(function(n,r){var t,e=w([s(Uc,"Content-Type","application/json; charset=UTF-8")]);return Mu({dQ:(t=Zc(n),s(fr,"application/json",s(de,0,t))),bb:s(vu,r,qc),et:e,eX:"POST",ga:St,gg:St,bu:"https://geoservices.zh.ch/geoshopapi/v1/orders"})}),Qc=function(n){return"https://geoservices.zh.ch/geoshopapi/v1/orders/"+n},Xc=t(function(n,r){return Ru({bb:s(vu,r,Tc),bu:Qc(n)})}),Kc=Kn("setOlAction",Hc),Yc=Kn("setOlConfig",function(n){return Cc(w([O("box",Lc(Lc(function(n){var r=n.b;return s(Lc,Se,w([Fc(n.a),Fc(r)]))}))(n.dZ)),O("center",function(n){var r=n.b;return s(Lc,Se,w([Fc(n.a),Fc(r)]))}(n.d0)),O("extent",Lc(Fc)(n.el)),O("oltool",Hc(n.e0)),O("perimeter",Hc(n.cR)),O("polygon",Lc(Lc(function(n){var r=n.b;return s(Lc,Se,w([Fc(n.a),Fc(r)]))}))(n.fl)),O("zoom",Fc(n.gt))]))}),ni=Kn("storeOrdersInCache",Hc),ri=function(n){switch(n.$){case 0:return"Url nicht gültig: "+n.a;case 1:return"Http Timeout";case 2:return"Netzwerk-Fehler (Bist du offline?)";case 3:return"Webseite kann nicht geladen werden (Http Status-Code: "+fe(n.a)+")";default:return"Aufruf-Parameter werden vom Server nicht (mehr?) verstanden: "+n.a}},ti={$:26},ei=ut("focus"),ui=_n,ai=t(function(n,r){return Ku(s(ui,s(Wa,s(Wa,gu,n),Bt),s(wu,s(Wa,s(Wa,gu,n),qt),r)))}),ci=t(function(n,r){return O(n,Yc(r))}),ii=function(n){return{$:14,a:n}},oi=function(n){return{$:15,a:n}},fi=t(function(n,r){return{eu:n,dr:r}}),si=t(function(n,r){return b(Ea,e(function(r,t,e){return s(n,r,t)?b(Oe,r,t,e):e}),Ie,r)}),bi=t(function(n,r){if(-2===r.$)return ze;var t=r.b,e=r.d,u=r.e;return d(Ee,r.a,t,s(n,t,r.c),s(bi,n,e),s(bi,n,u))}),li=function(n){return n.b?Pt(n.a):St},di=function(n){return n.b?Pt(b(Et,Ct,n.a,n.b)):St},vi=t(function(n,r){return 0>T(n,r)?n:r}),hi=function(n){return n.b?Pt(b(Et,vi,n.a,n.b)):St},pi=qu(g),gi=e(function(n,r,t){var u=t;return b(Ea,e(function(r,t,e){return s(n,r,e)}),r,u)}),mi=t(function(n,r){return Zu(b(gi,t(function(r,t){return s(ht,n(r),t)}),g,r))}),$i=t(function(n,r){return s(Ge,n,r)}),wi=t(function(n,r){switch(n.$){case 26:return O(r,pi);case 0:return O(j(r,{di:n.a}),pi);case 1:return O(j(r,{ea:n.a}),pi);case 10:return O(j(r,{cm:n.a}),pi);case 13:return O(j(r,{fO:"Bestellung wird ausgeführt"}),s(Gc,r,ii));case 14:if(n.a.$){var e=n.a.a;return O(j(r,{dx:Nu(4),fO:"Fehler: "+ri(e)}),pi)}var u=n.a.a;return O(j(r,{dx:Nu(4),fD:St,fO:"Daten werden aufbereitet",gl:Zu(g)}),s(Xc,u,oi));case 15:return n.a.$?O(j(r,{fO:"Fehler: "+ri(e=n.a.a)}),pi):O(j(r,{cO:o=b(Oe,(i=n.a.a).fa,i,r.cO),fO:"Daten werden aufbereitet - Status: "+i.fN}),ni(s(de,0,Bc(o))));case 20:var a=n.a,c=t(function(n,r){return I(r,a)?j(r,{cl:!r.cl}):j(r,{cl:!1})});return O(j(r,{cO:o=s(bi,c,r.cO),fO:b(Ea,t(function(n,r){return Gt(!r.cl)}),!0,o)?"":"Bezeichnung für die Bestellung eingeben"}),s(ai,function(){return ti},ei(a.fa)));case 21:var i=j(a=n.a,{e9:n.b});return O(j(r,{cO:o=b(Oe,a.fa,i,r.cO),fO:""}),ni(s(de,0,Bc(o))));case 18:var o;return O(j(r,{cO:o=s(Ge,n.a,r.cO),fO:"Bestellung gelöscht"}),ni(s(de,0,Bc(o))));case 19:var f=s(du,Ac,n.a);return O(j(r,{cO:1===f.$?Ie:f.a}),pi);case 16:var l=function(n){return s(Xc,n,oi)},d=gt(s(si,t(function(n,r){return""===r.en}),r.cO));return O(r,qu(s(Uu,l,d)));case 17:var v=wa((a=n.a).e9)>0?"Ausgewählte Bestellung: "+a.e9:"Ausgewählte Bestellung vom "+s(se," - ",s(be,"T",a.en)),h=a.e8,p=Zu(s(Uu,function(n){return O(n.fm,n.eq)},h.fn)),m=r.cI,$=function(){var n=h.ff;if(n.$)return Wu;var r=li(n.a.ci);return r.$?Wu:Zu(r.a)}(),x=s(mi,function(n){return n.a},$),y=s(Dc,2730200,di(mt(x))),k=s(Dc,2655600,hi(mt(x))),z=s(mi,function(n){return n.b},$),E=s(Dc,1252500,di(mt(z))),A=s(Dc,1225e3,hi(mt(z))),L=2===ee(mt(x))&&2===ee(mt(z))?"box":"polygon",F=function(n){if(I(L,n)){var r=h.ff;return r.$?g:r.a.ci}return g},_=j(m,{dZ:F("box"),d0:O((k+y)/2,(A+E)/2),el:w([k,A,y,E]),e0:"setCenter",cR:L,fl:F("polygon")});return O(j(r,{dx:Nu(3),cm:h.cm,cI:_,fO:v,gl:p}),Yc(_));case 24:return O(r,Kc("zoomToPeri"));case 25:return O(r,Kc("deletePeri"));case 23:var C=pc(n.a);return O(M=j(r,C.$?{fO:"GetMapConfigChanged Error: "+he(C.a)}:{cI:C.a}),pi);case 22:return s(ci,r,n.a);case 9:var H=j(r.cI,{cR:n.a}),M=j(r,{cI:H});return s(ci,M,H);case 2:var R=n.a,N=n.b,D=s(fi,N,R),P=r.dq,S=j(P.dq,{eu:N,dr:R}),B=j(P,{dq:S});return O(j(r,{eh:function(n){return{bA:n.dr>600?n.dr>600&&1200>=n.dr?1:n.dr>1200&&1800>=n.dr?2:3:0,fb:0>T(n.dr,n.eu)?0:1}}(D),dq:B}),pi);case 3:var q=n.a,W=I(q,Nu(1))?Yc(r.cI):s(Yu,Du,ua);return O(j(r,{dx:q,fD:St}),W);case 6:return O(j(r,{fD:Pt(V=n.a)}),pi);case 8:var V=n.a;return O(j(r,{dx:Nu(2),fD:Pt(V)}),pi);case 5:return O(j(r,{cZ:n.a}),pi);case 11:return O(j(r,{gl:s(Vu,n.a,r.gl)}),pi);case 12:return O(j(r,{gl:s($i,n.a,r.gl)}),pi);case 7:return O(j(r,{fD:St}),pi);default:return O(n.a.$?r:j(r,{ei:n.a.a}),pi)}}),xi=u(function(n,r,t,e){return{$:0,a:n,b:r,c:t,d:e}}),yi=u(function(n,r,t,e){return l(xi,n/255,r/255,t/255,e)}),ki=l(yi,238,238,236,1),zi={dL:St,dS:Pt(ki),fF:St},Ii={bJ:F(73,87,134),eP:F(97,117,165),bT:F(121,146,195),go:F(49,58,104),a$:F(146,175,225),du:F(24,29,74),gp:F(170,204,255),gq:F(0,0,44),gr:F(220,220,255)},Ei=(Ja=function(n){return l(yi,n.a,n.b,n.c,1)},{bJ:Ja(Ii.bJ),eP:Ja(Ii.eP),bT:Ja(Ii.bT),go:Ja(Ii.go),a$:Ja(Ii.a$),du:Ja(Ii.du),gp:Ja(Ii.gp),gq:Ja(Ii.gq),gr:Ja(Ii.gr)}),Ti=function(n){return{$:2,a:n}},Ai=Ti(1),Li=function(n){return{$:8,a:n}},Oi=Li,Fi=function(n){return n>31?{$:1,a:1<<n-32}:{$:0,a:1<<n}},_i=Fi(2),ji=a(function(n,r,t,e,u){return{$:7,a:n,b:r,c:t,d:e,e:u}}),Ci=t(function(n,r){return{$:4,a:n,b:r}}),Hi=function(n){return s(Ci,_i,d(ji,"p-"+fe(n),n,n,n,n))},Mi=Fi(3),Ri=e(function(n,r,t){return{$:5,a:n,b:r,c:t}}),Ni=t(function(n,r){return"spacing-"+fe(n)+"-"+fe(r)}),Di=function(n){return s(Ci,Mi,b(Ri,s(Ni,n,n),n,n))},Pi=function(n){return{$:7,a:n}},Si=Pi,Bi=function(n){return{$:2,a:n}},qi={$:9},Wi=function(n){return{$:0,a:n}},Vi={$:0},Zi=t(function(n,r){return{$:0,a:n,b:r}}),Ji=s(Zi,0,0),Ui={$:0},Gi=function(n){return!n.b},Qi=function(n){return{$:1,a:n}},Xi={$:0},Ki=function(n){return{$:1,a:n}},Yi=function(n){return{$:0,a:n}},no=t(function(n,r){switch(r.$){case 0:return n;case 1:return H(r.a,n);case 2:return H(n,r.a);default:return H(r.a,H(n,r.b))}}),ro=e(function(n,r,t){switch(t.$){case 0:return r;case 1:return H(s(Uu,function(r){return O(n,r)},t.a),r);case 2:return H(r,s(Uu,function(r){return O(n,r)},e=t.a));default:var e=t.b;return H(s(Uu,function(r){return O(n,r)},t.a),H(r,s(Uu,function(r){return O(n,r)},e)))}}),to=hr("div"),eo=hr("p"),uo=hr("s"),ao=hr("u"),co=t(function(n,r){return s(xr,n,Hc(r))}),io=co("className"),oo=function(n){return gr(kr(n))},fo=function(n){return hr(kr(n))},so=Fi(41),bo=Fi(40),lo=Fi(42),vo=Fi(43),ho=Fi(45),po=Fi(37),go=t(function(n,r){var t=r.a;if(n.$){var e=n.a;return I(e&r.b,e)}var u=n.a;return I(u&t,u)}),mo=Fi(44),$o=Fi(39),wo=t(function(n,r){return!s(Be,n,r).$}),xo=t(function(n,r){return s(wo,n,r)}),yo=function(n){switch(n.$){case 0:return fe(n.a)+"px";case 1:return"auto";case 2:return fe(n.a)+"fr";case 3:var r=n.b;return"min"+(fe(n.a)+yo(r));default:return r=n.b,"max"+(fe(n.a)+yo(r))}},ko=function(n){return fe(Bu(255*n))},zo=function(n){switch(n.$){case 0:return St;case 1:var r=n.a,t=r.b,e=r.c;return Pt("mv-"+ko(r.a)+"-"+ko(t)+"-"+ko(e));default:var u=n.a,a=u.b,c=u.c,i=n.b,o=i.a,f=i.b,s=i.c,b=n.c,l=b.a,d=b.b,v=b.c,h=n.d;return Pt("tfrm-"+ko(u.a)+"-"+ko(a)+"-"+ko(c)+"-"+ko(o)+"-"+ko(f)+"-"+ko(s)+"-"+ko(l)+"-"+ko(d)+"-"+ko(v)+"-"+ko(h))}},Io=function(n){switch(n.$){case 13:case 12:return a=n.a;case 0:return n.a;case 1:return a=n.a;case 2:return"font-size-"+fe(n.a);case 3:case 4:case 5:return n.a;case 7:case 6:return n.a;case 8:var r=n.a;return"grid-rows-"+s(se,"-",s(Uu,yo,r.fv))+"-cols-"+s(se,"-",s(Uu,yo,r.A))+"-space-x-"+yo(r.fL.a)+"-space-y-"+yo(r.fL.b);case 9:var t=n.a;return"gp grid-pos-"+fe(t.c6)+"-"+fe(t.ch)+"-"+fe(t.dr)+"-"+fe(t.eu);case 11:var e=n.a,u=n.b,a=function(){switch(e){case 0:return"fs";case 1:return"hv";default:return"act"}}();return s(se," ",s(Uu,function(n){var r=Io(n);return""===r?"":r+"-"+a},u));default:return s(Dc,"",zo(n.a))}},Eo=t(function(n,r){var t=r.a,e=r.b,u=Io(n);return s(xo,u,t)?r:O(s(Vu,u,t),s(ht,n,e))}),To=t(function(n,r){return r.$?St:Pt(n(r.a))}),Ao=t(function(n,r){var t=r.b;return O(n(r.a),t)}),Lo=t(function(n,r){return O(r.a,n(r.b))}),Oo=t(function(n,r){return{$:0,a:n,b:r}}),Fo=t(function(n,r){return{$:0,a:n,b:r}}),_o=rn,jo=function(n){var r=n.b,t=n.c,e=n.d;return"rgba("+fe(Bu(255*n.a))+","+fe(Bu(255*r))+","+fe(Bu(255*t))+","+_o(e)+")"},Co=function(n){return s(se," ",s(Au,Se,w([n.cC?Pt("inset"):St,Pt(_o(n.b.a)+"px"),Pt(_o(n.b.b)+"px"),Pt(_o(n.ao)+"px"),Pt(_o(n.fI)+"px"),Pt(jo(n.d5))])))},Ho=function(n){return"."+n},Mo=function(n){return s(Fo,Ho("s")+":focus .focusable, "+Ho("s")+".focusable:focus",s(Au,Se,w([s(To,function(n){return s(Oo,"border-color",jo(n))},n.dS),s(To,function(n){return s(Oo,"background-color",jo(n))},n.dL),s(To,function(n){return s(Oo,"box-shadow",Co({ao:n.ao,d5:n.d5,cC:!1,b:s(Lo,xt,s(Ao,xt,n.b)),fI:n.fI}))},n.fF),Pt(s(Oo,"outline","none"))])))},Ro=dr,No=function(n){return{$:5,a:n}},Do=t(function(n,r){return{$:1,a:n,b:r}}),Po=t(function(n,r){return{$:0,a:n,b:r}}),So=t(function(n,r){return{$:3,a:n,b:r}}),Bo=t(function(n,r){return{$:0,a:n,b:r}}),qo=t(function(n,r){return{$:2,a:n,b:r}}),Wo=t(function(n,r){return r.b?b(Eu,ht,r,n):n}),Vo=function(n){return b(Eu,Wo,g,n)},Zo=t(function(n,r){return Vo(s(Uu,n,r))}),Jo=w([0,1,2,3,4,5]),Uo=function(n){switch(n){case 0:return Ho("ct");case 1:return Ho("cb");case 2:return Ho("cr");case 3:return Ho("cl");case 4:return Ho("ccx");default:return Ho("ccy")}},Go=function(n){switch(n){case 0:return Ho("at");case 1:return Ho("ab");case 2:return Ho("ar");case 3:return Ho("al");case 4:return Ho("cx");default:return Ho("cy")}},Qo=function(n){return No(s(Zo,function(r){var t=n(r),e=t.a,u=t.b;return w([s(So,Uo(r),e),s(Do,Ho("s"),w([s(So,Go(r),u)]))])},Jo))},Xo=w([s(Bo,"display","flex"),s(Bo,"flex-direction","column"),s(Bo,"white-space","pre"),s(So,Ho("hbh"),w([s(Bo,"z-index","0"),s(Do,Ho("bh"),w([s(Bo,"z-index","-1")]))])),s(So,Ho("sbt"),w([s(Do,Ho("t"),w([s(So,Ho("hf"),w([s(Bo,"flex-grow","0")])),s(So,Ho("wf"),w([s(Bo,"align-self","auto !important")]))]))])),s(Do,Ho("hc"),w([s(Bo,"height","auto")])),s(Do,Ho("hf"),w([s(Bo,"flex-grow","100000")])),s(Do,Ho("wf"),w([s(Bo,"width","100%")])),s(Do,Ho("wc"),w([s(Bo,"align-self","flex-start")])),Qo(function(n){switch(n){case 0:return O(w([s(Bo,"justify-content","flex-start")]),w([s(Bo,"margin-bottom","auto !important"),s(Bo,"margin-top","0 !important")]));case 1:return O(w([s(Bo,"justify-content","flex-end")]),w([s(Bo,"margin-top","auto !important"),s(Bo,"margin-bottom","0 !important")]));case 2:return O(w([s(Bo,"align-items","flex-end")]),w([s(Bo,"align-self","flex-end")]));case 3:return O(w([s(Bo,"align-items","flex-start")]),w([s(Bo,"align-self","flex-start")]));case 4:return O(w([s(Bo,"align-items","center")]),w([s(Bo,"align-self","center")]));default:return O(w([s(Do,Ho("s"),w([s(Bo,"margin-top","auto"),s(Bo,"margin-bottom","auto")]))]),w([s(Bo,"margin-top","auto !important"),s(Bo,"margin-bottom","auto !important")]))}})]),Ko=w([0,1,2,3,4,5]),Yo=w([s(Po,"html,body",w([s(Bo,"height","100%"),s(Bo,"padding","0"),s(Bo,"margin","0")])),s(Po,H(Ho("s"),H(Ho("e"),Ho("ic"))),w([s(Bo,"display","block")])),s(Po,Ho("s")+":focus",w([s(Bo,"outline","none")])),s(Po,Ho("ui"),w([s(Bo,"width","100%"),s(Bo,"height","auto"),s(Bo,"min-height","100%"),s(Bo,"z-index","0"),s(So,H(Ho("s"),Ho("hf")),w([s(Bo,"height","100%"),s(Do,Ho("hf"),w([s(Bo,"height","100%")]))])),s(Do,Ho("fr"),w([s(So,Ho("nb"),w([s(Bo,"position","fixed")]))]))])),s(Po,Ho("nb"),w([s(Bo,"position","relative"),s(Bo,"border","none"),s(Bo,"display","flex"),s(Bo,"flex-direction","row"),s(Bo,"flex-basis","auto"),s(So,Ho("e"),Xo),No(s(Uu,function(n){switch(n){case 0:return s(So,Ho("a"),w([s(Bo,"position","absolute"),s(Bo,"bottom","100%"),s(Bo,"left","0"),s(Bo,"width","100%"),s(Bo,"z-index","20"),s(Bo,"margin","0 !important"),s(Do,Ho("hf"),w([s(Bo,"height","auto")])),s(Do,Ho("wf"),w([s(Bo,"width","100%")])),s(Bo,"pointer-events","none"),s(Do,"*",w([s(Bo,"pointer-events","auto")]))]));case 1:return s(So,Ho("b"),w([s(Bo,"position","absolute"),s(Bo,"bottom","0"),s(Bo,"left","0"),s(Bo,"height","0"),s(Bo,"width","100%"),s(Bo,"z-index","20"),s(Bo,"margin","0 !important"),s(Bo,"pointer-events","none"),s(Do,"*",w([s(Bo,"pointer-events","auto")])),s(Do,Ho("hf"),w([s(Bo,"height","auto")]))]));case 2:return s(So,Ho("or"),w([s(Bo,"position","absolute"),s(Bo,"left","100%"),s(Bo,"top","0"),s(Bo,"height","100%"),s(Bo,"margin","0 !important"),s(Bo,"z-index","20"),s(Bo,"pointer-events","none"),s(Do,"*",w([s(Bo,"pointer-events","auto")]))]));case 3:return s(So,Ho("ol"),w([s(Bo,"position","absolute"),s(Bo,"right","100%"),s(Bo,"top","0"),s(Bo,"height","100%"),s(Bo,"margin","0 !important"),s(Bo,"z-index","20"),s(Bo,"pointer-events","none"),s(Do,"*",w([s(Bo,"pointer-events","auto")]))]));case 4:return s(So,Ho("fr"),w([s(Bo,"position","absolute"),s(Bo,"width","100%"),s(Bo,"height","100%"),s(Bo,"left","0"),s(Bo,"top","0"),s(Bo,"margin","0 !important"),s(Bo,"pointer-events","none"),s(Do,"*",w([s(Bo,"pointer-events","auto")]))]));default:return s(So,Ho("bh"),w([s(Bo,"position","absolute"),s(Bo,"width","100%"),s(Bo,"height","100%"),s(Bo,"left","0"),s(Bo,"top","0"),s(Bo,"margin","0 !important"),s(Bo,"z-index","0"),s(Bo,"pointer-events","none"),s(Do,"*",w([s(Bo,"pointer-events","auto")]))]))}},Ko))])),s(Po,Ho("s"),w([s(Bo,"position","relative"),s(Bo,"border","none"),s(Bo,"flex-shrink","0"),s(Bo,"display","flex"),s(Bo,"flex-direction","row"),s(Bo,"flex-basis","auto"),s(Bo,"resize","none"),s(Bo,"font-feature-settings","inherit"),s(Bo,"box-sizing","border-box"),s(Bo,"margin","0"),s(Bo,"padding","0"),s(Bo,"border-width","0"),s(Bo,"border-style","solid"),s(Bo,"font-size","inherit"),s(Bo,"color","inherit"),s(Bo,"font-family","inherit"),s(Bo,"line-height","1"),s(Bo,"font-weight","inherit"),s(Bo,"text-decoration","none"),s(Bo,"font-style","inherit"),s(So,Ho("wrp"),w([s(Bo,"flex-wrap","wrap")])),s(So,Ho("notxt"),w([s(Bo,"-moz-user-select","none"),s(Bo,"-webkit-user-select","none"),s(Bo,"-ms-user-select","none"),s(Bo,"user-select","none")])),s(So,Ho("cptr"),w([s(Bo,"cursor","pointer")])),s(So,Ho("ctxt"),w([s(Bo,"cursor","text")])),s(So,Ho("ppe"),w([s(Bo,"pointer-events","none !important")])),s(So,Ho("cpe"),w([s(Bo,"pointer-events","auto !important")])),s(So,Ho("clr"),w([s(Bo,"opacity","0")])),s(So,Ho("oq"),w([s(Bo,"opacity","1")])),s(So,Ho(H("hv","clr"))+":hover",w([s(Bo,"opacity","0")])),s(So,Ho(H("hv","oq"))+":hover",w([s(Bo,"opacity","1")])),s(So,Ho(H("fcs","clr"))+":focus",w([s(Bo,"opacity","0")])),s(So,Ho(H("fcs","oq"))+":focus",w([s(Bo,"opacity","1")])),s(So,Ho(H("atv","clr"))+":active",w([s(Bo,"opacity","0")])),s(So,Ho(H("atv","oq"))+":active",w([s(Bo,"opacity","1")])),s(So,Ho("ts"),w([s(Bo,"transition",s(se,", ",s(Uu,function(n){return n+" 160ms"},w(["transform","opacity","filter","background-color","color","font-size"]))))])),s(So,Ho("sb"),w([s(Bo,"overflow","auto"),s(Bo,"flex-shrink","1")])),s(So,Ho("sbx"),w([s(Bo,"overflow-x","auto"),s(So,Ho("r"),w([s(Bo,"flex-shrink","1")]))])),s(So,Ho("sby"),w([s(Bo,"overflow-y","auto"),s(So,Ho("c"),w([s(Bo,"flex-shrink","1")])),s(So,Ho("e"),w([s(Bo,"flex-shrink","1")]))])),s(So,Ho("cp"),w([s(Bo,"overflow","hidden")])),s(So,Ho("cpx"),w([s(Bo,"overflow-x","hidden")])),s(So,Ho("cpy"),w([s(Bo,"overflow-y","hidden")])),s(So,Ho("wc"),w([s(Bo,"width","auto")])),s(So,Ho("bn"),w([s(Bo,"border-width","0")])),s(So,Ho("bd"),w([s(Bo,"border-style","dashed")])),s(So,Ho("bdt"),w([s(Bo,"border-style","dotted")])),s(So,Ho("bs"),w([s(Bo,"border-style","solid")])),s(So,Ho("t"),w([s(Bo,"white-space","pre"),s(Bo,"display","inline-block")])),s(So,Ho("it"),w([s(Bo,"line-height","1.05")])),s(So,Ho("e"),Xo),s(So,Ho("r"),w([s(Bo,"display","flex"),s(Bo,"flex-direction","row"),s(Do,Ho("s"),w([s(Bo,"flex-basis","0%"),s(So,Ho("we"),w([s(Bo,"flex-basis","auto")]))])),s(Do,Ho("hf"),w([s(Bo,"align-self","stretch !important")])),s(Do,Ho("hfp"),w([s(Bo,"align-self","stretch !important")])),s(Do,Ho("wf"),w([s(Bo,"flex-grow","100000")])),s(Do,Ho("ctr"),w([s(Bo,"flex-grow","0"),s(Bo,"flex-basis","auto"),s(Bo,"align-self","stretch")])),s(Do,"u:first-of-type.acr",w([s(Bo,"flex-grow","1")])),s(Do,"s:first-of-type.accx",w([s(Bo,"flex-grow","1"),s(Do,Ho("cx"),w([s(Bo,"margin-left","auto !important")]))])),s(Do,"s:last-of-type.accx",w([s(Bo,"flex-grow","1"),s(Do,Ho("cx"),w([s(Bo,"margin-right","auto !important")]))])),s(Do,"s:only-of-type.accx",w([s(Bo,"flex-grow","1"),s(Do,Ho("cy"),w([s(Bo,"margin-top","auto !important"),s(Bo,"margin-bottom","auto !important")]))])),s(Do,"s:last-of-type.accx ~ u",w([s(Bo,"flex-grow","0")])),s(Do,"u:first-of-type.acr ~ s.accx",w([s(Bo,"flex-grow","0")])),Qo(function(n){switch(n){case 0:return O(w([s(Bo,"align-items","flex-start")]),w([s(Bo,"align-self","flex-start")]));case 1:return O(w([s(Bo,"align-items","flex-end")]),w([s(Bo,"align-self","flex-end")]));case 2:return O(w([s(Bo,"justify-content","flex-end")]),g);case 3:return O(w([s(Bo,"justify-content","flex-start")]),g);case 4:return O(w([s(Bo,"justify-content","center")]),g);default:return O(w([s(Bo,"align-items","center")]),w([s(Bo,"align-self","center")]))}}),s(So,Ho("sev"),w([s(Bo,"justify-content","space-between")]))])),s(So,Ho("c"),w([s(Bo,"display","flex"),s(Bo,"flex-direction","column"),s(Do,Ho("hf"),w([s(Bo,"flex-grow","100000")])),s(Do,Ho("wf"),w([s(Bo,"width","100%")])),s(Do,Ho("wfp"),w([s(Bo,"width","100%")])),s(Do,Ho("wc"),w([s(Bo,"align-self","flex-start")])),s(Do,"u:first-of-type.acb",w([s(Bo,"flex-grow","1")])),s(Do,"s:first-of-type.accy",w([s(Bo,"flex-grow","1"),s(Do,Ho("cy"),w([s(Bo,"margin-top","auto !important"),s(Bo,"margin-bottom","0 !important")]))])),s(Do,"s:last-of-type.accy",w([s(Bo,"flex-grow","1"),s(Do,Ho("cy"),w([s(Bo,"margin-bottom","auto !important"),s(Bo,"margin-top","0 !important")]))])),s(Do,"s:only-of-type.accy",w([s(Bo,"flex-grow","1"),s(Do,Ho("cy"),w([s(Bo,"margin-top","auto !important"),s(Bo,"margin-bottom","auto !important")]))])),s(Do,"s:last-of-type.accy ~ u",w([s(Bo,"flex-grow","0")])),s(Do,"u:first-of-type.acb ~ s.accy",w([s(Bo,"flex-grow","0")])),Qo(function(n){switch(n){case 0:return O(w([s(Bo,"justify-content","flex-start")]),w([s(Bo,"margin-bottom","auto")]));case 1:return O(w([s(Bo,"justify-content","flex-end")]),w([s(Bo,"margin-top","auto")]));case 2:return O(w([s(Bo,"align-items","flex-end")]),w([s(Bo,"align-self","flex-end")]));case 3:return O(w([s(Bo,"align-items","flex-start")]),w([s(Bo,"align-self","flex-start")]));case 4:return O(w([s(Bo,"align-items","center")]),w([s(Bo,"align-self","center")]));default:return O(w([s(Bo,"justify-content","center")]),g)}}),s(Do,Ho("ctr"),w([s(Bo,"flex-grow","0"),s(Bo,"flex-basis","auto"),s(Bo,"width","100%"),s(Bo,"align-self","stretch !important")])),s(So,Ho("sev"),w([s(Bo,"justify-content","space-between")]))])),s(So,Ho("g"),w([s(Bo,"display","-ms-grid"),s(Do,".gp",w([s(Do,Ho("s"),w([s(Bo,"width","100%")]))])),s(qo,O("display","grid"),w([O("display","grid")])),(Ua=function(n){switch(n){case 0:return w([s(Bo,"justify-content","flex-start")]);case 1:return w([s(Bo,"justify-content","flex-end")]);case 2:return w([s(Bo,"align-items","flex-end")]);case 3:return w([s(Bo,"align-items","flex-start")]);case 4:return w([s(Bo,"align-items","center")]);default:return w([s(Bo,"justify-content","center")])}},No(s(Zo,function(n){return w([s(Do,Ho("s"),w([s(So,Go(n),Ua(n))]))])},Jo)))])),s(So,Ho("pg"),w([s(Bo,"display","block"),s(Do,Ho("s:first-child"),w([s(Bo,"margin","0 !important")])),s(Do,Ho("s"+Go(3)+":first-child + .s"),w([s(Bo,"margin","0 !important")])),s(Do,Ho("s"+Go(2)+":first-child + .s"),w([s(Bo,"margin","0 !important")])),Qo(function(n){switch(n){case 0:case 1:return O(g,g);case 2:return O(g,w([s(Bo,"float","right"),s(So,"::after",w([s(Bo,"content",'""'),s(Bo,"display","table"),s(Bo,"clear","both")]))]));case 3:return O(g,w([s(Bo,"float","left"),s(So,"::after",w([s(Bo,"content",'""'),s(Bo,"display","table"),s(Bo,"clear","both")]))]));case 4:default:return O(g,g)}})])),s(So,Ho("iml"),w([s(Bo,"white-space","pre-wrap")])),s(So,Ho("p"),w([s(Bo,"display","block"),s(Bo,"white-space","normal"),s(So,Ho("hbh"),w([s(Bo,"z-index","0"),s(Do,Ho("bh"),w([s(Bo,"z-index","-1")]))])),s(Do,Ho("t"),w([s(Bo,"display","inline"),s(Bo,"white-space","normal")])),s(Do,Ho("e"),w([s(Bo,"display","inline"),s(Bo,"white-space","normal"),s(So,Ho("fr"),w([s(Bo,"display","flex")])),s(So,Ho("bh"),w([s(Bo,"display","flex")])),s(So,Ho("a"),w([s(Bo,"display","flex")])),s(So,Ho("b"),w([s(Bo,"display","flex")])),s(So,Ho("or"),w([s(Bo,"display","flex")])),s(So,Ho("ol"),w([s(Bo,"display","flex")])),s(Do,Ho("t"),w([s(Bo,"display","inline"),s(Bo,"white-space","normal")]))])),s(Do,Ho("r"),w([s(Bo,"display","inline-flex")])),s(Do,Ho("c"),w([s(Bo,"display","inline-flex")])),s(Do,Ho("g"),w([s(Bo,"display","inline-grid")])),Qo(function(n){switch(n){case 0:case 1:return O(g,g);case 2:return O(g,w([s(Bo,"float","right")]));case 3:return O(g,w([s(Bo,"float","left")]));case 4:default:return O(g,g)}})])),s(So,".hidden",w([s(Bo,"display","none")])),s(So,Ho("w1"),w([s(Bo,"font-weight","100")])),s(So,Ho("w2"),w([s(Bo,"font-weight","200")])),s(So,Ho("w3"),w([s(Bo,"font-weight","300")])),s(So,Ho("w4"),w([s(Bo,"font-weight","400")])),s(So,Ho("w5"),w([s(Bo,"font-weight","500")])),s(So,Ho("w6"),w([s(Bo,"font-weight","600")])),s(So,Ho("w7"),w([s(Bo,"font-weight","700")])),s(So,Ho("w8"),w([s(Bo,"font-weight","800")])),s(So,Ho("w9"),w([s(Bo,"font-weight","900")])),s(So,Ho("i"),w([s(Bo,"font-style","italic")])),s(So,Ho("sk"),w([s(Bo,"text-decoration","line-through")])),s(So,Ho("u"),w([s(Bo,"text-decoration","underline"),s(Bo,"text-decoration-skip-ink","auto"),s(Bo,"text-decoration-skip","ink")])),s(So,H(Ho("u"),Ho("sk")),w([s(Bo,"text-decoration","line-through underline"),s(Bo,"text-decoration-skip-ink","auto"),s(Bo,"text-decoration-skip","ink")])),s(So,Ho("tun"),w([s(Bo,"font-style","normal")])),s(So,Ho("tj"),w([s(Bo,"text-align","justify")])),s(So,Ho("tja"),w([s(Bo,"text-align","justify-all")])),s(So,Ho("tc"),w([s(Bo,"text-align","center")])),s(So,Ho("tr"),w([s(Bo,"text-align","right")])),s(So,Ho("tl"),w([s(Bo,"text-align","left")])),s(So,".modal",w([s(Bo,"position","fixed"),s(Bo,"left","0"),s(Bo,"top","0"),s(Bo,"width","100%"),s(Bo,"height","100%"),s(Bo,"pointer-events","none")]))]))]),nf=function(n){return w([s(Po,".v-"+n,w([s(Bo,"font-feature-settings",'"'+n+'"')])),s(Po,".v-"+n+"-off",w([s(Bo,"font-feature-settings",'"'+n+'" 0')]))])},rf=Vo(w([s(Uu,function(n){return s(Po,".border-"+fe(n),w([s(Bo,"border-width",fe(n)+"px")]))},s(ce,0,6)),s(Uu,function(n){return s(Po,".font-size-"+fe(n),w([s(Bo,"font-size",fe(n)+"px")]))},s(ce,8,32)),s(Uu,function(n){return s(Po,".p-"+fe(n),w([s(Bo,"padding",fe(n)+"px")]))},s(ce,0,24)),w([s(Po,".v-smcp",w([s(Bo,"font-variant","small-caps")])),s(Po,".v-smcp-off",w([s(Bo,"font-variant","normal")]))]),nf("zero"),nf("onum"),nf("liga"),nf("dlig"),nf("ordn"),nf("tnum"),nf("afrc"),nf("frac")])),tf="@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {"+Ho("s")+Ho("r")+" > "+Ho("s")+" { flex-basis: auto !important; } "+Ho("s")+Ho("r")+" > "+Ho("s")+Ho("ctr")+" { flex-basis: auto !important; }}\n\n/* General Input Reset */\ninput[type=range] {\n  -webkit-appearance: none; /* Hides the slider so that custom slider can be made */\n  /* width: 100%;  Specific width is required for Firefox. */\n  background: transparent; /* Otherwise white in Chrome */\n  position:absolute;\n  left:0;\n  top:0;\n  z-index:10;\n  width: 100%;\n  outline: dashed 1px;\n  height: 100%;\n  opacity: 0;\n}\n\n/* Hide all syling for track */\ninput[type=range]::-moz-range-track {\n    background: transparent;\n    cursor: pointer;\n}\ninput[type=range]::-ms-track {\n    background: transparent;\n    cursor: pointer;\n}\ninput[type=range]::-webkit-slider-runnable-track {\n    background: transparent;\n    cursor: pointer;\n}\n\n/* Thumbs */\ninput[type=range]::-webkit-slider-thumb {\n    -webkit-appearance: none;\n    opacity: 0.5;\n    width: 80px;\n    height: 80px;\n    background-color: black;\n    border:none;\n    border-radius: 5px;\n}\ninput[type=range]::-moz-range-thumb {\n    opacity: 0.5;\n    width: 80px;\n    height: 80px;\n    background-color: black;\n    border:none;\n    border-radius: 5px;\n}\ninput[type=range]::-ms-thumb {\n    opacity: 0.5;\n    width: 80px;\n    height: 80px;\n    background-color: black;\n    border:none;\n    border-radius: 5px;\n}\ninput[type=range][orient=vertical]{\n    writing-mode: bt-lr; /* IE */\n    -webkit-appearance: slider-vertical;  /* WebKit */\n}\n\n.explain {\n    border: 6px solid rgb(174, 121, 15) !important;\n}\n.explain > .s {\n    border: 4px dashed rgb(0, 151, 167) !important;\n}\n\n.ctr {\n    border: none !important;\n}\n.explain > .ctr > .s {\n    border: 4px dashed rgb(0, 151, 167) !important;\n}\n\n",ef=function(n){return s(se,"",n)},uf=t(function(n,r){return{a4:r,o:g,R:g,E:n}}),af=t(function(n,r){var e=n;return b(Eu,t(function(n,r){switch(n.$){case 0:return j(r,{R:s(ht,O(n.a,n.b),r.R)});case 2:var t=n.a;return j(r,{o:s(ht,{a4:"\n}",o:g,R:n.b,E:"@supports ("+t.a+":"+t.b+") {"+e.E},r.o)});case 4:var u=n.b;return j(r,{o:s(ht,s(af,s(uf,e.E+" + "+n.a,""),u),r.o)});case 1:var a=n.b;return j(r,{o:s(ht,s(af,s(uf,e.E+" > "+n.a,""),a),r.o)});case 3:var c=n.b;return j(r,{o:s(ht,s(af,s(uf,H(e.E,n.a),""),c),r.o)});default:var i=n.a;return j(r,{o:s(ht,s(af,s(uf,e.E,""),i),r.o)})}}),e,r)}),cf=H(tf,(Ga=H(Yo,rf),Qa=function(n){return n.R.b?n.E+"{"+ef(s(Uu,function(n){return n.a+":"+n.b+";"},n.R))+n.a4+"}":""},Xa=function(n){var r=n;return H(Qa(r),ef(s(Uu,Xa,r.o)))},ef(s(Uu,Xa,b(Eu,t(function(n,r){var t=n.b;return s(ht,s(af,s(uf,n.a,""),t),r)}),g,Ga))))),of=b(fo,"style",g,w([Ro(cf)])),ff=function(n){return-n},sf=t(function(n,r){for(;;){if(!r.b)return!1;var t=r.b;if(n(r.a))return!0;n=n,r=t}}),bf=function(n){switch(n.$){case 0:return"serif";case 1:return"sans-serif";case 2:return"monospace";case 3:case 4:return'"'+n.a+'"';default:return'"'+n.a.bN+'"'}},lf=function(n){switch(n.$){case 0:return"smcp"===n.a;case 1:return!1;default:return"smcp"===n.a&&1===n.b}},df=function(n){return 5===n.$&&s(sf,lf,n.a.$7)},vf=e(function(n,r,t){var e=r.a,u=r.b;return n?t+"\n  "+e+": "+u+" !important;":t+"\n  "+e+": "+u+";"}),hf=t(function(n,r){return n+" {"+s(se,"",s(Uu,function(n){return n.a+": "+n.b+";"},r))+"}"}),pf=e(function(n,r,t){var e=t.b;return w([s(hf,"."+n+"."+r+", ."+n+" ."+r,t.a),s(hf,"."+n+"."+r+"> .t, ."+n+" ."+r+" > .t",e)])}),gf=e(function(n,r,t){var e=r.a,u=r.b,a=I(n,t)?n:t+" ."+n;return s(se," ",H(b(pf,a,"cap",u),b(pf,a,"fs",e)))}),mf=t(function(n,r){var t=I(n,r)?n:r+" ."+n;return s(se," ",w([s(hf,"."+t+".cap, ."+t+" .cap",w([O("line-height","1")])),s(hf,"."+t+".cap> .t, ."+t+" .cap > .t",w([O("vertical-align","0"),O("line-height","1")]))]))}),$f=t(function(n,r){return b(Eu,t(function(r,t){return n(r)?s(ht,r,t):t}),g,r)}),wf=e(function(n,r,t){return{eu:r/n,fI:n,dp:t}}),xf=function(n){var r=w([n.d_,n.dN,n.ef,n.eO]),t=s(Dc,n.ef,hi(r)),e=s(Dc,n.dN,hi(s($f,function(n){return!I(n,t)},r))),u=s(Dc,n.d_,di(r)),a=1/(u-t),c=1-u;return{d_:b(wf,1/(u-e),u-e,1-u),cu:b(wf,a,u-t,c)}},yf=function(n){return O(w([O("display","block")]),w([O("display","inline-block"),O("line-height",_o(n.eu)),O("vertical-align",_o(n.dp)+"em"),O("font-size",_o(n.fI)+"em")]))},kf=function(n){switch(n.$){case 0:return'"'+n.a+'"';case 1:return'"'+n.a+'" 0';default:return'"'+n.a+'" '+fe(n.b)}},zf=function(n){return 5===n.$?Pt(s(se,", ",s(Uu,kf,n.a.$7))):St},If=t(function(n,r){var u=e(function(r,t,e){if(1===r.$)return t+"{"+b(Et,vf(!1),"",e)+"\n}";switch(r.a){case 1:switch(n.ey){case 0:return"";case 2:return t+"-hv {"+b(Et,vf(!0),"",e)+"\n}";default:return t+"-hv:hover {"+b(Et,vf(!1),"",e)+"\n}"}case 0:var u=b(Et,vf(!1),"",e);return s(se,"\n",w([t+"-fs:focus {"+u+"\n}",".s:focus ~ "+t+"-fs:not(.focus)  {"+u+"\n}",".s:focus "+t+"-fs  {"+u+"\n}",".focusable-parent:focus ~ .s "+t+"-fs {"+u+"\n}"]));default:return t+"-act:active {"+b(Et,vf(!1),"",e)+"\n}"}}),a=t(function(n,r){switch(n.$){case 0:return b(u,r,n.a,n.b);case 13:return b(u,r,"."+(c=n.a),w([s(Oo,"box-shadow",n.b)]));case 12:return b(u,r,"."+(c=n.a),w([s(Oo,"opacity",_o(s(Ct,0,s(vi,1,1-n.b))))]));case 2:var t=n.a;return b(u,r,".font-size-"+fe(t),w([s(Oo,"font-size",fe(t)+"px")]));case 1:var c=n.a,i=n.b,o=s(se,", ",s(Au,zf,i)),f=w([s(Oo,"font-family",s(se,", ",s(Uu,bf,i))),s(Oo,"font-feature-settings",o),s(Oo,"font-variant",s(sf,df,i)?"small-caps":"normal")]);return s(se," ",w([b(u,r,"."+c,f)]));case 3:return b(u,r,"."+(N=n.a),w([s(Oo,n.b,P=n.c)]));case 4:return b(u,r,"."+(N=n.a),w([s(Oo,n.b,jo(n.c))]));case 5:var l=n.a,d=n.b,v=n.c,h=fe(v)+"px",p=fe(d)+"px",g=".ar",m=".al",$=_o(v/2)+"px",x=_o(d/2)+"px";return ef(w([b(u,r,(N="."+l)+".r > .s + .s",w([s(Oo,"margin-left",p)])),b(u,r,N+".wrp.r > .s",w([s(Oo,"margin",$+" "+x)])),b(u,r,N+".c > .s + .s",w([s(Oo,"margin-top",h)])),b(u,r,N+".pg > .s + .s",w([s(Oo,"margin-top",h)])),b(u,r,N+".pg > "+m,w([s(Oo,"margin-right",p)])),b(u,r,N+".pg > "+g,w([s(Oo,"margin-left",p)])),b(u,r,H(N,".p"),w([s(Oo,"line-height","calc(1em + "+fe(v)+"px)")])),b(u,r,"textarea"+N,w([s(Oo,"line-height","calc(1em + "+fe(v)+"px)")])),b(u,r,N+".p > "+m,w([s(Oo,"margin-right",p)])),b(u,r,N+".p > "+g,w([s(Oo,"margin-left",p)])),b(u,r,N+".p::after",w([s(Oo,"content","''"),s(Oo,"display","block"),s(Oo,"height","0"),s(Oo,"width","0"),s(Oo,"margin-top",fe(-1*(v/2|0))+"px")])),b(u,r,N+".p::before",w([s(Oo,"content","''"),s(Oo,"display","block"),s(Oo,"height","0"),s(Oo,"width","0"),s(Oo,"margin-bottom",fe(-1*(v/2|0))+"px")]))]));case 7:g=n.c;var y=n.d;return m=n.e,b(u,r,N="."+(l=n.a),w([s(Oo,"padding",fe(n.b)+"px "+fe(g)+"px "+fe(y)+"px "+fe(m)+"px")]));case 6:return g=n.c,y=n.d,m=n.e,b(u,r,N="."+(l=n.a),w([s(Oo,"border-width",fe(n.b)+"px "+fe(g)+"px "+fe(y)+"px "+fe(m)+"px")]));case 8:var k=n.a,z=e(function(n,r,t){n:for(;;)switch(t.$){case 0:return fe(t.a)+"px";case 1:var e=O(n,r);if(1===e.a.$)return 1===e.b.$?"max-content":"minmax(max-content, "+fe(u=e.b.a)+"px)";if(1===e.b.$)return"minmax("+fe(e.a.a)+"px, max-content)";var u=e.b.a;return"minmax("+fe(e.a.a)+"px, "+fe(u)+"px)";case 2:var a=t.a,c=O(n,r);return 1===c.a.$?1===c.b.$?fe(a)+"fr":"minmax(max-content, "+fe(u=c.b.a)+"px)":1===c.b.$?"minmax("+fe(c.a.a)+"px, "+fe(a)+"frfr)":(u=c.b.a,"minmax("+fe(c.a.a)+"px, "+fe(u)+"px)");case 3:var i=t.b;n=Pt(t.a),r=r,t=i;continue n;default:i=t.b,n=n,r=Pt(t.a),t=i;continue n}}),I=function(n){return b(z,St,St,n)},E=(I(k.fL.a),I(k.fL.b)),T="grid-template-rows: "+s(se," ",s(Uu,I,k.fv))+";",A="-ms-grid-rows: "+s(se,E,s(Uu,I,k.A))+";",L="-ms-grid-columns: "+s(se,E,s(Uu,I,k.A))+";",F="grid-row-gap:"+I(k.fL.b)+";",_="grid-column-gap:"+I(k.fL.a)+";",j="grid-template-columns: "+s(se," ",s(Uu,I,k.A))+";";return H((N=".grid-rows-"+s(se,"-",s(Uu,yo,k.fv))+"-cols-"+s(se,"-",s(Uu,yo,k.A))+"-space-x-"+yo(k.fL.a)+"-space-y-"+yo(k.fL.b))+"{"+L+A+"}","@supports (display:grid) {"+N+"{"+j+T+_+F+"}}");case 9:var C=n.a,M=s(se," ",w(["-ms-grid-row: "+fe(C.c6)+";","-ms-grid-row-span: "+fe(C.eu)+";","-ms-grid-column: "+fe(C.ch)+";","-ms-grid-column-span: "+fe(C.dr)+";"])),R=s(se," ",w(["grid-row: "+fe(C.c6)+" / "+fe(C.c6+C.eu)+";","grid-column: "+fe(C.ch)+" / "+fe(C.ch+C.dr)+";"]));return H((N=".grid-pos-"+fe(C.c6)+"-"+fe(C.ch)+"-"+fe(C.dr)+"-"+fe(C.eu))+"{"+M+"}","@supports (display:grid) {"+N+"{"+R+"}}");case 11:var N=n.a;return s(se," ",s(Uu,function(n){return s(a,n,Pt(N))},n.b));default:var D=n.a,P=function(n){switch(n.$){case 0:return St;case 1:var r=n.a,t=r.b,e=r.c;return Pt("translate3d("+_o(r.a)+"px, "+_o(t)+"px, "+_o(e)+"px)");default:var u=n.a,a=u.b,c=u.c,i=n.b,o=i.a,f=i.b,s=i.c,b=n.c,l=b.a,d=b.b,v=b.c,h=n.d,p="translate3d("+_o(u.a)+"px, "+_o(a)+"px, "+_o(c)+"px)",g="scale3d("+_o(o)+", "+_o(f)+", "+_o(s)+")",m="rotate3d("+_o(l)+", "+_o(d)+", "+_o(v)+", "+_o(h)+"rad)";return Pt(p+" "+g+" "+m)}}(D),S=O(N=zo(D),P);return S.a.$||S.b.$?"":b(u,r,"."+(l=S.a.a),w([s(Oo,"transform",S.b.a)]))}}),c=b(Et,t(function(n,r){return{bp:H(r.bp,s(a,n,St)),aW:(e=1===(t=n).$?Pt(O(t.a,t.b)):St,1===e.$?r.aW:s(ht,e.a,r.aW))};var t,e}),{bp:"",aW:g},r),i=c.bp;return H(function(n){var r=function(n){return 4===n.$?Pt("@import url('"+n.b+"');"):St},e=function(n){return s(se,"\n",s(Au,r,n.b))},u=s(Uu,Ot,n),a=function(n){var r,e=n.a,a=(r=n.b,b(Et,t(function(n,r){if(1===r.$){if(5===n.$){var t=n.a.dy;if(1===t.$)return r;var e=t.a;return Pt(O(yf(xf(e).cu),yf(xf(e).d_)))}return r}return r}),St,r));return s(se,"",s(Uu,1===a.$?mf(e):s(gf,e,a.a),u))};return H(s(se,"\n",s(Uu,e,n)),s(se,"\n",s(Uu,a,n)))}(c.aW),i)}),Ef=t(function(n,r){return b(fo,"style",g,w([Ro(s(If,n,r))]))}),Tf=u(function(n,r,t,e){return n?s(ht,O("static-stylesheet",of),s(ht,O("dynamic-stylesheet",s(Ef,r,b(Et,Eo,O(Wu,w([Mo(r.ep)])),t).b)),e)):s(ht,O("dynamic-stylesheet",s(Ef,r,b(Et,Eo,O(Wu,w([Mo(r.ep)])),t).b)),e)}),Af=u(function(n,r,t,e){return n?s(ht,of,s(ht,s(Ef,r,b(Et,Eo,O(Wu,w([Mo(r.ep)])),t).b),e)):s(ht,s(Ef,r,b(Et,Eo,O(Wu,w([Mo(r.ep)])),t).b),e)}),Lf=c(function(n,r,e,u,a,c){var i=t(function(n,r){if(1===u.$){var t=u.a;return b(oo,n,r,function(){switch(a.$){case 0:return t;case 2:return l(Tf,!1,a.a,a.b,t);default:return l(Tf,!0,a.a,a.b,t)}}())}var e=u.a;return s(function(){switch(n){case"div":return to;case"p":return eo;default:return fo(n)}}(),r,function(){switch(a.$){case 0:return e;case 2:return l(Af,!1,a.a,a.b,e);default:return l(Af,!0,a.a,a.b,e)}}())}),o=function(){switch(r.$){case 0:return s(i,"div",e);case 1:return s(i,r.a,e);default:return b(fo,r.a,e,w([s(i,r.b,w([io("s e")]))]))}}();switch(c){case 0:return s(go,$o,n)&&!s(go,mo,n)?o:s(go,bo,n)?s(ao,w([io(s(se," ",w(["s","e","ctr","ccy","acr"])))]),w([o])):s(go,lo,n)?s(uo,w([io(s(se," ",w(["s","e","ctr","ccy","accx"])))]),w([o])):o;case 1:return s(go,po,n)&&!s(go,ho,n)?o:s(go,vo,n)?s(uo,w([io(s(se," ",w(["s","e","ctr","accy"])))]),w([o])):s(go,so,n)?s(ao,w([io(s(se," ",w(["s","e","ctr","acb"])))]),w([o])):o;default:return o}}),Of=Ro,Ff=function(n){return s(to,w([io(s(se," ",w(["s","t","wc","hc"])))]),w([Of(n)]))},_f=function(n){return b(fo,"div",w([io(s(se," ",w(["s","t","wf","hf"])))]),w([Ro(n)]))},jf=e(function(n,r,e){var u=t(function(r,t){var e=r.a,u=r.b,a=t.a,c=t.b;switch(u.$){case 0:var i=u.a;return I(n,4),O(s(ht,O(e,i(n)),a),c);case 1:var o=u.a;return I(n,4),O(s(ht,O(e,s(o.eA,Xi,n)),a),Gi(c)?o.fT:H(o.fT,c));case 2:var f=u.a;return O(s(ht,O(e,I(n,2)?_f(f):Ff(f)),a),c);default:return O(a,c)}}),a=t(function(r,t){var e=t.a,u=t.b;switch(r.$){case 0:var a=r.a;return I(n,4),O(s(ht,a(n),e),u);case 1:var c=r.a;return I(n,4),O(s(ht,s(c.eA,Xi,n),e),Gi(u)?c.fT:H(c.fT,u));case 2:var i=r.a;return O(s(ht,I(n,2)?_f(i):Ff(i),e),u);default:return O(e,u)}});if(1===r.$){var c=r.a,i=b(Eu,u,O(g,g),c),o=i.a;if((h=Gi(v=i.b)?e.fT:H(e.fT,v)).b){var f=h;return Ki({eA:l(Lf,e.Z,e.ac,e.U,Qi(b(ro,"nearby-element-pls",o,e.V))),fT:f})}return Yi(d(Lf,e.Z,e.ac,e.U,Qi(b(ro,"nearby-element-pls",o,e.V)),Xi))}var v,h,p=r.a,m=b(Eu,a,O(g,g),p),$=m.a;return(h=Gi(v=m.b)?e.fT:H(e.fT,v)).b?(f=h,Ki({eA:l(Lf,e.Z,e.ac,e.U,Wi(s(no,$,e.V))),fT:f})):Yi(d(Lf,e.Z,e.ac,e.U,Wi(s(no,$,e.V)),Xi))}),Cf=t(function(n,r){return s(yr,function(n){return/^(on|formAction$)/i.test(n)?"data-"+n:n}(n),zr(r))}),Hf=t(function(n,r){var t=r.a,e=r.b;return n.$?s(Zi,t,n.a|e):s(Zi,n.a|t,e)}),Mf=Fi(7),Rf=Fi(36),Nf=t(function(n,r){return s(Zi,n.a|r.a,n.b|r.b)}),Df=Fi(6),Pf=Fi(38),Sf=Fi(30),Bf=Fi(29),qf=t(function(n,r){return{$:2,a:n,b:r}}),Wf=function(n){return{$:1,a:n}},Vf=e(function(n,r,t){return{$:3,a:n,b:r,c:t}}),Zf=function(n){return{$:10,a:n}},Jf=function(n){return{$:1,a:n}},Uf=t(function(n,r){return{$:3,a:n,b:r}}),Gf=function(n){return{$:2,a:n}},Qf=t(function(n,r){return s(to,w([io(function(){switch(n){case 0:return s(se," ",w(["nb","e","a"]));case 1:return s(se," ",w(["nb","e","b"]));case 2:return s(se," ",w(["nb","e","or"]));case 3:return s(se," ",w(["nb","e","ol"]));case 4:return s(se," ",w(["nb","e","fr"]));default:return s(se," ",w(["nb","e","bh"]))}}())]),w([function(){switch(r.$){case 3:return Ro("");case 2:return Ff(r.a);case 0:return(0,r.a)(2);default:return s(r.a.eA,Xi,2)}}()]))}),Xf=e(function(n,r,t){var e=s(Qf,n,r);switch(t.$){case 0:return 5===n?Jf(w([e])):Gf(w([e]));case 1:var u=t.a;return 5===n?Jf(s(ht,e,u)):s(Uf,u,w([e]));case 2:var a=t.a;return 5===n?s(Uf,w([e]),a):Gf(s(ht,e,a));default:return u=t.a,a=t.b,5===n?s(Uf,s(ht,e,u),a):s(Uf,u,s(ht,e,a))}}),Kf=t(function(n,r){switch(r.$){case 0:return Wf(n);case 1:return s(qf,r.a,n);default:return s(qf,r.a,r.b)}}),Yf=function(n){switch(n){case 0:return"ah al";case 2:return"ah ar";default:return"ah cx"}},ns=function(n){switch(n){case 0:return"av at";case 2:return"av ab";default:return"av cy"}},rs=u(function(n,r,t,e){return{$:2,a:n,b:r,c:t,d:e}}),ts=function(n){return{$:1,a:n}},es=t(function(n,r){switch(n.$){case 0:switch(r.$){case 0:return ts(F(u=r.a,0,0));case 1:return ts(F(0,a=r.a,0));case 2:return ts(F(0,0,c=r.a));case 3:return ts(t=r.a);case 4:var t=r.a,e=r.b;return l(rs,F(0,0,0),F(1,1,1),t,e);default:return t=r.a,l(rs,F(0,0,0),t,F(0,0,1),0)}case 1:var u=(i=n.a).a,a=i.b,c=i.c;switch(r.$){case 0:return ts(F(r.a,a,c));case 1:return ts(F(u,r.a,c));case 2:return ts(F(u,a,r.a));case 3:return ts(t=r.a);case 4:return t=r.a,e=r.b,l(rs,i,F(1,1,1),t,e);default:return l(rs,i,r.a,F(0,0,1),0)}default:u=(i=n.a).a,a=i.b,c=i.c;var i,o=n.b,f=n.c;switch(e=n.d,r.$){case 0:return l(rs,F(r.a,a,c),o,f,e);case 1:return l(rs,F(u,r.a,c),o,f,e);case 2:return l(rs,F(u,a,r.a),o,f,e);case 3:return l(rs,r.a,o,f,e);case 4:return l(rs,i,o,r.a,r.b);default:return l(rs,i,r.a,f,e)}}}),us=function(n){switch(n.$){case 0:var r=fe(n.a),t="height-px-"+r;return F(Ji,t,w([b(Vf,t,"height",r+"px")]));case 1:return F(s(Hf,Rf,Ji),"hc",g);case 2:var e=n.a;return 1===e?F(s(Hf,po,Ji),"hf",g):F(s(Hf,po,Ji),"hfp height-fill-"+fe(e),w([b(Vf,"s.r > "+Ho("height-fill-"+fe(e)),"flex-grow",fe(1e5*e))]));case 3:var u=n.a,a=n.b,c="min-height-"+fe(u),i=b(Vf,c,"min-height",fe(u)+"px"),o=us(a),f=o.b,l=o.c;return F(s(Hf,ho,o.a),c+" "+f,s(ht,i,l));default:var d=n.a,v=(a=n.b,c="max-height-"+fe(d),i=b(Vf,c,"max-height",fe(d)+"px"),us(a));return f=v.b,l=v.c,F(s(Hf,ho,v.a),c+" "+f,s(ht,i,l))}},as=function(n){switch(n.$){case 0:var r=n.a;return F(Ji,"we width-px-"+fe(r),w([b(Vf,"width-px-"+fe(r),"width",fe(r)+"px")]));case 1:return F(s(Hf,Pf,Ji),"wc",g);case 2:var t=n.a;return 1===t?F(s(Hf,$o,Ji),"wf",g):F(s(Hf,$o,Ji),"wfp width-fill-"+fe(t),w([b(Vf,"s.r > "+Ho("width-fill-"+fe(t)),"flex-grow",fe(1e5*t))]));case 3:var e=n.a,u=n.b,a="min-width-"+fe(e),c=b(Vf,a,"min-width",fe(e)+"px"),i=as(u),o=i.b,f=i.c;return F(s(Hf,mo,i.a),a+" "+o,s(ht,c,f));default:var l=n.a,d=(u=n.b,a="max-width-"+fe(l),c=b(Vf,a,"max-width",fe(l)+"px"),as(u));return o=d.b,f=d.c,F(s(Hf,mo,d.a),a+" "+o,s(ht,c,f))}},cs=Fi(27),is=t(function(n,r){if(I(n,cs)){if(3!==r.$)return!1;switch(r.c){case"0px":case"1px":case"2px":case"3px":case"4px":case"5px":case"6px":return!0;default:return!1}}else switch(r.$){case 2:var t=r.a;return t>=8&&32>=t;case 7:var e=r.b,u=r.c,a=r.e;return I(e,r.d)&&I(e,u)&&I(e,a)&&e>=0&&24>=e;default:return!1}}),os=o(function(n,r,t,e,u,a,c,i){n:for(;;){if(!i.b){var o=zo(e);return 1===o.$?{U:s(ht,io(n),a),V:c,Z:t,ac:r,fT:u}:{U:s(ht,io(n+" "+o.a),a),V:c,Z:t,ac:r,fT:s(ht,Zf(e),u)}}var f=i.a,l=i.b;switch(f.$){case 0:n=m=n,r=$=r,t=w=t,e=x=e,u=y=u,a=a,c=c,i=l;continue n;case 3:var d=f.b;if(s(go,h=f.a,t)){n=m=n,r=$=r,t=w=t,e=x=e,u=y=u,a=a,c=c,i=l;continue n}n=m=d+" "+n,r=$=r,t=w=s(Hf,h,t),e=x=e,u=y=u,a=a,c=c,i=l;continue n;case 1:n=m=n,r=$=r,t=w=t,e=x=e,u=y=u,a=s(ht,f.a,a),c=c,i=l;continue n;case 4:var v=f.b;if(s(go,h=f.a,t)){n=m=n,r=$=r,t=w=t,e=x=e,u=y=u,a=a,c=c,i=l;continue n}if(s(is,h,v)){n=m=Io(v)+" "+n,r=$=r,t=w=s(Hf,h,t),e=x=e,u=y=u,a=a,c=c,i=l;continue n}n=m=Io(v)+" "+n,r=$=r,t=w=s(Hf,h,t),e=x=e,u=y=s(ht,v,u),a=a,c=c,i=l;continue n;case 10:var h,p=f.b;n=m=n,r=$=r,t=w=s(Hf,h=f.a,t),e=x=s(es,e,p),u=y=u,a=a,c=c,i=l;continue n;case 7:var g=f.a;if(s(go,Df,t)){n=m=n,r=$=r,t=w=t,e=x=e,u=y=u,a=a,c=c,i=l;continue n}switch(g.$){case 0:var m="we width-px-"+fe(E=g.a)+" "+n,$=r,w=s(Hf,Df,t),x=e,y=s(ht,b(Vf,"width-px-"+fe(E),"width",fe(E)+"px"),u);n=m,r=$,t=w,e=x,u=y,a=a,c=c,i=l;continue n;case 1:n=m=n+" wc",r=$=r,t=w=s(Hf,Pf,s(Hf,Df,t)),e=x=e,u=y=u,a=a,c=c,i=l;continue n;case 2:if(1===(L=g.a)){n=m=n+" wf",r=$=r,t=w=s(Hf,$o,s(Hf,Df,t)),e=x=e,u=y=u,a=a,c=c,i=l;continue n}m=n+" wfp width-fill-"+fe(L),$=r,w=s(Hf,$o,s(Hf,Df,t)),x=e,y=s(ht,b(Vf,"s.r > "+Ho("width-fill-"+fe(L)),"flex-grow",fe(1e5*L)),u),n=m,r=$,t=w,e=x,u=y,a=a,c=c,i=l;continue n;default:var k=as(g),z=k.c;m=n+" "+k.b,$=r,w=s(Nf,k.a,t),x=e,y=H(z,u),n=m,r=$,t=w,e=x,u=y,a=a,c=c,i=l;continue n}case 8:var I=f.a;if(s(go,Mf,t)){n=m=n,r=$=r,t=w=t,e=x=e,u=y=u,a=a,c=c,i=l;continue n}switch(I.$){case 0:var E,T=fe(E=I.a)+"px",A="height-px-"+T;n=m=A+" "+n,r=$=r,t=w=s(Hf,Mf,t),e=x=e,u=y=s(ht,b(Vf,A,"height ",T),u),a=a,c=c,i=l;continue n;case 1:n=m="hc "+n,r=$=r,t=w=s(Hf,Rf,s(Hf,Mf,t)),e=x=e,u=y=u,a=a,c=c,i=l;continue n;case 2:var L;if(1===(L=I.a)){n=m="hf "+n,r=$=r,t=w=s(Hf,po,s(Hf,Mf,t)),e=x=e,u=y=u,a=a,c=c,i=l;continue n}m=n+" hfp height-fill-"+fe(L),$=r,w=s(Hf,po,s(Hf,Mf,t)),x=e,y=s(ht,b(Vf,"s.c > "+Ho("height-fill-"+fe(L)),"flex-grow",fe(1e5*L)),u),n=m,r=$,t=w,e=x,u=y,a=a,c=c,i=l;continue n;default:var O=us(I);z=O.c,m=n+" "+O.b,$=r,w=s(Nf,O.a,t),x=e,y=H(z,u),n=m,r=$,t=w,e=x,u=y,a=a,c=c,i=l;continue n}case 2:var F=f.a;switch(F.$){case 0:n=m=n,r=$=s(Kf,"main",r),t=w=t,e=x=e,u=y=u,a=a,c=c,i=l;continue n;case 1:n=m=n,r=$=s(Kf,"nav",r),t=w=t,e=x=e,u=y=u,a=a,c=c,i=l;continue n;case 2:n=m=n,r=$=s(Kf,"footer",r),t=w=t,e=x=e,u=y=u,a=a,c=c,i=l;continue n;case 3:n=m=n,r=$=s(Kf,"aside",r),t=w=t,e=x=e,u=y=u,a=a,c=c,i=l;continue n;case 4:var _=F.a;if(_>1){if(7>_){m=n,$=s(Kf,"h"+fe(_),r),n=m,r=$,t=w=t,e=x=e,u=y=u,a=a,c=c,i=l;continue n}n=m=n,r=$=s(Kf,"h6",r),t=w=t,e=x=e,u=y=u,a=a,c=c,i=l;continue n}n=m=n,r=$=s(Kf,"h1",r),t=w=t,e=x=e,u=y=u,a=a,c=c,i=l;continue n;case 9:var j=function(){switch(r.$){case 0:return Wf("p");case 1:return Wf(r.a);default:return s(qf,r.a,r.b)}}();n=m=n,r=$=j,t=w=t,e=x=e,u=y=u,a=a,c=c,i=l;continue n;case 8:n=m=n,r=$=r,t=w=t,e=x=e,u=y=u,a=s(ht,s(Cf,"role","button"),a),c=c,i=l;continue n;case 5:n=m=n,r=$=r,t=w=t,e=x=e,u=y=u,a=s(ht,s(Cf,"aria-label",F.a),a),c=c,i=l;continue n;case 6:n=m=n,r=$=r,t=w=t,e=x=e,u=y=u,a=s(ht,s(Cf,"aria-live","polite"),a),c=c,i=l;continue n;default:n=m=n,r=$=r,t=w=t,e=x=e,u=y=u,a=s(ht,s(Cf,"aria-live","assertive"),a),c=c,i=l;continue n}case 9:var C=f.a,M=f.b;z=function(){switch(M.$){case 3:case 2:case 0:return u;default:return H(u,M.a.fT)}}(),n=m=n,r=$=r,t=w=t,e=x=e,u=y=z,a=a,c=b(Xf,C,M,c),i=l;continue n;case 6:var R=f.a;if(s(go,Sf,t)){n=m=n,r=$=r,t=w=t,e=x=e,u=y=u,a=a,c=c,i=l;continue n}m=Yf(R)+" "+n,$=r,w=function(n){switch(R){case 1:return s(Hf,lo,n);case 2:return s(Hf,bo,n);default:return n}}(s(Hf,Sf,t)),n=m,r=$,t=w,e=x=e,u=y=u,a=a,c=c,i=l;continue n;default:var N=f.a;if(s(go,Bf,t)){n=m=n,r=$=r,t=w=t,e=x=e,u=y=u,a=a,c=c,i=l;continue n}m=ns(N)+" "+n,$=r,w=function(n){switch(N){case 1:return s(Hf,vo,n);case 2:return s(Hf,so,n);default:return n}}(s(Hf,Bf,t)),n=m,r=$,t=w,e=x=e,u=y=u,a=a,c=c,i=l;continue n}}}),fs={$:0},ss=fs,bs=u(function(n,r,t,e){return b(jf,n,e,p(os,function(n){switch(n){case 0:return"s r";case 1:return"s c";case 2:return"s e";case 3:return"s g";case 4:return"s p";default:return"s pg"}}(n),r,Ji,ss,g,g,Ui,Tt(t)))}),ls=t(function(n,r){return l(bs,4,Vi,s(ht,Bi(qi),s(ht,Si(Ai),s(ht,Di(5),n))),Wi(r))}),ds=function(n){return{$:0,a:n}},vs=function(n){return{$:2,a:n}},hs=function(n){return vs(n)},ps=Fi(8),gs=e(function(n,r,t){return{$:4,a:n,b:r,c:t}}),ms=function(n){var r=n.b,t=n.c,e=n.d;return ko(n.a)+"-"+ko(r)+"-"+ko(t)+"-"+ko(e)},$s=function(n){return s(Ci,ps,b(gs,"bg-"+ms(n),"background-color",n))},ws=function(n){return s(ls,w([$s(Ei.du),Si(Ai),Oi(ds(50)),Hi(10)]),w([hs(n.fO)]))},xs=l(yi,24,29,74,1),ys=D,ks=e(function(n,r,t){return t?0>t?n*s(ys,r,t):n*s(ys,r,t-1):n}),zs=s(Pe,s(ks,8,1.25),Bu),Is=s(Pe,s(ks,16,1.25),Bu),Es=l(yi,255,255,255,1),Ts=function(n){return{$:6,a:n}},As=Ts(1),Ls={$:1},Os=t(function(n,r){return l(bs,2,Vi,s(ht,Si(Ls),s(ht,Oi(Ls),n)),Wi(w([r])))}),Fs=function(n){return{$:1,a:n}},_s=function(n){return Fs(io(n))},js=t(function(n,r){return l(bs,0,Vi,s(ht,_s("cl ccy"),s(ht,Si(Ls),s(ht,Oi(Ls),n))),Wi(r))}),Cs=Fi(14),Hs=function(n){return s(Ci,Cs,b(gs,"fc-"+ms(n),"color",n))},Ms=Fi(4),Rs=function(n){return{$:2,a:n}},Ns=function(n){return s(Ci,Ms,Rs(n))},Ds=function(n){return s(js,w([Si(Ai),Oi(ds(50)),Hi(zs(2)),$s(xs)]),w([s(Os,w([Ns(Is(2)),Hs(Es),As]),hs(n))]))},Ps=function(n){return{$:5,a:n}},Ss=Ps(0),Bs=t(function(n,r){return l(bs,1,Vi,s(ht,_s("ct cl"),s(ht,Oi(Ls),s(ht,Si(Ls),n))),Wi(r))}),qs=function(n){var r=t(function(n,r){return s(js,w([Di(zs(3))]),w([s(Os,w([Ss,Si(ds(zs(3))),Ns(Is(1))]),hs(n)),s(ls,g,w([hs(r)]))]))});return s(Bs,w([Si(Ai),Oi(Ai),$s(Ei.go)]),w([Ds("Anleitung"),s(Bs,w([As,Oi(Ai),Hi(zs(3)),Di(zs(3))]),w([s(r,"1.","Wählen Sie den gewünschten Perimeter"),s(r,"2.","Produkt auswählen und Daten-Format festlegen"),s(r,"3.","Warenkorb kontrollieren und Bestellung abschicken"),s(r,"4.","Status der Bestellung und Daten herunterladen")])),ws(n)]))},Ws=function(n){var r=function(){var r=n.dx;n:for(;1===r.$;)switch(r.a){case 0:case 1:case 4:return 50;default:break n}return 75}(),t=n.eh.fb?0:53;return Bu(n.dq.dq.eu)-74-t-50-r},Vs=l(yi,245,121,0,1),Zs=Fi(28),Js=function(n){return s(Ci,Zs,b(gs,"bc-"+ms(n),"border-color",n))},Us=Fi(17),Gs=function(n){return s(Ci,Us,b(Vf,"br-"+fe(n),"border-radius",fe(n)+"px"))},Qs=Fi(11),Xs=t(function(n,r){return{$:3,a:n,b:r}}),Ks=s(Xs,Qs,"bs"),Ys=a(function(n,r,t,e,u){return{$:6,a:n,b:r,c:t,d:e,e:u}}),nb=function(n){return s(Ci,cs,d(Ys,"b-"+fe(n),n,n,n,n))},rb=function(n){return w([Hi(n),Js(Vs),Ks,nb(1),Gs(5)])},tb=u(function(n,r,t,e){return{$:0,a:n,b:r,c:t,d:e}}),eb=function(n){return n/255},ub=e(function(n,r,t){return l(tb,eb(n),eb(r),eb(t),1)}),ab=b(ub,170,204,255),cb=vr("http://www.w3.org/2000/svg"),ib=cb("g"),ob=cb("svg"),fb=yr("fill"),sb=yr("height"),bb=yr("viewBox"),lb=yr("width"),db=u(function(n,r,t,e){var u=fe(e),a=function(n){var r={al:n.d,bz:n.c,bD:n.b,bS:n.a},t=r.bD,e=r.bz,u=r.al;return"rgba("+fe(Bu(255*r.bS))+","+fe(Bu(255*t))+","+fe(Bu(255*e))+","+_o(u)+")"}(t);return s(ob,w([lb(u),sb(u),bb(n)]),w([s(ib,w([fb(a)]),r)]))}),vb=cb("path"),hb=yr("d"),pb=s(db,"0 0 48 48",w([s(vb,w([hb("M12 38c0 2.21 1.79 4 4 4h16c2.21 0 4-1.79 4-4V14H12v24zM38 8h-7l-2-2H19l-2 2h-7v4h28V8z")]),g)])),gb=s(Wa,Yi,Fa),mb=gb,$b=En,wb=t(function(n,r){return s(xr,n,$b(r))}),xb=wb("disabled"),yb=Fi(21),kb=s(Xs,yb,"cptr"),zb=$r,Ib=t(function(n,r){return s(zb,n,{$:0,a:r})}),Eb=function(n){return s(Ib,"click",Ce(n))},Tb=s(Wa,Fs,Eb),Ab=function(n){return 4===n.$&&11===n.b.$&&!n.b.a},Lb={$:0},Ob=function(n){return s(sf,Ab,n)?Lb:_s("focusable")},Fb=t(function(n,r){return s(zb,n,{$:2,a:r})}),_b=t(function(n,r){return Fs(s(Fb,"keyup",s(_e,function(n){return O(n,!0)},s(ac,function(t){return I(t,n)?Ce(r):ic("Not the enter key")},s(ge,"key",$e)))))}),jb={$:8},Cb=t(function(n,r){var t=r.bk,e=r.aw;return l(bs,2,Vi,s(ht,Si(Ls),s(ht,Oi(Ls),s(ht,_s("ccx ccy sbt notxt"),s(ht,kb,s(ht,Ob(n),s(ht,Bi(jb),s(ht,Fs(s(yr,"tabIndex",fe(0))),function(){if(1===t.$)return s(ht,Fs(xb(!0)),n);var r=t.a;return s(ht,Tb(r),s(ht,function(n){return s(_b,"Enter",n)}(r),n))}()))))))),Wi(w([e])))}),Hb=function(n){return s(Cb,rb(10),{aw:mb(s(pb,ab,24)),bk:Pt((r=n.fa,{$:18,a:r}))});var r},Mb=s(db,"0 0 48 48",w([s(vb,w([hb("M38.71 20.07C37.35 13.19 31.28 8 24 8c-5.78 0-10.79 3.28-13.3 8.07C4.69 16.72 0 21.81 0 28c0 6.63 5.37 12 12 12h26c5.52 0 10-4.48 10-10 0-5.28-4.11-9.56-9.29-9.93zM34 26L24 36 14 26h6v-8h8v8h6z")]),g)])),Rb=function(n){return n},Nb=function(n){return s(co,"href",/^javascript:/i.test((r=n).replace(/\s/g,""))?"":r);var r},Db=t(function(n,r){var t=r.bu,e=r.em,u=r.aw;return l(bs,2,Wf("a"),s(ht,Fs(Nb(t)),s(ht,Fs(s(co,"download",e)),s(ht,Si(Ls),s(ht,Oi(Ls),s(ht,_s("ccx"),s(ht,_s("ccy"),n)))))),Wi(w([u])))}),Pb={$:3},Sb=Pb,Bb=e(function(n,r,t){return{ch:r,cW:t,c6:n}}),qb=function(n){return b(Bb,n.c6,n.ch,n.cW)},Wb=t(function(n,r){n:for(;;)switch(n.$){case 0:return r;case 1:var t=n.b;n=n.a,r=s(ht,t,r);continue n;default:var e=n.b;n=n.a,r=s(Wb,e,r);continue n}}),Vb=t(function(n,r){var t=n({ch:1,f:g,g:1,b:0,c6:1,a:r});return t.$?Bt(s(Wb,t.b,g)):qt(t.b)}),Zb=t(function(n,r){var t=s(Vb,n,r);return t.$?Bt(s(Uu,qb,t.a)):qt(t.a)}),Jb=t(function(n,r){return{$:1,a:n,b:r}}),Ub=e(function(n,r,t){return{$:0,a:n,b:r,c:t}}),Gb=t(function(n,r){var t=r;return function(r){var e=t(r);if(1===e.$)return s(Jb,e.a,e.b);var u=e.a,a=e.c,c=n(e.b)(a);if(1===c.$){var i=c.a;return s(Jb,u||i,c.b)}return i=c.a,b(Ub,u||i,c.b,c.c)}}),Qb=Gb,Xb=t(function(n,r){return{$:1,a:n,b:r}}),Kb=u(function(n,r,t,e){return{ch:r,d9:e,cW:t,c6:n}}),Yb={$:0},nl=t(function(n,r){return s(Xb,Yb,l(Kb,n.c6,n.ch,r,n.f))}),rl=(Ka={$:10},function(n){return I(wa(n.a),n.b)?b(Ub,!1,0,n):s(Jb,!1,s(nl,n,Ka))}),tl=e(function(n,r,t){var e=r,u=t;return function(r){var t=e(r);if(1===t.$)return s(Jb,t.a,t.b);var a=t.a,c=t.b,i=u(t.c);if(1===i.$){var o=i.a;return s(Jb,a||o,i.b)}o=i.a;var f=i.c;return b(Ub,a||o,s(n,c,i.b),f)}}),el=t(function(n,r){return b(tl,Fa,n,r)}),ul=el,al=t(function(n,r){return b(tl,_t,n,r)}),cl=al,il=t(function(n,r){var t=r;return function(r){var e=t(r);if(e.$)return s(Jb,e.a,e.b);var u=e.c;return b(Ub,e.a,n(e.b),u)}}),ol=il,fl=t(function(n,r){return{$:2,a:n,b:r}}),sl=e(function(n,r,t){n:for(;;){if(t.b){var e=t.b,u=(0,t.a)(n);if(u.$){var a;if((a=u).a)return a;n=n,r=s(fl,r,a.b),t=e;continue n}return u}return s(Jb,!1,r)}}),bl=function(n){return function(r){return b(sl,r,Yb,n)}},ll=function(n){return function(r){return b(Ub,!1,n,r)}},dl=t(function(n,r){return{$:0,a:n,b:r}}),vl=at,hl=function(n){return function(n){var r=n.a,t=n.b,e=!za(r);return function(n){var u=d(vl,r,n.b,n.c6,n.ch,n.a),a=u.a,c=u.b,i=u.c;return I(a,-1)?s(Jb,!1,s(nl,n,t)):b(Ub,e,0,{ch:i,f:n.f,g:n.g,b:a,c6:c,a:n.a})}}(s(dl,n,{$:8,a:n}))},pl=ct,gl=a(function(n,r,t,e,u){for(;;){var a=b(pl,n,r,u.a);if(I(a,-1))return b(Ub,0>T(u.b,r),0,{ch:e,f:u.f,g:u.g,b:r,c6:t,a:u.a});I(a,-2)?(n=n,r+=1,t+=1,e=1,u=u):(n=n,r=a,t=t,e+=1,u=u)}}),ml=function(n){return function(r){return d(gl,n,r.b,r.c6,r.ch,r)}},$l=t(function(n,r){var t=r;return function(r){var e=t(r);if(1===e.$)return s(Jb,e.a,e.b);var u=e.b,a=e.c;return b(Ub,e.a,s(n,b(xa,r.b,a.b,r.a),u),a)}}),wl=function(n){return s($l,Fa,n)},xl=function(n){return r={$:12,a:n},function(n){return s(Jb,!1,s(nl,n,r))};var r},yl=s(Qb,function(n){if(wa(n)>9)return xl("Expected at most 9 digits, but got "+fe(wa(n)));var r=function(n){if(0===n.length||/[\sxbo]/.test(n))return St;var r=+n;return r==r?Pt(r):St}("0."+n);return r.$?xl('Invalid float: "'+n+'"'):ll(Bu(1e3*r.a))},wl(ml(re))),kl=c(function(n,r,t,e,u,a){return ea(n+60*r*60*1e3+60*(t-a)*1e3+1e3*e+u)}),zl=function(n){return s(Qb,function(r){if(I(wa(r),n)){var t=function(n){for(var r=0,t=n.charCodeAt(0),e=43==t||45==t?1:0,u=e;n.length>u;++u){var a=n.charCodeAt(u);if(48>a||a>57)return St;r=10*r+a-48}return u==e?St:Pt(45==t?-r:r)}(r);return t.$?xl('Invalid integer: "'+r+'"'):ll(t.a)}return xl("Expected "+fe(n)+" digits, but got "+fe(wa(r)))},wl(ml(re)))},Il=function(n){return xl("Invalid day: "+fe(n))},El=P,Tl=function(n){return!s(El,4,n)&&(s(El,100,n)||!s(El,400,n))},Al=function(n){var r=n-1;return(r/4|0)-(r/100|0)+(r/400|0)},Ll=function(n){var r=n.a,t=n.b,e=n.c;if(0>e)return Il(e);var u=function(n){var u=31536e6*(r-1970),a=864e5*((3>t||!Tl(r)?e-1:e)+(Al(r)-Al(1970)));return ll(n+u+a)};switch(t){case 1:return e>31?Il(e):u(0);case 2:return e>29||29===e&&!Tl(r)?Il(e):u(26784e5);case 3:return e>31?Il(e):u(50976e5);case 4:return e>30?Il(e):u(7776e6);case 5:return e>31?Il(e):u(10368e6);case 6:return e>30?Il(e):u(130464e5);case 7:return e>31?Il(e):u(156384e5);case 8:return e>31?Il(e):u(183168e5);case 9:return e>30?Il(e):u(209952e5);case 10:return e>31?Il(e):u(235872e5);case 11:return e>30?Il(e):u(262656e5);case 12:return e>31?Il(e):u(288576e5);default:return xl('Invalid month: "'+fe(t)+'"')}},Ol=s(Qb,Ll,s(cl,s(cl,s(cl,ll(e(function(n,r,t){return F(n,r,t)})),s(ul,zl(4),hl("-"))),s(ul,zl(2),hl("-"))),zl(2))),Fl=e(function(n,r,t){return n*(60*r+t)}),_l=s(Qb,function(n){return bl(w([s(cl,s(cl,s(cl,s(cl,s(cl,s(ul,ll(kl(n)),hl("T")),s(ul,zl(2),hl(":"))),s(ul,zl(2),hl(":"))),zl(2)),bl(w([s(cl,s(ul,ll(Se),hl(".")),yl),ll(0)]))),bl(w([s(ol,function(){return 0},hl("Z")),s(cl,s(cl,s(cl,ll(Fl),bl(w([s(ol,function(){return 1},hl("+")),s(ol,function(){return-1},hl("-"))]))),s(ul,zl(2),hl(":"))),zl(2))]))),s(ul,ll(v(kl,n,0,0,0,0,0)),rl)]))},Ol),jl=t(function(n,r){var e,u=t(function(n,r){return 1e3*n*60*60*24+Rb(r)});return(e=s(Zb,_l,r.en+"Z")).$?hs("TODO deadEndsToString"):T(s(u,5,e.a),Rb(n))>0?s(Db,rb(10),{em:"Bestellung-"+r.fV,aw:mb(s(Mb,ab,24)),bu:Qc(r.fa)+"/download"}):Sb}),Cl=s(db,"0 0 48 48",w([s(vb,w([hb("M24 10V2L14 12l10 10v-8c6.63 0 12 5.37 12 12s-5.37 12-12 12-12-5.37-12-12H8c0 8.84 7.16 16 16 16s16-7.16 16-16-7.16-16-16-16z")]),g)])),Hl=function(n){return s(Cb,rb(10),{aw:mb(s(Cl,ab,24)),bk:Pt((r=n,{$:17,a:r}))});var r},Ml=e(function(n,r,t){return function(){switch(n+1e3){case 1001:case 1e3:return"Bestellung ist in der Warteschlange";case 1002:case 1003:return"Bestellung in Bearbeitung";case 995:return"FEHLER: Unbekannter Gebietsperimeter (falsche BFS-Nummer / EGRIS oder EGRID)";case 1010:case 1011:case 1012:case 1050:case 1051:return"Bestellung in Bearbeitung";case 910:return"FEHLER: Datenmenge hat die maximale Grösse überschritten, nicht ausgeliefert";case 1100:return"Bestellung in Bearbeitung";case 1200:return"Daten bereit zum Herunterladen"+(za(t)?"":' und E-Mail an Adresse "'+t+'" versandt');case 790:return"FEHLER: E-Mail konnte nicht zugestellt werden";case 901:return"FEHLER: Ein unerwarteter Fehler ist aufgetreten";default:return function(n){switch(n){case"SUBMITTED":return"Bestellung erhalten, noch nicht in der Warteschlange.";case"QUEUED":return"Bestellung in der Warteschlange";case"WORKING: Processing":return"Bestellung in Bearbeitung.";case"WORKING: Data transfer started":return'Daten aufbereitet und für den E-Mail-Versand durch "webtransfer.zh.ch" vorbereitet.';case"SUCCESS: Data transfer succeeded":return'Daten bereit, E-Mail von "webtransfer.zh.ch" mit Download-Link verschickt.';case"FAILURE: Output dataset exceeded maximum size, not delivered":return"FEHLER: Bestellte Datenmenge zu gross.";case"FAILURE: Data transfer failed":return"FEHLER: Problem beim Versenden der E-Mail (Adresse überprüfen).";default:return n}}(r)}}()+" (#"+fe(n)+")."}),Rl=l(yi,255,255,255,1),Nl=function(n){return{$:20,a:n}},Dl=t(function(n,r){return{$:21,a:n,b:r}}),Pl=l(yi,0,0,0,1),Sl=l(yi,73,87,134,1),Bl=l(yi,204,204,204,1),ql=s(db,"0 0 48 48",w([s(vb,w([hb("M34 6H10c-2.21 0-4 1.79-4 4v28c0 2.21 1.79 4 4 4h28c2.21 0 4-1.79 4-4V14l-8-8zM24 38c-3.31 0-6-2.69-6-6s2.69-6 6-6 6 2.69 6 6-2.69 6-6 6zm6-20H10v-8h20v8z")]),g)])),Wl=s(db,"0 0 48 48",w([s(vb,w([hb("M6 34.5V42h7.5l22.13-22.13-7.5-7.5L6 34.5zm35.41-20.41c.78-.78.78-2.05 0-2.83l-4.67-4.67c-.78-.78-2.05-.78-2.83 0l-3.66 3.66 7.5 7.5 3.66-3.66z")]),g)])),Vl=co("id"),Zl=Fs,Jl=Fi(33),Ul=t(function(n,r){return{$:11,a:n,b:r}}),Gl=Er,Ql=t(function(n,r){return{$:9,a:n,b:r}}),Xl=t(function(n,r){return{$:10,a:n,b:r}}),Kl=mr,Yl=t(function(n,r){switch(r.$){case 1:var e=r.a;return Ki({eA:t(function(r,t){return s(Kl,n,s(e.eA,r,t))}),fT:e.fT});case 0:var u=r.a;return Yi(s(Wa,Kl(n),u));case 2:return vs(r.a);default:return Pb}}),nd=t(function(n,r){switch(r.$){case 0:return Lb;case 2:return Bi(r.a);case 6:return Ts(r.a);case 5:return Ps(r.a);case 7:return Pi(r.a);case 8:return Li(r.a);case 3:return s(Xs,r.a,r.b);case 4:return s(Ci,r.a,r.b);case 9:return s(Ql,r.a,s(Yl,n,r.b));case 1:return Fs(s(Gl,n,r.a));default:return s(Xl,r.a,r.b)}}),rd=t(function(n,r){var t=r.a,e=r.b,u=s(nd,ma,n);switch(u.$){case 4:return O(s(ht,u.b,t),e);case 10:return O(t,s(es,e,u.b));default:return O(t,e)}}),td=function(n){var r=b(Et,rd,O(g,fs),n),t=r.a;return s(ht,Zf(r.b),t)},ed=function(n){return s(Ci,Jl,s(Ul,1,td(n)))},ud=t(function(n,r){return s(Ci,cs,d(Ys,"b-"+fe(n)+"-"+fe(r),r,n,r,n))}),ad=function(n){var r=n.dW,t=n.gc,e=n.eM,u=n.ft;return I(t,r)&&I(e,u)?I(t,u)?nb(t):s(ud,e,t):s(Ci,cs,d(Ys,"b-"+fe(t)+"-"+fe(u)+"-"+fe(r)+"-"+fe(e),t,u,r,e))},cd=Fi(13),id=s(Xs,cd,"w7"),od=Fi(12),fd=s(Xs,od,"tc"),sd=function(n){return{$:0,a:n}},bd=co("type"),ld=function(n){return O(n,!0)},dd=t(function(n,r){return s(zb,n,{$:1,a:r})}),vd=t(function(n,r){return b(Eu,ge,r,n)}),hd=s(vd,w(["target","value"]),$e),pd=Fi(0),gd=t(function(n,r){return{$:12,a:n,b:r}}),md=u(function(n,r,t,e){return"pad-"+fe(n)+"-"+fe(r)+"-"+fe(t)+"-"+fe(e)}),$d=xi,wd=u(function(n,r,t,e){return{$:0,a:n,b:r,c:t,d:e}}),xd=e(function(n,r,t){if(1===r.$)return l(bs,1,Wf("label"),n,Wi(w([t])));var e=r.a,u=l(bs,2,Vi,r.b,Wi(w([r.c])));switch(e){case 2:return l(bs,1,Wf("label"),n,Wi(w([u,t])));case 3:return l(bs,1,Wf("label"),n,Wi(w([t,u])));case 0:return l(bs,0,Wf("label"),n,Wi(w([t,u])));default:return l(bs,0,Wf("label"),n,Wi(w([u,t])))}}),yd=Cf,kd=s(Wa,Fs,yd("autocomplete")),zd=e(function(n,r,t){return l(xi,n,r,t,1)}),Id=b(zd,136/255,138/255,133/255),Ed=b(zd,186/255,189/255,182/255),Td=t(function(n,r){return I(n,r)?s(Ci,_i,d(ji,"p-"+fe(n),n,n,n,n)):s(Ci,_i,d(ji,"p-"+fe(n)+"-"+fe(r),r,n,r,n))}),Ad=s(Td,12,12),Ld=b(zd,1,1,1),Od=w([Ad,Gs(3),Js(Ed),$s(Ld),nb(1),Di(3),Si(Ai)]),Fd=function(n){n:for(;4===n.$;)switch(n.b.$){case 7:case 6:case 10:return!0;default:break n}return!1},_d=wb("spellcheck"),jd=s(Wa,Fs,_d),Cd=Fi(47),Hd=u(function(n,r,t,e){var u,a=function(n){return n.a+n.c},c=1>(u=ee(w(n.split(/\r\n|\r|\n/g))))?1:u,i=(c-1)*r+s(Dc,0,s(To,a,t))+s(Dc,0,s(To,a,e));return s(Ci,Cd,b(Vf,"textarea-height-"+fe(c),"height","calc("+fe(c)+"em + "+fe(i)+"px) !important"))}),Md=co("value"),Rd=s(Wa,Fs,Md),Nd=Bi({$:6}),Dd=t(function(n,r){return b(Eu,t(function(n,t){return r(n)?s(ht,n,t):t}),g,function(n){return b(Eu,t(function(n,r){var t=r.a,e=r.b;switch(n.$){case 0:return O(t,e);case 3:case 1:case 4:return O(s(ht,n,t),e);case 7:return s(xo,"width",e)?O(t,e):O(s(ht,n,t),s(Vu,"width",e));case 8:return s(xo,"height",e)?O(t,e):O(s(ht,n,t),s(Vu,"height",e));case 2:return s(xo,"described",e)?O(t,e):O(s(ht,n,t),s(Vu,"described",e));case 9:return O(s(ht,n,t),e);case 6:return s(xo,"align-x",e)?O(t,e):O(s(ht,n,t),s(Vu,"align-x",e));case 5:return s(xo,"align-y",e)?O(t,e):O(s(ht,n,t),s(Vu,"align-y",e));default:return s(xo,"transform",e)?O(t,e):O(s(ht,n,t),s(Vu,"transform",e))}}),O(g,Wu),n).a}(n))}),Pd=function(n){n:for(;;)switch(n.$){case 1:return!0;case 4:case 3:n=n.b;continue n;default:return!1}},Sd=e(function(n,r,e){var u,a,c=function(n){return 9===n.$},i=w([Fs((u=e.e1,s(dd,"input",s(_e,ld,s(_e,u,hd)))))]),o=H(Od,r),f=s(Dd,o,function(n){n:for(;;)switch(n.$){case 7:case 8:if(2===n.a.$)return!0;break n;case 6:case 5:return!0;case 4:switch(n.b.$){case 5:case 2:case 1:return!0;default:break n}default:break n}return!1}),v=s($f,Fd,o),h=s(Dd,o,function(n){return 8===n.$&&2===n.a.$}),p=s(Dd,o,function(n){return 9===n.$}),m=s($f,s(Wa,_a,c),o),$=function(){var r=n.dn;if(r.$){var u=b(Eu,t(function(n,r){n:for(;;)switch(n.$){case 2:return r;case 8:var t=n.a;return 1===r.be.$?j(r,{r:s(ht,n,r.r),be:Pt(Pd(t))}):r;case 4:switch(n.b.$){case 6:var e=n.b,u=e.b,a=e.c,c=e.d,i=e.e;return 1===r.bh.$?j(r,{r:s(ht,n,r.r),bh:Pt(l(wd,u,a,c,i))}):r;case 7:var o=n.b;return u=o.b,a=o.c,c=o.d,i=o.e,1===r.bi.$?j(r,{r:r.r,bi:Pt(l(wd,u,a,c,i))}):r;case 5:var f=n.b.c;return 1===r.bj.$?j(r,{r:s(ht,n,r.r),bj:Pt(f)}):r;default:break n}default:break n}return j(r,{r:s(ht,n,r.r)})}),{r:g,be:St,bh:St,bi:St,bj:St},o),a=u.bi,c=u.be,i=u.r,f=u.bh,v=s(Dc,5,u.bj);return F("textarea",H(w([jd(n.w),_s("iml"),s(Dc,Lb,s(To,kd,n.v)),function(){if(1===a.$)return Lb;var n,r,t,e,u,c=a.a,i=c.a,o=c.b,f=c.d;return e=(n={dW:s(Ct,0,c.c-(v/2|0)),eM:f,ft:o,gc:s(Ct,0,i-(v/2|0))}).dW,u=n.eM,I(r=n.gc,t=n.ft)&&I(r,e)&&I(r,u)?s(Ci,_i,d(ji,"p-"+fe(r),r,r,r,r)):s(Ci,_i,d(ji,l(md,r,t,e,u),r,t,e,u))}(),1===c.$?Lb:c.a?l(Hd,e.fX,v,a,f):Lb]),i),w([gb(Of(e.fX))]))}var h,p=r.a;return F("input",H(w([Rd(e.fX),Fs(bd(p)),jd(n.w),_s("it"),(h=n.v,1===h.$?Lb:kd(h.a))]),m),g)}(),x=$.a,y=$.b,k=$.c,z=l(bs,2,Vi,s(ht,Si(Ai),Vo(w([p,h,function(){var n=e.fj;if(1===n.$)return g;var r,t,u,a=n.a,c=a.a,i=a.b;return w([(r=s(Os,s(ht,Ad,H(v,H(w([Hs(Id),_s("notxt ppe"),Js(l($d,0,0,0,0)),$s(l($d,0,0,0,0)),Oi(Ai),Si(Ai),(t=""===e.fX?1:0,u=1-s(vi,1,s(Ct,0,t)),s(Ci,pd,s(gd,"transparency-"+ko(u),u)))]),c))),i),s(Ql,4,r))])}()]))),Wi(w([l(bs,2,Wf(x),Vo(w([w([Ob(r),(a=e.aw,1===a.$?Bi({$:5,a:a.a}):Lb)]),y,i])),Wi(k))])));return b(xd,s(ht,s(Xs,yb,"ctxt"),s(ht,1===e.aw.$?Lb:Di(5),s(ht,Nd,f))),e.aw,z)}),Bd=Sd({v:St,w:!1,dn:sd("text")}),qd={cg:"",d5:"#74b4c9",fI:30,dc:1},Wd=function(n){return{$:0,a:n}},Vd=t(function(n,r){return Wd(n+":"+r)}),Zd=e(function(n,r,t){n:for(;;)switch(t.$){case 0:var e=s(Dc,"",li(s(be,":",t.a)));return s(Vd,r,e);case 1:return s(Vd,r,"elm-css-error-cannot-apply-"+n+"-with-inapplicable-Style-for-selector");case 2:return s(Vd,r,"elm-css-error-cannot-apply-"+n+"-with-inapplicable-Style-for-combinator");case 3:return s(Vd,r,"elm-css-error-cannot-apply-"+n+"-with-inapplicable-Style-for-pseudo-element setter");case 4:return s(Vd,r,"elm-css-error-cannot-apply-"+n+"-with-inapplicable-Style-for-media-query");case 5:return s(Vd,r,"elm-css-error-cannot-apply-"+n+"-with-inapplicable-Style-for-keyframes");default:if(t.a.b){if(t.a.b.b){n=n,r=r,t={$:6,a:t.a.b};continue n}n=n,r=r,t=t.a.a;continue n}return s(Vd,r,"elm-css-error-cannot-apply-"+n+"-with-empty-Style")}}),Jd=e(function(n,r,t){return{b$:0,cc:0,as:0,p:0,aP:0,ax:0,N:0,ay:0,az:0,_:0,aa:0,C:0,Q:t,aH:0,aJ:r,aZ:n,F:H(_o(t),r)}}),Ud=b(Jd,0,"",0),Gd=function(n){return b(Zd,"alignItems","align-items",n(Ud))},Qd=t(function(n,r){return Wd(n+":"+r)}),Xd=t(function(n,r){return s(Qd,n,r.F)}),Kd=function(n){return"none"===n.F||"inherit"===n.F||"unset"===n.F||"initial"===n.F?s(Xd,"animation-name",n):{$:5,a:n.F}},Yd={dG:0,c:0,as:0,bf:0,eL:0,ax:0,N:0,C:0,aB:0,y:0,br:0,aI:0,u:0,F:"auto"},nv=function(n){return s(Qd,"background-color",n.F)},rv=Xd("border-radius"),tv=Xd("flex-end"),ev=Xd("height"),uv=G,av=function(n){return b(uv,ht,g,n)},cv=Z,iv=function(n){return s(ka,"#",n)?n:s(cv,"#",n)},ov=function(n){return{al:1,bz:0,d5:0,bD:0,bS:0,F:iv(n)}},fv=function(n){return x(n).join("")},sv=function(n){return n.toLowerCase()},bv=function(n){return n.b?Pt(n.b):St},lv=function(n){return s(cv,n,"")},dv=e(function(n,r,t){n:for(;;){if(!r.b)return qt(t);var e=r.a,u=r.b;switch(e){case"0":n=a=n-1,r=c=u,t=i=t;continue n;case"1":var a=n-1,c=u,i=t+s(ys,16,n);n=a,r=c,t=i;continue n;case"2":a=n-1,c=u,i=t+2*s(ys,16,n),n=a,r=c,t=i;continue n;case"3":a=n-1,c=u,i=t+3*s(ys,16,n),n=a,r=c,t=i;continue n;case"4":a=n-1,c=u,i=t+4*s(ys,16,n),n=a,r=c,t=i;continue n;case"5":a=n-1,c=u,i=t+5*s(ys,16,n),n=a,r=c,t=i;continue n;case"6":a=n-1,c=u,i=t+6*s(ys,16,n),n=a,r=c,t=i;continue n;case"7":a=n-1,c=u,i=t+7*s(ys,16,n),n=a,r=c,t=i;continue n;case"8":a=n-1,c=u,i=t+8*s(ys,16,n),n=a,r=c,t=i;continue n;case"9":a=n-1,c=u,i=t+9*s(ys,16,n),n=a,r=c,t=i;continue n;case"a":a=n-1,c=u,i=t+10*s(ys,16,n),n=a,r=c,t=i;continue n;case"b":a=n-1,c=u,i=t+11*s(ys,16,n),n=a,r=c,t=i;continue n;case"c":a=n-1,c=u,i=t+12*s(ys,16,n),n=a,r=c,t=i;continue n;case"d":a=n-1,c=u,i=t+13*s(ys,16,n),n=a,r=c,t=i;continue n;case"e":a=n-1,c=u,i=t+14*s(ys,16,n),n=a,r=c,t=i;continue n;case"f":a=n-1,c=u,i=t+15*s(ys,16,n),n=a,r=c,t=i;continue n;default:return Bt(lv(e)+" is not a valid hexadecimal character.")}}}),vv=function(n){if(za(n))return Bt("Empty strings are not valid hexadecimal strings.");var r=function(){if(s(ka,"-",n)){var r=s(Dc,g,bv(av(n)));return s(nu,ff,b(dv,ee(r)-1,r,0))}return b(dv,wa(n)-1,av(n),0)}();return s(De,function(r){return s(se," ",w(['"'+n+'"',"is not a valid hexadecimal string because",r]))},r)},hv=a(function(n,r,t,e,u){var a=r.a,c=r.b,i=t.a,o=t.b,f=e.a,b=e.b,l=u.a,d=u.b,v=s(Pe,fv,s(Pe,sv,vv)),h=O(O(v(w([a,c])),v(w([i,o]))),O(v(w([f,b])),v(w([l,d]))));if(h.a.a.$||h.a.b.$||h.b.a.$||h.b.b.$)return ov(n);var p=h.a,g=h.b;return{al:g.b.a/255,bz:g.a.a,d5:0,bD:p.b.a,bS:p.a.a,F:iv(n)}}),pv=function(n){var r=av(s(ka,"#",n)?s(ya,1,n):n);n:for(;;){if(r.b&&r.b.b&&r.b.b.b){if(r.b.b.b.b){if(r.b.b.b.b.b){if(r.b.b.b.b.b.b){if(r.b.b.b.b.b.b.b){if(r.b.b.b.b.b.b.b.b&&!r.b.b.b.b.b.b.b.b.b){var t=r.b,e=t.b,u=(v=e.a,e.b),a=(p=u.a,u.b),c=(m=a.a,a.b),i=($=c.a,c.b),o=i.a,f=i.b.a;return d(hv,n,O(r.a,t.a),O(v,p),O(m,$),O(o,f))}break n}var b=r.b,l=b.b,v=l.a,h=l.b,p=h.a,g=h.b,m=g.a,$=g.b.a;return d(hv,n,O(r.a,b.a),O(v,p),O(m,$),O("f","f"))}break n}var w=r.b,x=(I=w.a,w.b),y=(E=x.a,x.b.a);return d(hv,n,O(k=r.a,k),O(I,I),O(E,E),O(y,y))}var k,z=r.b,I=z.a,E=z.b.a;return d(hv,n,O(k=r.a,k),O(I,I),O(E,E),O("f","f"))}break n}return ov(n)},gv=function(n){return b(Zd,"justifyContent","justify-content",n(Ud))},mv=e(function(n,r,t){return s(Qd,n,s(se," ",w([r.F,t.F])))}),$v=mv("margin"),wv=Xd("position"),xv=s(Jd,0,"px"),yv={aR:0,F:"relative"},kv=Xd("space-between"),zv=Xd("width"),Iv=function(n){var r=n.a,t=s(se,"",s(Uu,function(n){return n+";"},n.b));return fe(r)+"% {"+t+"}"},Ev=function(n){return s(se,"\n\n",s(Uu,Iv,n))},Tv=function(n){return Gi(n)?{bI:0,bO:0,F:"none"}:{bI:0,bO:0,F:Ev(n)}},Av=t(function(n,r){return n+":"+r}),Lv=e(function(n,r,t){return{$:0,a:n,b:r,c:t}}),Ov=Lv,Fv=Ov,_v=Fv("div"),jv=t(function(n,r){return s(xr,function(n){return"innerHTML"==n||"formAction"==n?"data-"+n:n}(n),zr(r))}),Cv=e(function(n,r,t){return{$:0,a:n,b:r,c:t}}),Hv=t(function(n,r){return b(Cv,s(jv,n,r),g,"")}),Mv=t(function(n,r){return s(Hv,n,Hc(r))}),Rv=Mv("className"),Nv=u(function(n,r,t,e){return{ap:e,av:t,af:r,aE:n}}),Dv=t(function(n,r){return(65535&r)*n+(((r>>>16)*n&65535)<<16)}),Pv=t(function(n,r){return r<<n|r>>>32-n}),Sv=t(function(n,r){return s(Dv,5,s(Pv,13,n^s(Dv,461845907,s(Pv,15,s(Dv,3432918353,r)))))+3864292196}),Bv=t(function(n,r){var t=r.av|(255&Xt(n))<<r.aE;return 24===r.aE?{ap:r.ap+1,av:0,af:s(Sv,r.af,t),aE:0}:{ap:r.ap+1,av:t,af:r.af,aE:r.aE+8}}),qv=U,Wv=t(function(n,r){return((a=s(Dv,3266489909,(u=s(Dv,2246822507,(e=((t=b(qv,Bv,l(Nv,0,n,0,0),r)).av?t.af^s(Dv,461845907,s(Pv,15,s(Dv,3432918353,t.av))):t.af)^t.ap)^e>>>16))^u>>>13))^a>>>16)>>>0;var t,e,u,a}),Vv=function(n){return w([n])},Zv=function(n){return{ce:St,cz:g,cL:g,da:n}},Jv=function(n){return n},Uv=e(function(n,r,t){n:for(;;){if(n>0){if(r.b){var e=r.a;n-=1,r=r.b,t=s(ht,e,t);continue n}return t}return t}}),Gv=t(function(n,r){return Tt(b(Uv,n,r,g))}),Qv=e(function(n,r,t){if(r>0){var e=O(r,t);n:for(;;){r:for(;;){if(!e.b.b)return t;if(!e.b.b.b){if(1===e.a)break n;break r}switch(e.a){case 1:break n;case 2:var u=e.b;return w([u.a,u.b.a]);case 3:if(e.b.b.b.b){var a=e.b,c=a.b;return w([a.a,c.a,c.b.a])}break r;default:if(e.b.b.b.b&&e.b.b.b.b.b){var i=e.b,o=i.b,f=o.b,l=f.b,d=l.b;return s(ht,i.a,s(ht,o.a,s(ht,f.a,s(ht,l.a,n>1e3?s(Gv,r-4,d):b(Qv,n+1,r-4,d)))))}break r}}return t}return w([e.b.a])}return g}),Xv=t(function(n,r){return b(Qv,0,n,r)}),Kv=function(n){n:for(;;){if(n.b){if(n.a.$){n=t=n.b;continue n}var r=n.a.a,t=n.b;return H(s(ht,r.a,r.b),Kv(t))}return g}},Yv=function(n){n:for(;;){if(n.b){if(n.b.b){n=n.b;continue n}return Pt(w([n.a]))}return St}},nh=function(n){var r,t=function(n){return n.b?s(ht,n.a,t(n.b)):g};return w([(r=t(n),{$:9,a:r})])},rh=a(function(n,r,t,e,u){return{$:3,a:n,b:r,c:t,d:e,e:u}}),th=a(function(n,r,t,e,u){return u.$?u:d(rh,n,r,t,e,u.a)}),eh=t(function(n,r){return{$:1,a:n,b:r}}),uh=t(function(n,r){return{$:2,a:n,b:r}}),ah=t(function(n,r){switch(r.$){case 0:return s(eh,n,w([r.a]));case 1:var t=r.b;return s(eh,H(n,r.a),t);case 2:var e=r.b;return s(uh,r.a,s(Uu,ah(n),e));case 3:return d(rh,r.a,r.b,r.c,r.d,r.e);case 4:case 5:case 6:case 7:case 8:default:return r}}),ch=function(n){return{$:8,a:n}},ih=function(n){return{$:5,a:n}},oh=function(n){return{$:6,a:n}},fh=t(function(n,r){return{$:4,a:n,b:r}}),sh=e(function(n,r,t){return{$:0,a:n,b:r,c:t}}),bh=e(function(n,r,t){return{$:0,a:n,b:r,c:t}}),lh=function(n){return{$:0,a:n}},dh=function(n){return{$:7,a:n}},vh=t(function(n,r){return r.b?r.b.b?s(ht,r.a,s(vh,n,r.b)):w([n(r.a)]):r}),hh=t(function(n,r){return b(bh,r.a,r.b,H(r.c,w([n])))}),ph=t(function(n,r){if(!r.b)return r;if(r.b.b)return s(ht,r.a,s(ph,n,r.b));switch(r.a.$){case 0:return w([lh(s(hh,n,r.a.a))]);case 1:var t=r.a,e=t.b;return w([s(eh,t.a,s(vh,hh(n),e))]);default:return r}}),gh=t(function(n,r){if(r.b.b){var t=r.a,e=r.b,u=(c=r.c,s(Uu,n,e)),a=n(t);return w([b(bh,t,e,c),b(bh,a,u,g)])}var c,i=r.a;return w([b(bh,i,g,c=r.c),b(bh,n(i),g,g)])}),mh=t(function(n,r){return b(sh,r.a,r.b,Pt(n))}),$h=t(function(n,r){return s(gh,mh(n),r)}),wh=t(function(n,r){return{$:2,a:n,b:r}}),xh=t(function(n,r){return{$:0,a:n,b:r}}),yh=function(n){return{$:1,a:n}},kh=t(function(n,r){switch(r.$){case 0:return s(xh,r.a,H(r.b,w([n])));case 1:return yh(H(r.a,w([n])));default:return s(wh,r.a,H(r.b,w([n])))}}),zh=t(function(n,r){if(r.b){if(r.b.b)return s(ht,r.a,s(zh,n,r.b));var t=r.a;return w([O(t.a,s(kh,n,t.b))])}return g}),Ih=t(function(n,r){if(r.b.b)return t=r.c,b(sh,r.a,s(zh,n,r.b),t);var t=r.c;return b(sh,s(kh,n,r.a),g,t)}),Eh=t(function(n,r){return s(gh,Ih(n),r)}),Th=t(function(n,r){n:for(;;){if(!r.b)return r;if(r.b.b)break n;switch(r.a.$){case 0:return s(Uu,lh,n(b=r.a.a));case 1:if(r.a.b.b){if(r.a.b.b.b){var t=r.a,e=t.b,u=e.a,a=s(Th,n,w([s(eh,t.a,e.b)]));if(a.b&&1===a.a.$&&!a.b.b){var c=a.a;return w([s(eh,c.a,s(ht,u,c.b))])}return a}var i=r.a;return w([s(eh,i.a,n(b=i.b.a))])}break n;case 2:var o=r.a;return w([s(uh,o.a,s(Th,n,o.b))]);case 3:var f=r.a,b=f.e;return s(Uu,l(rh,f.a,f.b,f.c,f.d),n(b));case 4:return r;case 5:case 6:case 7:case 8:default:return r}}return s(ht,u=r.a,s(Th,n,r.b))}),Ah=t(function(n,r){return r.$?r:s(eh,n,w([r.a]))}),Lh=function(n){n:for(;;)switch(n){case 0:return"0";case 1:return"1";case 2:return"2";case 3:return"3";case 4:return"4";case 5:return"5";case 6:return"6";case 7:return"7";case 8:return"8";case 9:return"9";case 10:return"a";case 11:return"b";case 12:return"c";case 13:return"d";case 14:return"e";case 15:return"f";default:n=n;continue n}},Oh=t(function(n,r){for(;;){if(16>r)return s(ht,Lh(r),n);n=s(ht,Lh(s(El,16,r)),n),r=r/16|0}}),Fh=function(n){return fv(0>n?s(ht,"-",s(Oh,g,-n)):s(Oh,g,n))},_h=u(function(n,r,t,e){var u=function(n){return s(Dc,g,bv(n))},a=s(jh,r,s(Dc,g,Yv(e))),c=function(){var n=O(li(a),function(n){n:for(;;){if(n.b){if(n.b.b){n=n.b;continue n}return Pt(n.a)}return St}}(e));if(n.a.$||n.b.$)return e;var r=n.a.a,t=n.b.a;return H(s(Xv,ee(e)-1,e),w([I(t,r)?t:r]))}();return H(c,H(u(s(Dc,g,s(To,function(r){return Vo(s(vh,jh(n),s(Uu,Vv,s(Th,t,r))))},Yv(e)))),u(a)))}),jh=t(function(n,r){if(!n.b)return r;switch(n.a.$){case 0:return s(jh,i=n.b,s(ph,n.a.a,r));case 1:var e=n.a;return l(_h,$=e.b,i=n.b,Eh(e.a),r);case 2:var u=n.a,a=u.a,c=u.b,i=n.b,o=t(function(n,r){var t=n.c,e=r.b,u=r.c;return b(sh,n.a,H(n.b,s(ht,O(a,r.a),e)),function(n){n:for(;;){if(n.b){var r=n.a;if(1===r.$){n=n.b;continue n}return r}return St}}(w([u,t])))}),f=function(n){switch(n.$){case 0:var t=n.a,e=t.a,u=t.b,a=t.c,c=s(Zo,function(n){return s(Uu,o(n),s(ht,e,u))},Kv(r)),i=c.b?w([lh(b(bh,c.a,c.b,g))]):g;return s(jh,a,i);case 1:return s(Mh,n.a,n.b);case 2:return s(Rh,n.a,n.b);case 3:var f=n.e;return s(Uu,l(th,n.a,n.b,n.c,n.d),Ch(f));case 4:return w([s(fh,n.a,n.b)]);case 5:return w([ih(n.a)]);case 6:return w([dh(n.a)]);case 7:return w([ch(n.a)]);default:return nh(n.a)}};return Vo(H(w([s(jh,i,r)]),s(Uu,f,s(Zo,Jv,c))));case 3:var d=n.a;return l(_h,$=d.b,i=n.b,$h(d.a),r);case 5:var v=n.a.a,h=(i=n.b,function(n){return s(cv,"_",Fh(s(Wv,15739,n)))}(v));return s(Wo,s(jh,i,s(ph,"animation-name:"+h,r)),w([oh({ed:v,bN:h})]));case 4:var p=n.a,m=p.a,$=p.b,x=(i=n.b,function(){var n=Kv(r);if(n.b){var t=n.a,e=n.b;return s(Uu,Ah(m),s(jh,$,Vv(lh(b(bh,t,e,g)))))}return g}());return H(s(jh,i,r),x);default:return s(jh,H(n.a.a,i=n.b),r)}}),Ch=function(n){return s(jh,n.c,w([lh(b(bh,n.a,n.b,g))]))},Hh=function(n){if(n.b){var r=n.b;return H(Nh(n.a),Hh(r))}return g},Mh=t(function(n,r){return s(Zo,function(r){return s(Uu,ah(n),Ch(r))},r)}),Rh=t(function(n,r){var t=Hh(s(Zo,Jv,r));return w([s(uh,n,t)])}),Nh=function(n){switch(n.$){case 0:return Ch(r=n.a);case 1:return s(Mh,n.a,n.b);case 2:return s(Rh,n.a,n.b);case 3:var r=n.e;return s(Uu,l(th,n.a,n.b,n.c,n.d),Ch(r));case 4:return w([s(fh,n.a,n.b)]);case 5:return w([ih(n.a)]);case 6:return w([dh(n.a)]);case 7:return w([ch(n.a)]);default:return nh(n.a)}},Dh=t(function(n,r){return!s(sf,s(Wa,_a,n),r)}),Ph=t(function(n,r){var t=r.a,e=r.b;switch(n.$){case 0:return Gi(n.a.c)?O(t,e):O(t,s(ht,n,e));case 1:return O(t,s(Dh,function(n){return Gi(n.c)},n.b)?e:s(ht,n,e));case 2:return Gi(n.b)?O(t,e):O(t,s(ht,n,e));case 3:return O(t,s(ht,n,e));case 4:return Gi(n.b)?O(t,e):O(t,s(ht,n,e));case 5:return Gi(n.a)?O(t,e):O(t,s(ht,n,e));case 6:var u=n.a;return za(u.ed)?O(t,e):O(b(Oe,u.bN,u.ed,t),e);case 7:case 8:return Gi(n.a)?O(t,e):O(t,s(ht,n,e));default:return O(t,s(Dh,function(n){return Gi(n.b)},n.a)?e:s(ht,n,e))}}),Sh=t(function(n,r){return s(Wo,s(Uu,function(n){return oh({ed:n.b,bN:n.a})},pt(n)),r)}),Bh=function(n){return s(Dc,"",s(To,function(n){return'@charset "'+n+'"'},n))},qh=function(n){return"("+n.cq+s(Dc,"",s(To,Qt(": "),n.F))+")"},Wh=function(n){var r=e(function(n,r,t){return n+" "+s(se," and ",s(ht,function(n){switch(n){case 0:return"print";case 1:return"screen";default:return"speech"}}(r),s(Uu,qh,t)))});switch(n.$){case 0:return s(se," and ",s(Uu,qh,n.a));case 1:return b(r,"only",n.a,n.b);case 2:return b(r,"not",n.a,n.b);default:return n.a}},Vh=t(function(n,r){return'@import "'+n+Wh(r)+'"'}),Zh=function(n){var r=n.b;return s(se,"\n",s(Uu,Vh(n.a),r))},Jh=function(n){return"@namespace "+n.a+'"'+n.b+'"'},Uh=function(n){return H("    ",n)},Gh=function(n){return n+";"},Qh=function(n){return s(se,"\n",s(Uu,s(Wa,Uh,Gh),n))},Xh=J,Kh=function(n){return"::"+n},Yh=function(n){switch(n){case 0:return"+";case 1:return"~";case 2:return">";default:return""}},np=function(n){switch(n.$){case 0:return"."+n.a;case 1:return"#"+n.a;case 2:return":"+n.a;default:return"["+n.a+"]"}},rp=function(n){switch(n.$){case 0:return s(se,"",s(ht,n.a,s(Uu,np,r=n.b)));case 1:return Gi(r=n.a)?"*":s(se,"",s(Uu,np,r));default:var r;return s(se,"",s(ht,n.a,s(Uu,np,r=n.b)))}},tp=function(n){var r=n.b;return s(se," ",w([Yh(n.a),rp(r)]))},ep=function(n){var r=n.b,t=n.c,e=s(ht,rp(n.a),s(Uu,tp,r)),u=s(se,"",w([s(Dc,"",s(To,Kh,t))]));return s(Xh,s(se," ",s($f,s(Wa,_a,za),e)),u)},up=t(function(n,r){var t=r.c;return s(se,"",w([s(se,", ",s(Uu,ep,s(ht,r.a,r.b)))," {\n",n,Qh(t),"\n",n,"}"]))}),ap=function(n){switch(n.$){case 0:return s(up,"",n.a);case 1:var r=n.b;return"@media "+s(se,",\n",s(Uu,Wh,n.a))+" {\n"+s(se,"\n\n",s(Uu,s(Wa,Uh,up("    ")),r))+"\n}";case 2:case 3:case 4:case 5:return"TODO";case 6:return"@keyframes "+n.a.bN+" {\n"+n.a.ed+"\n}";case 7:case 8:default:return"TODO"}},cp=function(n){return function(n){var r=n.ce,t=n.cz,e=n.cL,u=n.ee;return s(se,"\n\n",s($f,s(Wa,_a,za),w([Bh(r),s(se,"\n",s(Uu,Zh,t)),s(se,"\n",s(Uu,Jh,e)),s(se,"\n\n",s(Uu,ap,u))])))}(function(n){var r=n.ce,t=n.cz,e=n.cL,u=n.ee,a=b(Eu,Ph,O(Ie,g),u);return{ce:r,ee:s(Sh,a.a,a.b),cz:t,cL:e}}((t=(r=n).cz,e=r.cL,{ce:r.ce,ee:Hh(s(Zo,Jv,r.da)),cz:t,cL:e})));var r,t,e},ip=function(n){return s(se,"\n\n",s(Uu,cp,n))},op=e(function(n,r,t){return{$:0,a:n,b:r,c:t}}),fp=t(function(n,r){var t;return w([(t=b(op,b(sh,r,g,St),g,n),{$:0,a:t})])}),sp=function(n){var r=function(n){return Gi(n)?"unstyled":s(cv,"_",Fh(s(Wv,15739,ip(Vv(Zv(Vv(s(fp,n,yh(g)))))))))}(n),t=s(jv,"className",Hc(r));return b(Cv,t,n,r)},bp={j:0,F:"block"},lp=Xd("center"),dp=Xd("display"),vp=s(Jd,0,"%"),hp={aR:0,F:"absolute"},pp=Xd("left"),gp=function(n){return{aa:0,C:0,e$:0,Q:n,aJ:"",aZ:0,F:_o(n)}},mp=Xd("opacity"),$p=Xd("top"),wp=t(function(n,r){return{$:3,a:n,b:r}}),xp=function(n){return wp(n)},yp=xp("after"),kp=xp("before"),zp=u(function(n,r,t,e){return s(Qd,n,s(se," ",w([r.F,t.F,e.F])))})("border"),Ip={s:0,ag:0,F:"solid"},Ep=function(n){return"opacity:"+n.F},Tp=t(function(n,r){return s(pr,n,kr(r))}),Ap=function(n){return vr(kr(n))},Lp=t(function(n,r){var t=n.b,e=n.c;return Gi(t)?r:b(Oe,e,t,r)}),Op=function(n){return n.a},Fp=t(function(n,r){var t=n.a,e=n.b,u=r.a,a=r.b;switch(e.$){case 4:return O(s(ht,O(t,v=e.a),u),a);case 0:var c=e.a,i=e.c,o=b(Et,_p,O(g,b(Et,Lp,a,$=e.b)),i),f=o.a,d=o.b,v=b(fo,c,s(Uu,Op,$),Tt(f));return O(s(ht,O(t,v),u),d);case 1:var h=e.a,p=(c=e.b,i=e.d,b(Et,_p,O(g,b(Et,Lp,a,$=e.c)),i));return f=p.a,d=p.b,v=l(Ap,h,c,s(Uu,Op,$),Tt(f)),O(s(ht,O(t,v),u),d);case 2:c=e.a,i=e.c;var m=b(Et,Fp,O(g,b(Et,Lp,a,$=e.b)),i);return f=m.a,d=m.b,v=b(oo,c,s(Uu,Op,$),Tt(f)),O(s(ht,O(t,v),u),d);default:h=e.a,c=e.b,i=e.d;var $,w=b(Et,Fp,O(g,b(Et,Lp,a,$=e.c)),i);return f=w.a,d=w.b,v=l(Tp,h,c,s(Uu,Op,$),Tt(f)),O(s(ht,O(t,v),u),d)}}),_p=t(function(n,r){var t=r.a,e=r.b;switch(n.$){case 4:return O(s(ht,f=n.a,t),e);case 0:var u=n.a,a=n.c,c=b(Et,_p,O(g,b(Et,Lp,e,p=n.b)),a),i=c.a,o=c.b,f=b(fo,u,s(Uu,Op,p),Tt(i));return O(s(ht,f,t),o);case 1:var d=n.a,v=(u=n.b,a=n.d,b(Et,_p,O(g,b(Et,Lp,e,p=n.c)),a));return i=v.a,o=v.b,f=l(Ap,d,u,s(Uu,Op,p),Tt(i)),O(s(ht,f,t),o);case 2:u=n.a,a=n.c;var h=b(Et,Fp,O(g,b(Et,Lp,e,p=n.b)),a);return i=h.a,o=h.b,f=b(oo,u,s(Uu,Op,p),Tt(i)),O(s(ht,f,t),o);default:d=n.a,u=n.b,a=n.d;var p,m=b(Et,Fp,O(g,b(Et,Lp,e,p=n.c)),a);return i=m.a,o=m.b,f=l(Tp,d,u,s(Uu,Op,p),Tt(i)),O(s(ht,f,t),o)}}),jp=t(function(n,r){return d(Ee,1,n,r,ze,ze)}),Cp=t(function(n,r){for(;;){if(!r.b)return n;var t=r.a,e=t.b,u=t.c,a=r.b;za(u)?(n=n,r=a):(n=Pt(O(u,e)),r=a)}}),Hp=function(n){var r=s(Cp,St,n);if(1===r.$)return Ie;var t=r.a;return s(jp,t.a,t.b)},Mp=function(n){var r;return s(fp,n.b,yh(w([(r=n.a,{$:0,a:r})])))},Rp=function(n){return b(fo,"style",g,Vv(Ro(ip(Vv(Zv(s(Uu,Mp,pt(n))))))))},Np=e(function(n,r,t){var e=s(Uu,Op,r),u=Hp(r),a=b(Et,_p,O(g,u),t),c=a.a,i=Rp(a.b);return b(fo,n,e,s(ht,i,Tt(c)))}),Dp=t(function(n,r){for(;;){if(!r.b)return!1;var t=r.b;if(I(n,r.a.a))return!0;n=n,r=t}}),Pp=t(function(n,r){n:for(;;){if(r.b){var t=r.b,e="_"+r.a.a;if(s(Dp,e,t)){n=e,r=t;continue n}return e}return n}}),Sp=t(function(n,r){return O(s(Pp,"_",r),Rp(n))}),Bp=e(function(n,r,t){var e=s(Uu,Op,r),u=Hp(r),a=b(Et,Fp,O(g,u),t),c=a.a;return b(oo,n,e,s(ht,s(Sp,a.b,c),Tt(c)))}),qp=u(function(n,r,t,e){var u=s(Uu,Op,t),a=Hp(t),c=b(Et,Fp,O(g,a),e),i=c.a;return l(Tp,n,r,u,s(ht,s(Sp,c.b,i),Tt(i)))}),Wp=u(function(n,r,t,e){var u=s(Uu,Op,t),a=Hp(t),c=b(Et,_p,O(g,a),e),i=c.a,o=Rp(c.b);return l(Ap,n,r,u,s(ht,o,Tt(i)))}),Vp=function(n){switch(n.$){case 4:return n.a;case 0:return b(Np,n.a,n.b,n.c);case 1:return l(Wp,n.a,n.b,n.c,n.d);case 2:return b(Bp,n.a,n.b,n.c);default:return l(qp,n.a,n.b,n.c,n.d)}},Zp=e(function(n,r,t){var e=function(){switch(n){case 0:return Vp(function(n){var r=w([zv(xv(n.fI)),ev(xv(n.fI)),wv(yv),s($v,xv(0),Yd)]),t=w([zv(vp(100)),ev(vp(100)),rv(vp(50)),nv(pv(n.d5)),mp(gp(.6)),wv(hp),$p(xv(0)),pp(xv(0)),Kd(Tv(w([O(0,w([s(Av,"transform","scale(0.0)")])),O(50,w([s(Av,"transform","scale(1.0)")])),O(100,w([s(Av,"transform","scale(0.0)")]))]))),s(Qd,"animation-duration",_o(2/n.dc)+"s"),s(Qd,"animation-timing-function","ease-in-out"),s(Qd,"animation-iteration-count","infinite")]);return s(_v,w([sp(r),Rv(n.cg)]),w([s(_v,w([sp(t)]),g),s(_v,w([sp(Vo(w([t,w([s(Qd,"animation-delay","-"+_o(1/n.dc)+"s")])])))]),g)]))}(r));case 1:return Vp(function(n){var r=w([zv(xv(n.fI)),ev(xv(n.fI)),wv(yv),s($v,xv(0),Yd)]),t=s(ce,1,12);return w([zv(vp(100)),ev(vp(100))]),s(_v,w([sp(r),Rv(n.cg)]),w([s(_v,w([sp(g)]),s(Uu,function(r){return s(_v,w([sp(w([zv(vp(100)),ev(vp(100)),wv(hp),pp(xv(0)),$p(xv(0)),s(Qd,"transform","rotate("+fe(30*r-30)+"deg)"),kp(w([s(Qd,"animation-delay",(w([zv(vp(100)),ev(vp(100))]),function(r){return 1===r?"0s":_o(-(1.1-r/10)/n.dc)+"s"})(r)),s(Qd,"content","' '"),dp(bp),s($v,xv(0),Yd),zv(vp(15)),ev(vp(15)),nv(pv(n.d5)),rv(vp(100)),s(Qd,"animation-duration",_o(1.2/n.dc)+"s"),s(Qd,"animation-iteration-count","infinite"),s(Qd,"animation-fill-mode","both"),Kd(Tv(w([O(0,w([s(Av,"transform","scale(0.0)")])),O(40,w([s(Av,"transform","scale(1.0)")])),O(80,w([s(Av,"transform","scale(0.0)")])),O(100,w([s(Av,"transform","scale(0.0)")]))])))]))]))]),g)},t))]))}(r));case 2:return Vp(function(n){var r=function(r){return _o(r/n.dc)},t=w([zv(xv(n.fI)),ev(xv(n.fI)),wv(yv),s($v,xv(0),Yd),s(Qd,"display","flex"),gv(kv),Gd(lp)]),e=w([dp(bp),zv(xv(n.fI/3.5)),ev(xv(n.fI/3.5)),rv(vp(100)),nv(pv(n.d5)),s(Qd,"animation-duration",r(.6)+"s"),s(Qd,"animation-delay",r(.1)+"s"),s(Qd,"animation-timing-function","linear"),s(Qd,"animation-iteration-count","infinite"),Kd(Tv(w([O(0,w([s(Av,"transform","translate3d(0,0,0) translateZ(0) translate(0,0)")])),O(50,w([s(Av,"transform","translate3d(0,0,0) translateZ(0) translate(0,"+_o(n.fI/3.5)+"px)")])),O(100,w([s(Av,"transform","translate3d(0,0,0) translateZ(0) translate(0,0)")]))])))]);return s(_v,w([sp(t),Rv(n.cg)]),w([s(_v,w([sp(H(e,w([s(Qd,"animation-delay",r(.1)+"s")])))]),g),s(_v,w([sp(H(e,w([s(Qd,"animation-delay",r(.2)+"s")])))]),g),s(_v,w([sp(H(e,w([s(Qd,"animation-delay",r(.3)+"s")])))]),g)]))}(r));case 3:return Vp(function(n){var r=function(r){return _o(r/n.dc)},t=w([zv(xv(n.fI)),ev(xv(n.fI)),wv(yv),s($v,xv(0),Yd),s(Qd,"display","flex"),gv(kv),Gd(tv)]),e=w([zv(xv(n.fI/3.5)),ev(xv(n.fI/3.5)),rv(xv(5)),nv(pv(n.d5)),s(Qd,"animation-duration",r(1.5)+"s"),s(Qd,"animation-iteration-count","infinite"),s(Qd,"animation-timing-function","ease-in-out"),Kd(Tv(w([O(0,w([s(Av,"height",_o(n.fI/3.5)+"px"),s(Av,"transform","translate3d(0,0,0)")])),O(50,w([s(Av,"height",_o(n.fI)+"px"),s(Av,"transform","translate3d(0,0,0)")])),O(100,w([s(Av,"height",_o(n.fI/3.5)+"px"),s(Av,"transform","translate3d(0,0,0)")]))])))]);return s(_v,w([sp(t),Rv(n.cg)]),w([s(_v,w([sp(H(e,w([s(Qd,"animation-delay",r(1)+"s")])))]),g),s(_v,w([sp(H(e,w([s(Qd,"animation-delay",r(.5)+"s")])))]),g),s(_v,w([sp(H(e,w([s(Qd,"animation-delay",r(1e-7)+"s")])))]),g)]))}(r));case 4:return Vp(function(n){var r=w([zv(xv(n.fI)),ev(xv(.95*n.fI)),wv(yv),s($v,xv(0),Yd)]),t=w([zv(xv(n.fI-.17*n.fI*2)),ev(xv(n.fI-.17*n.fI*2)),rv(vp(50)),wv(hp),$p(xv(0)),pp(xv(0)),s(Qd,"animation-duration",(1.33,_o(1.33/n.dc)+"s")),s(Qd,"animation-timing-function","cubic-bezier(.51,.92,.24,1.15)"),s(Qd,"animation-iteration-count","infinite"),Kd(Tv(w([O(0,w([s(Av,"transform","translate3d(0,0,0) rotate(0deg)")])),O(100,w([s(Av,"transform","translate3d(0,0,0) rotate(720deg)")]))])))]);return s(_v,w([sp(r),Rv(n.cg)]),w([s(_v,w([sp(Vo(w([t,w([s(Qd,"border",_o(.17*n.fI)+"px "+n.d5+" solid"),mp(gp(.25))])])))]),g),s(_v,w([sp(Vo(w([t,w([s(Qd,"border",_o(.17*n.fI)+"px transparent solid"),s(Qd,"border-top",_o(.17*n.fI)+"px "+n.d5+" solid"),mp(gp(.8))])])))]),g)]))}(r));default:return Vp(function(n){var r=w([zv(xv(n.fI)),ev(xv(n.fI)),wv(yv),s($v,xv(0),Yd),kp(w([s(Qd,"content","' '"),wv(hp),rv(vp(50)),zv(xv(n.fI/3)),ev(xv(n.fI/3)),s(Qd,"top","calc(50% - "+_o(n.fI/6)+"px)"),s(Qd,"left","calc(50% - "+_o(n.fI/6)+"px)"),nv(pv(n.d5)),s(Qd,"animation-duration",_o(3/n.dc)+"s"),s(Qd,"animation-timing-funtion","linear"),s(Qd,"animation-iteration-count","infinite"),Kd(Tv(w([O(0,w([Ep(gp(1))])),O(15,w([Ep(gp(1)),s(Av,"transform","scale(0.5)")])),O(60,w([s(Av,"transform","scale(4)"),Ep(gp(0))])),O(90,w([Ep(gp(0)),s(Av,"transform","scale(3)")])),O(95,w([Ep(gp(1))])),O(100,w([Ep(gp(1)),s(Av,"transform","scale(1)")]))])))])),yp(w([s(Qd,"content","' '"),wv(hp),rv(vp(50)),zv(xv(n.fI/3)),ev(xv(n.fI/3)),s(Qd,"top","calc(50% - "+_o(n.fI/6)+"px)"),s(Qd,"left","calc(50% - "+_o(n.fI/6)+"px)"),b(zp,xv(1),Ip,pv(n.d5)),mp(gp(0)),s(Qd,"animation-duration",_o(3/n.dc)+"s"),s(Qd,"animation-timing-funtion","linear"),s(Qd,"animation-iteration-count","infinite"),Kd(Tv(w([O(0,w([Ep(gp(0)),s(Av,"transform","scale(1)")])),O(30,w([Ep(gp(0)),s(Av,"transform","scale(1)")])),O(60,w([Ep(gp(.3))])),O(90,w([s(Av,"transform","scale(3)")])),O(100,w([Ep(gp(0))]))])))]))]);return s(_v,w([sp(r),Rv(n.cg)]),g)}(r))}}();return t?Of(" "):s(to,w([io("loading")]),w([e]))}),Jp=t(function(n,r){var t,e=s(Os,w([Hi(5),kb]),mb(s(r.cl?ql:Wl,ab,24))),u=200===r.fP,a=r.e8,c=s(Cb,rb(10),{aw:mb(s(to,g,w([b(Zp,3,j(qd,{d5:"#AACCFF",fI:24}),0)]))),bk:St}),i=w(u?[Hl(r),s(jl,n,r),Hb(r)]:[c]),o=""===r.e9?b(Ml,r.fP,r.fN,a.cm):r.e9,f=r.cl?s(Bd,w([Ns(Is(2)),Hs(Pl),$s(Bl),Zl(Vl(r.fa))]),{aw:(t="Bezeichnung eingeben",{$:1,a:t}),e1:Dl(r),fj:St,fX:r.e9}):s(ls,w([id,Tb(Nl(r)),kb]),w([hs(o)])),l=s(se,"\n",s(be,"T",r.fV));return s(js,w([Si(Ai),Di(5),Hi(zs(1)),ad({dW:1,eM:0,ft:0,gc:0}),Js(Ei.bJ)]),H(w([s(Os,w([fd]),hs(l)),s(js,w([Si(Ai),Di(zs(2)),ed(w([$s(Sl),Hs(Rl)]))]),w([f,s(Os,w([Tb(Nl(r))]),e)]))]),i))}),Up=k,Gp=function(n){var r,t=Tt(s(Up,function(n){return n.fV},(r=n.cO,b(vt,e(function(n,r,t){return s(ht,r,t)}),g,r))));return s(Uu,Jp(n.ea),t)},Qp=l(yi,49,58,104,1),Xp=function(n){return-2===n.$},Kp=function(n){return s(Bs,w([s(Td,0,5),$s(Ei.bJ),Si(Ai),Oi(Ai),Hi(zs(2))]),w([Xp(n.cO)?s(Bs,w([Hi(5),Si(Ai)]),w([s(Os,w([As]),hs("(keine Bestellungen vorhanden)"))])):s(Bs,w([Si(Ai),Di(zs(2))]),w([s(Os,w([As]),s(ls,g,w([hs("Wenn die Daten aufbereitet sind, können sie hier heruntergeladen werden.")]))),s(Bs,w([Si(Ai),$s(Qp)]),Gp(n))]))]))},Yp=Fi(20),ng=s(Xs,Yp,"sby"),rg=function(n){return ee(n.dZ)>0},tg=Ps(1),eg=t(function(n,r){return w([Ks,Gs(7),nb(1),Js(n),s(Td,5,2),Tb(r),fd,kb,tg])}),ug=t(function(n,r){return H(s(eg,n,r),w([s(Td,5,2)]))}),ag=function(n){return"box"===n.cR},cg=function(n){return"polygon"===n.cR},ig=function(n){return ee(n.fl)>0},og={$:25},fg={$:24},sg=function(){var n=function(n){return b(ub,n.a,n.b,n.c)};return{bJ:n(Ii.bJ),eP:n(Ii.eP),bT:n(Ii.bT),go:n(Ii.go),a$:n(Ii.a$),du:n(Ii.du),gp:n(Ii.gp),gq:n(Ii.gq),gr:n(Ii.gr)}}(),bg=s(db,"0 0 24 24",w([s(vb,w([hb("M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zm2.5-4h-2v2H9v-2H7V9h2V7h1v2h2v1z")]),g)])),lg=Ts(0),dg=t(function(n,r){return s(Ci,Mi,b(Ri,s(Ni,n,r),n,r))}),vg=function(n){return{$:9,a:n}},hg=l(tb,245/255,121/255,0,1),pg=s(db,"0 0 48 48",w([s(vb,w([hb("M38 14H22v12h16V14zm4-8H6c-2.21 0-4 1.79-4 4v28c0 2.21 1.79 3.96 4 3.96h36c2.21 0 4-1.76 4-3.96V10c0-2.21-1.79-4-4-4zm0 32.03H6V9.97h36v28.06z")]),g)])),gg=s(db,"0 0 48 48",w([s(vb,w([hb("M46 16c0 2.2-1.8 4-4 4-.36 0-.7-.04-1.02-.14l-7.12 7.1c.1.32.14.68.14 1.04 0 2.2-1.8 4-4 4s-4-1.8-4-4c0-.36.04-.72.14-1.04l-5.1-5.1c-.32.1-.68.14-1.04.14s-.72-.04-1.04-.14l-9.1 9.12c.1.32.14.66.14 1.02 0 2.2-1.8 4-4 4s-4-1.8-4-4 1.8-4 4-4c.36 0 .7.04 1.02.14l9.12-9.1c-.1-.32-.14-.68-.14-1.04 0-2.2 1.8-4 4-4s4 1.8 4 4c0 .36-.04.72-.14 1.04l5.1 5.1c.32-.1.68-.14 1.04-.14s.72.04 1.04.14l7.1-7.12c-.1-.32-.14-.66-.14-1.02 0-2.2 1.8-4 4-4s4 1.8 4 4z")]),g)])),mg=s(db,"0 0 48 48",w([s(vb,w([hb("M6 10v8h4v-8h8V6h-8c-2.21 0-4 1.79-4 4zm4 20H6v8c0 2.21 1.79 4 4 4h8v-4h-8v-8zm28 8h-8v4h8c2.21 0 4-1.79 4-4v-8h-4v8zm0-32h-8v4h8v8h4v-8c0-2.21-1.79-4-4-4z")]),g)])),$g=e(function(n,r,t){var e=function(){switch(n){case"box":return pg;case"polygon":return gg;case"extent":return mg;default:return pg}}(),u=function(){switch(n){case"box":return vg("box");case"polygon":return vg("polygon");case"extent":return vg("extent");default:return vg("box")}}();return I(n,r)?s(Os,s(ug,Vs,u),mb(s(e,hg,t))):s(Os,s(ug,Ei.a$,u),mb(s(e,sg.a$,t)))}),wg=function(n){return s(js,w([$s(Ei.du),Si(Ai),Oi(ds(50)),Hi(zs(1)),tg,Ns(Is(2))]),w([s(js,w([lg,Di(zs(3)),Si(Ai)]),w([s(Os,g,hs("Perimeter")),s(js,w([Di(zs(1))]),w([b($g,"box",n.cI.cR,Is(3)),b($g,"polygon",n.cI.cR,Is(3)),b($g,"extent",n.cI.cR,Is(3))])),(r=n.cI.cR,t=function(){switch(r){case"box":return" Rechteck";case"polygon":return" Polygon";case"extent":return" Kartenausschnitt";default:return"(Ausschnitt-Button wählen)"}}(),s(Os,w([s(dg,20,0)]),hs(t)))]))]));var r,t},xg=oo,yg=t(function(n,r){return H(s(eg,n,r),w([s(Td,10,7),As,Di(10)]))}),kg=function(n){return ee(n.dZ)>0&&"box"===n.cR||ee(n.fl)>0&&"polygon"===n.cR||ee(n.el)>0&&"extent"===n.cR},zg=function(n){return{$:3,a:n}},Ig=s(db,"0 0 48 48",w([s(vb,w([hb("M36.79 21.2C33.11 17.97 28.29 16 23 16c-9.3 0-17.17 6.06-19.92 14.44L7.81 32c2.1-6.39 8.1-11 15.19-11 3.91 0 7.46 1.44 10.23 3.77L26 32h18V14l-7.21 7.2z")]),g)])),Eg=s(db,"0 0 48 48",w([s(vb,w([hb("M25 16c-5.29 0-10.11 1.97-13.8 5.2L4 14v18h18l-7.23-7.23C17.54 22.44 21.09 21 25 21c7.09 0 13.09 4.61 15.19 11l4.73-1.56C42.17 22.06 34.3 16 25 16z")]),g)])),Tg=function(n){return Xp(n)},Ag=function(n){return s(Os,w([$s(Ei.du),Si(Ai),Oi(ds(75)),Hi(10)]),Tg(n.gl)?s(ls,w([tg]),w([hs("Produkt wählen")])):kg(n.cI)?s(js,s(yg,Vs,zg(Nu(3))),w([hs("Zum Warenkorb"),s(Os,g,mb(s(Ig,hg,Is(3))))])):s(js,s(yg,Vs,zg(Nu(1))),w([s(Os,g,mb(s(Eg,hg,Is(3)))),hs("Perimeter festlegen")])))},Lg=function(n){return{$:5,a:n}},Og=function(){var n=function(n){return b(ub,n.a,n.b,n.c)};return{bJ:n(F(96,96,96)),eP:n(F(128,128,128)),bT:n(F(160,160,160)),go:n(F(64,64,64)),a$:n(F(192,192,192)),du:n(F(32,32,32)),gp:n(F(224,224,224)),gq:n(F(0,0,0)),gr:n(F(255,255,255))}}(),Fg=function(){var n=function(n){return l(yi,n.a,n.b,n.c,1)};return{bJ:n(F(96,96,96)),eP:n(F(128,128,128)),bT:n(F(160,160,160)),go:n(F(64,64,64)),a$:n(F(192,192,192)),du:n(F(32,32,32)),gp:n(F(224,224,224)),gq:n(F(0,0,0)),gr:n(F(255,255,255))}}(),_g=s(db,"0 0 48 48",w([s(vb,w([hb("M31 28h-1.59l-.55-.55C30.82 25.18 32 22.23 32 19c0-7.18-5.82-13-13-13S6 11.82 6 19s5.82 13 13 13c3.23 0 6.18-1.18 8.45-3.13l.55.55V31l10 9.98L40.98 38 31 28zm-12 0c-4.97 0-9-4.03-9-9s4.03-9 9-9 9 4.03 9 9-4.03 9-9 9z")]),g)])),jg=e(function(n,r,t){return{$:0,a:n,b:r,c:t}})(1),Cg=Sd({v:St,w:!1,dn:sd("search")}),Hg=function(n){var r=w([hs("Produkt auswählen"),s(Cg,w([Ns(Is(2)),Hs(Fg.gq),$s(Fg.a$),Si(ds(200)),Oi(ds(32))]),{aw:s(jg,w([fd]),s(Os,w([tg]),mb(s(_g,Og.a$,Is(3))))),e1:Lg,fj:St,fX:n.cZ})]);return s(Os,w([Si(Ai),Hi(10),Oi(ds(50)),As,$s(Ei.du)]),s(js,w([tg,As,Ns(Is(2)),Di(zs(2))]),r))},Mg=e(function(n,r,t){var u=t;return b(vt,e(function(r,t,e){return s(n,r,e)}),r,u)}),Rg=t(function(n,r){return b(Mg,t(function(n,t){return I(r,n.a)||t}),!1,n.gl)}),Ng=u(function(n,r,t,e){return{eE:r,eR:n,e$:t,fU:e}}),Dg=it,Pg=function(n){return s(Dg,{d$:!1,e_:!1},n)},Sg=ft(1/0),Bg=function(n){var r=e(function(n,r,t){var e=Pg(n);return 1===e.$?t:b(Sg,e.a,r,t)}),t=s(r,"[ü]",function(){return"u"}),u=s(r,"[öô]",function(){return"o"});return s(r,"[éèê]",function(){return"e"})(t(u(s(r,"[äáàâ]",function(){return"a"})(sv(n)))))},qg=t(function(n,r){return s(Te,Bg(n),Bg(r))}),Wg=s(db,"0 0 48 48",w([s(vb,w([hb("M14 36c-2.21 0-3.98 1.79-3.98 4s1.77 4 3.98 4 4-1.79 4-4-1.79-4-4-4zM2 4v4h4l7.19 15.17-2.7 4.9c-.31.58-.49 1.23-.49 1.93 0 2.21 1.79 4 4 4h24v-4H14.85c-.28 0-.5-.22-.5-.5 0-.09.02-.17.06-.24L16.2 26h14.9c1.5 0 2.81-.83 3.5-2.06l7.15-12.98c.16-.28.25-.61.25-.96 0-1.11-.9-2-2-2H10.43l-1.9-4H2zm32 32c-2.21 0-3.98 1.79-3.98 4s1.77 4 3.98 4 4-1.79 4-4-1.79-4-4-4z")]),g)])),Vg=z,Zg=ot,Jg=/.^/,Ug=Fi(32),Gg=function(n){return s(Ci,Ug,s(Ul,2,td(n)))},Qg=t(function(n,r){return s(xo,n,r)}),Xg=function(n){return{$:12,a:n}},Kg=s(db,"0 0 48 48",w([s(vb,w([hb("M22 18h4v-6h6V8h-6V2h-4v6h-6v4h6v6zm-8 18c-2.21 0-3.98 1.79-3.98 4s1.77 4 3.98 4 4-1.79 4-4-1.79-4-4-4zm20 0c-2.21 0-3.98 1.79-3.98 4s1.77 4 3.98 4 4-1.79 4-4-1.79-4-4-4zm-19.65-6.5c0-.09.02-.17.06-.24l1.8-3.26h14.9c1.5 0 2.81-.83 3.5-2.06l7.72-14.02L38.83 8h-.01l-2.21 4-5.51 10H17.07l-.26-.54L12.32 12l-1.9-4-1.89-4H2v4h4l7.2 15.17-2.71 4.9c-.31.58-.49 1.23-.49 1.93 0 2.21 1.79 4 4 4h24v-4H14.85c-.28 0-.5-.22-.5-.5z")]),g)])),Yg=Ts(2),nm=s(Xs,od,"tj"),rm=t(function(n,r){var u,a=e(function(n,r,t){var e=Pg(n);return 1===e.$?t:b(Sg,e.a,r,t)}),c=t(function(n,t){var e,u,a=O(n,t),c=w(s(Qg,a,r.gl)?[Tb(Xg(a)),$s(Ei.du),ad({dW:1,eM:0,ft:0,gc:0}),Js(Ei.bJ)]:[Tb((e=a,{$:11,a:e}))]),i=s(Be,t,r.ei.cs);return u=i.$?"Format nicht (mehr) verfügbar":i.a,s(js,H(w([ed(w([$s(Ei.eP),Hs(Rl)])),kb,Si(Ai),Hi(1)]),c),w([s(Os,w([Si(ds(40)),s(Td,10,0)]),mb(s(Qg,a,r.gl)?s(Wg,hg,24):s(Kg,sg.du,24))),s(Os,w([s(Td,10,0)]),hs(u))]))}),i=t(function(n,r){return s(Bs,w([Si(Ls),s(Td,20,0)]),s(Uu,c(n),r))}),o=(u=n,li(s($f,function(n){return I(n.bH,u)},r.ei.fn)));if(1===o.$)return hs("Fehler: Unbekanntes Produkt nicht mehr verfügbar!");var f,d=o.a;return s(js,w([Si(Ai),Oi(Ai),$s(Ei.bJ)]),w([s(Bs,w([Si(Ai),Oi(Ai),Di(20),s(Td,10,10),ng,Si(Ai),As]),w([s(js,w([Si(Ai),Hs(l($d,120,120,120,1))]),w([s(js,w([Di(20)]),w([hs("ID:"),s(Os,w([lg]),hs("#"+fe(d.bH)))])),s(js,w([Di(20),Yg]),w([s(Os,g,hs("Typ:")),hs(d.dn)]))])),s(ls,w([id,fd]),w([hs(d.bN)])),s(ls,w([nm]),w([hs((f=d.eg,b(a,"\\/",function(){return", "},f)))])),s(Bs,w([s(dg,15,10),Si(Ai)]),w([s(Os,w([As]),hs("Format wählen:")),s(js,w([As]),w([s(Os,w([Si(Ai),Hi(25),$s(Ei.go)]),s(i,d.bH,d.cs))]))]))]))]))}),tm={$:7},em=t(function(n,r){var t=Ds("Produkt in den Warenkorb"),e=s(js,w([Di(25),Si(Ls),As,$s(Ei.du),Si(Ai),Oi(ds(75)),Hi(10)]),w([s(js,s(yg,Vs,tm),w([s(Os,g,mb(s(Eg,hg,Is(3)))),hs("Produktliste")])),Tg(r.gl)?hs(""):s(js,s(yg,Vs,zg(Nu(3))),w([hs("Warenkorb"),s(Os,g,mb(s(Ig,hg,Is(3))))]))]));return s(Bs,w([Si(Ai)]),w([t,s(Bs,w([s(Td,30,20),$s(Ei.bJ),Si(Ai),Oi(ds(Ws(r))),Hi(zs(2)),ng]),w([s(rm,n,r)])),e]))}),um=l(yi,186,189,182,1),am=function(n){return{$:10,a:n}},cm=Sd({v:Pt("email"),w:!1,dn:sd("email")}),im=wb("autofocus"),om=Fs(im(!0)),fm=function(n){return s(Bs,w([Si(Ai),Di(15),s(Td,0,20)]),w([s(cm,w([Hs(Pl),$s(Fg.gp),Oi(ds(32)),Si(Ai)]),{aw:s(jg,w([om,tg]),s(Os,g,hs("E-Mail: "))),e1:am,fj:St,fX:n.cm}),s(ls,w([Si(Ai),Hs(um)]),w([hs("Falls eine E-Mail Adresse vorhanden ist, wird eine Benachrichtigung gesendet sobald die Daten zum Download bereit sind.")]))]))},sm=l(yi,0,0,0,1),bm=l(yi,97,117,165,1),lm=l(tb,206/255,92/255,0,1),dm=s(db,"0 0 48 48",w([s(vb,w([hb("M45.46 45.46L5.54 5.54 4 4 2.54 2.54 0 5.08l8.78 8.78 4.42 9.32-2.7 4.9c-.32.56-.5 1.22-.5 1.92 0 2.2 1.8 4 4 4h14.92l2.76 2.76c-1 .73-1.66 1.91-1.66 3.24 0 2.2 1.78 4 3.98 4 1.33 0 2.51-.67 3.24-1.68L42.92 48l2.54-2.54zM14.84 30c-.28 0-.5-.22-.5-.5l.06-.24L16.2 26h4.72l4 4H14.84zm16.26-4c1.5 0 2.82-.82 3.5-2.06l7.16-12.98c.16-.28.24-.62.24-.96 0-1.1-.9-2-2-2H13.08l18 18h.02zM14 36c-2.2 0-3.98 1.8-3.98 4s1.78 4 3.98 4 4-1.8 4-4-1.8-4-4-4z")]),g)])),vm=co("title"),hm=function(n){var r,e,u=t(function(n,r){var t=li(s($f,function(r){return I(r.bH,n)},r));if(1===t.$)return s(ls,g,w([hs("Fehler: Unbekanntes Produkt (nicht mehr verfügbar)!")]));var e=t.a;return s(ls,w([Si(Ai)]),w([hs(e.bN)]))}),a=function(r){var e,u=r.a;return s(Uu,function(n){return function(n){var r=n.a,t=n.b,e=t.a,u=t.b;return s(js,w([Si(Ai),Di(zs(1)),s(Td,44,0),Tb(Xg(O(r,e))),ed(w([$s(Sl),Hs(Rl)])),Gg(w([$s(bm),Hs(sm)])),kb,Zl(vm("Aus Warenkorb entfernen"))]),w([mb(s(dm,hg,24)),hs(u)]))}(O(u,n))},(e=r.b,b(Et,t(function(r,t){return s(ht,O(r,function(r){var t=s(Be,r,n.ei.cs);return 1===t.$?"Fehler: Unbekanntes Format (nicht mehr verfügbar)!":t.a}(r)),t)}),g,e)))},c=function(r){var t,e=r.a,c=r.b;return s(Bs,w([Si(Ai),s(Td,30,5),Di(zs(1))]),w([s(js,w([Si(Ai),Hi(zs(1)),Di(zs(3)),ed(w([$s(bm),Hs(sm)])),Gg(w([$s(Sl),Hs(Rl)])),Tb((t=e,{$:8,a:t})),Zl(vm("Weitere Formate hinzufügen")),kb,s(ud,0,1),Js(l($d,66,66,66,.5))]),w([s(Os,w([Si(ds(20))]),mb(s(Kg,lm,24))),s(u,e,n.ei.fn),s(Os,w([Yg,Hs(l($d,120,120,120,1))]),hs("#"+fe(e)))])),s(Bs,w([Si(Ai)]),a(O(e,c)))]))};return s(Bs,w([Si(Ai)]),s(Uu,c,(e=s(mi,function(n){return n.a},r=n.gl),mt(b(gi,t(function(n,e){return s(Vu,O(n,(u=n,b(gi,t(function(n,r){var t=n.b;return I(u,n.a)?s(ht,t,r):r}),g,r))),e);var u}),Wu,e)))))},pm=function(n){return s(Bs,w([Si(Ai),Oi(Ai),Di(zs(3)),Si(Ai),As]),w([s(Bs,w([Di(zs(2)),Si(Ai)]),w([s(js,w([Si(Ai)]),w([s(Os,w([Si(Ai),$s(Ei.go),Hi(20)]),Tg(n.gl)?s(Os,w([Oi(ds(150)),As]),hs("Der Warenkorb ist leer")):hm(n))]))])),fm(n)]))},gm={$:13},mm=w([Si(Ai),Oi(Ai),Di(10),Hi(10),$s(Ei.gq)]),$m=w([Gs(32),nb(1),Ks,Js(Ei.gq),$s(Ei.go),kb,s(Td,7,5),Di(5)]),wm=function(n){return H($m,w([Tb(n)]))},xm=l(yi,146,175,225,1),ym=s(db,"0 0 48 48",w([s(vb,w([hb("M24 8l-2.83 2.83L32.34 22H8v4h24.34L21.17 37.17 24 40l16-16z")]),g)])),km=Fi(19),zm=function(n){return ef(w([n.cC?"box-inset":"box-",_o(n.b.a)+"px",_o(n.b.b)+"px",_o(n.ao)+"px",_o(n.fI)+"px",ms(n.d5)]))},Im=t(function(n,r){return t={ao:2*r,d5:n,b:O(0,0),fI:r},s(Ci,km,b(Vf,zm(e={ao:t.ao,d5:t.d5,cC:!1,b:t.b,fI:t.fI}),"box-shadow",Co(e)));var t,e}),Em=t(function(n,r){return t={ao:2*r,d5:n,b:O(0,0),fI:r},s(Ci,km,b(Vf,zm(e={ao:t.ao,d5:t.d5,cC:!0,b:t.b,fI:t.fI}),"box-shadow",Co(e)));var t,e}),Tm=t(function(n,r){var t=r.bm,e=!!I(n.dx,t),u=function(){n:for(;1===t.$;)switch(t.a){case 0:return!1;case 1:return kg(n.cI);case 2:return!Tg(n.gl);case 3:return!(Tg(n.gl)||!kg(n.cI));default:break n}return!1}(),a=w(e?u?[s(Em,xm,4),s(Im,xm,4)]:[s(Im,xm,4)]:u?[Zl(vm(r.aT)),Tb(zg(t)),kb,s(Em,xm,4)]:[Zl(vm(r.aT)),Tb(zg(t)),kb]);return n.eh.fb?s(Os,w([Si(Ai)]),s(js,H(a,H(wm(zg(r.bm)),w([Si(Ai)]))),w([mb(s(r.bG,Og.a$,Is(3))),function(){switch(n.eh.bA){case 0:case 1:return Sb;case 2:return s(Os,w([s(Td,5,0)]),hs(r.aT));default:return s(Os,w([s(Td,5,0)]),hs(r.bK))}}()]))):s(js,w([As]),w([s(js,H(a,wm(zg(r.bm))),w([mb(s(r.bG,Og.a$,Is(3))),function(){switch(n.eh.bA){case 0:case 1:return Sb;case 2:return s(Os,w([s(Td,5,0)]),hs(r.aT));default:return s(Os,w([s(Td,5,0)]),hs(r.bK))}}()])),function(){if(I(t,Nu(4)))return Sb;switch(n.eh.bA){case 0:return s(Os,w([Hi(10)]),Sb);case 1:return s(Os,w([Hi(5)]),mb(s(ym,Og.a$,Is(1))));case 2:default:return s(Os,w([Hi(5)]),mb(s(ym,Og.a$,Is(2))))}}()]))}),Am=u(function(n,r,t,e){return{bG:n,bK:e,bm:r,aT:t}}),Lm=s(db,"0 0 48 48",w([s(vb,w([hb("M20 40V28h8v12h10V24h6L24 6 4 24h6v16z")]),g)])),Om=s(db,"0 0 48 48",w([s(vb,w([hb("M6 26h4v-4H6v4zm0 8h4v-4H6v4zm0-16h4v-4H6v4zm8 8h28v-4H14v4zm0 8h28v-4H14v4zm0-20v4h28v-4H14z")]),g)])),Fm=s(db,"0 0 48 48",w([s(vb,w([hb("M40 8H8c-2.21 0-3.98 1.79-3.98 4L4 36c0 2.21 1.79 4 4 4h32c2.21 0 4-1.79 4-4V12c0-2.21-1.79-4-4-4zm0 8L24 26 8 16v-4l16 10 16-10v4z")]),g)])),_m=s(db,"0 0 48 48",w([s(vb,w([hb("M41 6c-.11 0-.21.01-.31.05L30 10.2 18 6 6.73 9.8c-.42.14-.73.5-.73.96V41c0 .55.45 1 1 1 .11 0 .21-.01.31-.05L18 37.8 30 42l11.28-3.79c.42-.15.72-.51.72-.97V7c0-.55-.45-1-1-1zM30 38l-12-4.21V10l12 4.21V38z")]),g)])),jm=w([l(Am,Lm,Nu(0),"Anleitung","Anleitung anzeigen"),l(Am,_m,Nu(1),"Perimeter","Perimeter festlegen"),l(Am,Om,Nu(2),"Produkt","Produkt auswählen"),l(Am,Wg,Nu(3),"Warenkorb","Warenkorb prüfen"),l(Am,Fm,Nu(4),"Bestellungen","Bestellungen anzeigen")]),Cm=w([Si(Ai),Oi(ds(53)),$s(Ei.gq)]),Hm=function(n){return n.eh.fb?function(n){return s(Bs,g,w([s(Os,w([Oi(ds(53))]),Sb),s(Bs,mm,s(Uu,Tm(n),jm))]))}(n):function(n){return s(js,Cm,s(Uu,Tm(n),jm))}(n)},Mm=function(n){var r=function(){var r=n.dx;if(1!==r.$)return qs(n);switch(r.a){case 0:return qs(n);case 1:return function(n){return function(n){return s(Bs,w([Si(Ai),Oi(Ai)]),w([wg(n),s(Bs,w([Oi(ds(Ws(n))),Si(Ai)]),w([mb(b(xg,"div",w([Vl("myOlMap"),io("map")]),g))])),(r=n.cI,t=ag(r)?rg(r)?"":"Klick auf Karte und Box aufziehen":cg(r)?ig(r)?"":"Gebiet digitalisieren durch Klicks auf Karte":"Kartenausschnitt wird verwendet",s(Os,w([$s(Ei.du),Si(Ai),Oi(ds(50)),Hi(10)]),ag(r)&&rg(r)||cg(r)&&ig(r)?s(js,w([lg,Di(zs(1))]),w([s(js,s(ug,Ei.a$,fg),w([s(Os,g,mb(s(bg,sg.a$,Is(3)))),hs("Zoomen")])),s(js,s(ug,Ei.a$,og),w([s(Os,g,mb(s(pb,sg.a$,Is(3)))),hs("Löschen")]))])):s(ls,w([tg]),w([hs(t)]))))]));var r,t}(n)}(n);case 2:return function(n){var r=n.fD;return 1===r.$?function(n){var r,e=function(r){return Tg(n.gl)?$s(Ei.go):$s(s(Rg,n,r.bH)?Ei.du:Ei.go)},u=s(Dc,Jg,s(Dg,{d$:!0,e_:!1},n.cZ)),a=function(r){return s(Os,w([Si(Ai),kb,Tb((t=r.bH,{$:6,a:t})),ed(w([$s(Ei.bJ),Hs(Fg.gr)])),Gg(w([$s(Ei.eP),Hs(Fg.gq)])),e(r)]),s(js,w([Si(Ai),Di(5),Hi(zs(1)),ad({dW:1,eM:0,ft:0,gc:0}),Js(Ei.bJ)]),w([s(Os,w([Si(ds(30))]),s(Rg,n,r.bH)?mb(s(Wg,hg,24)):Sb),s(ls,w([Si(Ai)]),w([hs(r.bN)])),s(Os,w([Si(ds(10))]),Sb)])));var t},c=s($f,function(n){return s(Zg,u,(r=n).bN)||s(Zg,u,r.eg);var r},n.ei.fn),i=ee(c)>0?s(Uu,a,s(Vg,(r=function(n){return n.bN},t(function(n,t){return s(qg,r(n),r(t))})),c)):w([s(Os,w([As]),hs("Keine Produkte (Filter löschen)"))]);return s(Bs,w([Si(Ai)]),w([Hg(n),s(Bs,w([s(Td,30,20),$s(Ei.bJ),Si(Ai),Oi(ds(Ws(n))),ng]),i),Ag(n)]))}(n):s(em,r.a,n)}(n);case 3:return function(n){return function(n){var r=Ds("Warenkorb"),t=s(Os,w([Di(25),Si(Ls),As,$s(Ei.du),Si(Ai),Oi(ds(75)),Hi(10)]),!Tg(n.gl)&&kg(n.cI)?s(js,s(yg,Vs,gm),w([hs("Bestellung abschicken"),s(Os,g,mb(s(Ig,hg,Is(3))))])):kg(n.cI)?s(js,s(yg,Vs,zg(Nu(2))),w([s(Os,g,mb(s(Eg,hg,Is(3)))),hs("Produkt auswählen")])):s(js,s(yg,Vs,zg(Nu(1))),w([s(Os,g,mb(s(Eg,hg,Is(3)))),hs("Perimeter festlegen")])));return s(Bs,w([Si(Ai)]),w([r,s(Bs,w([s(Td,30,20),$s(Ei.bJ),Si(Ai),Oi(ds(Ws(n))),ng]),w([pm(n)])),t]))}(n)}(n);default:return function(n){return function(n){var r=Ds("Bestellungen"),t=s(ls,w([$s(Ei.du),Si(Ai),Oi(ds(50)),Hi(10)]),w([hs(n.fO)]));return s(Bs,w([Si(Ai)]),w([r,s(Bs,w([s(Td,30,20),$s(Ei.bJ),Si(Ai),Oi(ds(Ws(n))),ng]),w([Kp(n)])),t]))}(n)}(n)}}(),e=s(js,w([Si(Ai),Oi(Ai)]),w([s(Bs,w([$s(Ei.gq),Oi(Ai)]),w([Hm(n)])),s(Bs,w([$s(Ei.du),Si(Ai),Oi(Ai)]),w([r]))])),u=s(Bs,w([Si(Ai),Oi(Ai)]),w([Hm(n),r]));return n.eh.fb?e:u},Rm=hs("Startseite"),Nm=function(n){switch(n.dx.$){case 0:return Rm;case 1:return Mm(n);case 2:return hs("AddrMatch");default:return hs("TopoName")}},Dm=l(yi,46,52,54,1),Pm=Ti,Sm=Fi(26),Bm=yr("rel"),qm=co("target"),Wm=t(function(n,r){var t=r.bu,e=r.aw;return l(bs,2,Wf("a"),s(ht,Fs(Nb(t)),s(ht,Fs(Bm("noopener noreferrer")),s(ht,Fs(qm("_blank")),s(ht,Si(Ls),s(ht,Oi(Ls),s(ht,_s("ccx ccy"),n)))))),Wi(w([e])))}),Vm=_s("i"),Zm=wr,Jm=(Ya=w(["-webkit-touch-callout","-webkit-user-select","-khtml-user-select","-moz-user-select","-ms-user-select","user-select"]),s(Uu,function(n){return Zl(s(Zm,n,"none"))},Ya)),Um=t(function(n,r){return{$:2,a:n,b:r}}),Gm=t(function(n,r){return{$:1,a:n,b:r}}),Qm={dL:St,dS:St,fF:Pt({ao:3,d5:l(xi,155/255,203/255,1,1),b:O(0,0),fI:3})},Xm=t(function(n,r){switch(r.$){case 0:return(0,r.a)(2);case 1:return s(r.a.eA,n(r.a.fT),2);case 2:return Ff(r.a);default:return Ff("")}}),Km=e(function(n,r,e){var u=function(n){var r,e,u,a;return{ep:(a=(r=b(Eu,t(function(n,r){switch(n.$){case 0:return 1===r.ey.$?j(r,{ey:Pt(n.a)}):r;case 1:return 1===r.ep.$?j(r,{ep:Pt(n.a)}):r;default:return 1===r.eZ.$?j(r,{eZ:Pt(n.a)}):r}}),{ep:St,ey:St,eZ:St},n)).ep,1===a.$?Qm:a.a),ey:(u=r.ey,1===u.$?1:u.a),eZ:(e=r.eZ,1===e.$?1:e.a)}}(n),a=2===u.eZ?Um(u):Gm(u);return s(Xm,a,l(bs,2,Vi,r,Wi(w([e]))))}),Ym=Fi(5),n$=t(function(n,r){return{$:1,a:n,b:r}}),r$={$:1},t$=function(n){return{$:3,a:n}},e$=function(n){return w(n.trim().split(/\s+/g))},u$=t(function(n,r){return H(r,function(){switch(n.$){case 0:return"serif";case 1:return"sans-serif";case 2:return"monospace";case 3:case 4:return s(se,"-",e$(sv(n.a)));default:return s(se,"-",e$(sv(n.a.bN)))}}())}),a$=(nc=w([t$("Open Sans"),t$("Helvetica"),t$("Verdana"),r$]),w([s(Ci,ps,b(gs,"bg-color-"+ms(l(xi,1,1,1,0)),"background-color",l(xi,1,1,1,0))),s(Ci,Cs,b(gs,"font-color-"+ms(l(xi,0,0,0,1)),"color",l(xi,0,0,0,1))),s(Ci,Ms,Rs(20)),s(Ci,Ym,s(n$,b(Et,u$,"font-",nc),nc))])),c$=e(function(n,r,t){return b(Km,n.e7,s(ht,_s(s(se," ",w(["ui","s","e"]))),H(a$,r)),t)}),i$=r$,o$=t$;rc={Main:{init:Xr({eF:function(n){var r;return O({dx:Nu(0),dM:F(0,0,255),ea:ea(1548017146522),eh:{bA:1,fb:1},ei:b(Re,Ie,g,g),cm:"",cI:{dZ:g,d0:O(2700000.1,1277777),el:g,e0:"",cR:"box",fl:g,gt:15},cO:Ie,cZ:"",fD:St,fG:!1,fO:"",di:aa,dq:{fw:{eu:n.eu,dr:n.dr},dq:{eu:n.eu,dr:n.dr,gn:0,gs:0}},gl:Zu(g)},qu(w([s(Yu,Pu,ta),s(Yu,Du,ua),(r=Su,Ru({bb:s(vu,r,Ne),bu:"https://geoservices.zh.ch/geoshopapi/v1/products"}))])))},fW:function(n){var r,t,u=b(Ea,e(function(n,r,t){return t&&200===r.fP}),!0,n.cO);return Ca(w([(t=ba,b(Oa,1,"resize",s(ge,"target",b(me,t,s(ge,"innerWidth",ye),s(ge,"innerHeight",ye))))),ca(function(n){return{$:19,a:n}}),oa(sa),(r=n.cO,s(ja,0,r)>0&&!u?s(ec,5e3,Fa(fa)):Ha)]))},gi:wi,gk:function(n){return{dQ:w([b(c$,{e7:w([(r=zi,{$:1,a:r})])},H(w([Hs(Es),Ns(Is(1)),(u=w([o$("Montserrat"),i$]),s(Ci,Ym,s(n$,b(Et,u$,"ff-",u),u)))]),Jm),s(Bs,w([Si(Ai),Oi(Ai)]),w([(t=n.dx,e=function(){switch(t.$){case 0:return"Startseite";case 1:return"Open Data Shop";case 2:return"Address Matching";default:return"Topographische Namen"}}(),s(js,w([Si(Ai),Hi(zs(4)),Di(zs(4)),$s(Dm),Ns(Is(4))]),w([s(Os,w([Si(Pm(1))]),s(Os,w([Hs(Rl)]),hs(e))),s(Wm,w([Si(Pm(1))]),{aw:s(js,w([Yg,Di(20)]),w([s(Os,w([Vm]),hs("geoTools")),s(Os,(42,w([Hi(5),Si(ds(42)),Oi(ds(42)),Gs(6),nb(1),Ks])),s(Os,w([(1,s(Xl,Sm,{$:1,a:-1}))]),hs("♜")))])),bu:"//szinggeler.github.io/"})]))),Nm(n)])))]),gb:"geoTools 0.19.0"};var r,t,e,u}})(s(ac,function(n){return s(ac,function(r){return s(ac,function(t){return s(ac,function(e){return s(ac,function(u){return Ce({eu:u,ex:e,eQ:t,gf:r,dr:n})},s(ge,"height",ye))},s(ge,"hostname",$e))},s(ge,"mapextent",$e))},s(ge,"topic",$e))},s(ge,"width",ye)))(0)}},n.Elm?function n(r,t){for(var e in t)e in r?"init"==e?N(6):n(r[e],t[e]):r[e]=t[e]}(n.Elm,rc):n.Elm=rc}(this);
},{}],"JiFC":[function(require,module,exports) {

},{}],"KniQ":[function(require,module,exports) {
"use strict";function t(){return function(){throw new Error("Unimplemented abstract method.")}()}function e(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.abstract=t,exports.inherits=e,exports.getUid=o,exports.VERSION=void 0;var r=0;function o(t){return t.ol_uid||(t.ol_uid=String(++r))}var n="5.3.1";exports.VERSION=n;
},{}],"ygGQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./util.js"),t=function(t){function r(r){var o="Assertion failed. See https://openlayers.org/en/"+("latest"===e.VERSION?e.VERSION:"v"+e.VERSION.split("-")[0])+"/doc/errors/#"+r+" for details.";t.call(this,o),this.code=r,this.name="AssertionError",this.message=o}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r}(Error),r=t;exports.default=r;
},{"./util.js":"KniQ"}],"BTrx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={ADD:"add",REMOVE:"remove"};exports.default=e;
},{}],"zehl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={PROPERTYCHANGE:"propertychange"};exports.default=e;
},{}],"mH6q":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.clear=e,exports.getValues=n,exports.isEmpty=t,exports.assign=void 0;var r="function"==typeof Object.assign?Object.assign:function(r,e){var n=arguments;if(null==r)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(r),o=1,s=arguments.length;o<s;++o){var i=n[o];if(null!=i)for(var a in i)i.hasOwnProperty(a)&&(t[a]=i[a])}return t};function e(r){for(var e in r)delete r[e]}function n(r){var e=[];for(var n in r)e.push(r[n]);return e}function t(r){var e;for(e in r)return!1;return!e}exports.assign=r;
},{}],"55Uq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.bindListener=t,exports.findListener=n,exports.getListeners=r,exports.listen=s,exports.listenOnce=a,exports.unlisten=u,exports.unlistenByKey=c,exports.unlistenAll=f;var e=require("./obj.js");function t(e){var t=function(t){var n=e.listener,r=e.bindTo||e.target;return e.callOnce&&c(e),n.call(r,t)};return e.boundListener=t,t}function n(e,t,n,r){for(var i,l=0,o=e.length;l<o;++l)if((i=e[l]).listener===t&&i.bindTo===n)return r&&(i.deleteIndex=l),i}function r(e,t){var n=i(e);return n?n[t]:void 0}function i(e,t){var n=e.ol_lm;return!n&&t&&(n=e.ol_lm={}),n}function l(e){delete e.ol_lm}function o(t,n){var o=r(t,n);if(o){for(var s=0,a=o.length;s<a;++s)t.removeEventListener(n,o[s].boundListener),(0,e.clear)(o[s]);o.length=0;var u=i(t);u&&(delete u[n],0===Object.keys(u).length&&l(t))}}function s(e,r,l,o,s){var a=i(e,!0),u=a[r];u||(u=a[r]=[]);var c=n(u,l,o,!1);return c?s||(c.callOnce=!1):(c={bindTo:o,callOnce:!!s,listener:l,target:e,type:r},e.addEventListener(r,t(c)),u.push(c)),c}function a(e,t,n,r){return s(e,t,n,r,!0)}function u(e,t,i,l){var o=r(e,t);if(o){var s=n(o,i,l,!0);s&&c(s)}}function c(t){if(t&&t.target){t.target.removeEventListener(t.type,t.boundListener);var n=r(t.target,t.type);if(n){var i="deleteIndex"in t?t.deleteIndex:n.indexOf(t);-1!==i&&n.splice(i,1),0===n.length&&o(t.target,t.type)}(0,e.clear)(t)}}function f(e){var t=i(e);if(t)for(var n in t)o(e,n)}
},{"./obj.js":"mH6q"}],"DDda":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=function(){this.disposed_=!1};e.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},e.prototype.disposeInternal=function(){};var s=e;exports.default=s;
},{}],"RgA2":[function(require,module,exports) {
"use strict";function e(){return!0}function t(){return!1}function r(){}Object.defineProperty(exports,"__esModule",{value:!0}),exports.TRUE=e,exports.FALSE=t,exports.VOID=r;
},{}],"fKNg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.stopPropagation=o,exports.preventDefault=p,exports.default=void 0;var t=function(t){this.propagationStopped,this.type=t,this.target=null};function o(t){t.stopPropagation()}function p(t){t.preventDefault()}t.prototype.preventDefault=function(){this.propagationStopped=!0},t.prototype.stopPropagation=function(){this.propagationStopped=!0};var e=t;exports.default=e;
},{}],"8CR4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("../Disposable.js")),t=require("../events.js"),i=require("../functions.js"),s=n(require("./Event.js"));function n(e){return e&&e.__esModule?e:{default:e}}var r=function(e){function n(){e.call(this),this.pendingRemovals_={},this.dispatching_={},this.listeners_={}}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.addEventListener=function(e,t){var i=this.listeners_[e];i||(i=this.listeners_[e]=[]),-1===i.indexOf(t)&&i.push(t)},n.prototype.dispatchEvent=function(e){var t="string"==typeof e?new s.default(e):e,n=t.type;t.target=this;var r,o=this.listeners_[n];if(o){n in this.dispatching_||(this.dispatching_[n]=0,this.pendingRemovals_[n]=0),++this.dispatching_[n];for(var p=0,a=o.length;p<a;++p)if(!1===o[p].call(this,t)||t.propagationStopped){r=!1;break}if(--this.dispatching_[n],0===this.dispatching_[n]){var h=this.pendingRemovals_[n];for(delete this.pendingRemovals_[n];h--;)this.removeEventListener(n,i.VOID);delete this.dispatching_[n]}return r}},n.prototype.disposeInternal=function(){(0,t.unlistenAll)(this)},n.prototype.getListeners=function(e){return this.listeners_[e]},n.prototype.hasListener=function(e){return e?e in this.listeners_:Object.keys(this.listeners_).length>0},n.prototype.removeEventListener=function(e,t){var s=this.listeners_[e];if(s){var n=s.indexOf(t);e in this.pendingRemovals_?(s[n]=i.VOID,++this.pendingRemovals_[e]):(s.splice(n,1),0===s.length&&delete this.listeners_[e])}},n}(e.default),o=r;exports.default=o;
},{"../Disposable.js":"DDda","../events.js":"55Uq","../functions.js":"RgA2","./Event.js":"fKNg"}],"C8cu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={CHANGE:"change",CLEAR:"clear",CONTEXTMENU:"contextmenu",CLICK:"click",DBLCLICK:"dblclick",DRAGENTER:"dragenter",DRAGOVER:"dragover",DROP:"drop",ERROR:"error",KEYDOWN:"keydown",KEYPRESS:"keypress",LOAD:"load",MOUSEDOWN:"mousedown",MOUSEMOVE:"mousemove",MOUSEOUT:"mouseout",MOUSEUP:"mouseup",MOUSEWHEEL:"mousewheel",MSPOINTERDOWN:"MSPointerDown",RESIZE:"resize",TOUCHSTART:"touchstart",TOUCHMOVE:"touchmove",TOUCHEND:"touchend",WHEEL:"wheel"};exports.default=e;
},{}],"8IdS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.unByKey=o,exports.default=void 0;var e=require("./events.js"),t=n(require("./events/Target.js")),r=n(require("./events/EventType.js"));function n(e){return e&&e.__esModule?e:{default:e}}var i=function(t){function n(){t.call(this),this.revision_=0}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.changed=function(){++this.revision_,this.dispatchEvent(r.default.CHANGE)},n.prototype.getRevision=function(){return this.revision_},n.prototype.on=function(t,r){if(Array.isArray(t)){for(var n=t.length,i=new Array(n),o=0;o<n;++o)i[o]=(0,e.listen)(this,t[o],r);return i}return(0,e.listen)(this,t,r)},n.prototype.once=function(t,r){if(Array.isArray(t)){for(var n=t.length,i=new Array(n),o=0;o<n;++o)i[o]=(0,e.listenOnce)(this,t[o],r);return i}return(0,e.listenOnce)(this,t,r)},n.prototype.un=function(t,r){if(Array.isArray(t))for(var n=0,i=t.length;n<i;++n)(0,e.unlisten)(this,t[n],r);else(0,e.unlisten)(this,t,r)},n}(t.default);function o(t){if(Array.isArray(t))for(var r=0,n=t.length;r<n;++r)(0,e.unlistenByKey)(t[r]);else(0,e.unlistenByKey)(t)}var s=i;exports.default=s;
},{"./events.js":"55Uq","./events/Target.js":"8CR4","./events/EventType.js":"C8cu"}],"PhPh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getChangeEventType=a,exports.default=exports.ObjectEvent=void 0;var t=require("./util.js"),e=i(require("./ObjectEventType.js")),r=i(require("./Observable.js")),o=i(require("./events/Event.js")),s=require("./obj.js");function i(t){return t&&t.__esModule?t:{default:t}}var n=function(t){function e(e,r,o){t.call(this,e),this.key=r,this.oldValue=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(o.default);exports.ObjectEvent=n;var u=function(r){function o(e){r.call(this),(0,t.getUid)(this),this.values_={},void 0!==e&&this.setProperties(e)}return r&&(o.__proto__=r),o.prototype=Object.create(r&&r.prototype),o.prototype.constructor=o,o.prototype.get=function(t){var e;return this.values_.hasOwnProperty(t)&&(e=this.values_[t]),e},o.prototype.getKeys=function(){return Object.keys(this.values_)},o.prototype.getProperties=function(){return(0,s.assign)({},this.values_)},o.prototype.notify=function(t,r){var o;o=a(t),this.dispatchEvent(new n(o,t,r)),o=e.default.PROPERTYCHANGE,this.dispatchEvent(new n(o,t,r))},o.prototype.set=function(t,e,r){if(r)this.values_[t]=e;else{var o=this.values_[t];this.values_[t]=e,o!==e&&this.notify(t,o)}},o.prototype.setProperties=function(t,e){for(var r in t)this.set(r,t[r],e)},o.prototype.unset=function(t,e){if(t in this.values_){var r=this.values_[t];delete this.values_[t],e||this.notify(t,r)}},o}(r.default),p={};function a(t){return p.hasOwnProperty(t)?p[t]:p[t]="change:"+t}var c=u;exports.default=c;
},{"./util.js":"KniQ","./ObjectEventType.js":"zehl","./Observable.js":"8IdS","./events/Event.js":"fKNg","./obj.js":"mH6q"}],"FnDa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.CollectionEvent=void 0;var t=n(require("./AssertionError.js")),e=n(require("./CollectionEventType.js")),r=n(require("./Object.js")),i=n(require("./events/Event.js"));function n(t){return t&&t.__esModule?t:{default:t}}var o={LENGTH:"length"},s=function(t){function e(e,r){t.call(this,e),this.element=r}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(i.default);exports.CollectionEvent=s;var a=function(r){function i(t,e){r.call(this);var i=e||{};if(this.unique_=!!i.unique,this.array_=t||[],this.unique_)for(var n=0,o=this.array_.length;n<o;++n)this.assertUnique_(this.array_[n],n);this.updateLength_()}return r&&(i.__proto__=r),i.prototype=Object.create(r&&r.prototype),i.prototype.constructor=i,i.prototype.clear=function(){for(;this.getLength()>0;)this.pop()},i.prototype.extend=function(t){for(var e=0,r=t.length;e<r;++e)this.push(t[e]);return this},i.prototype.forEach=function(t){for(var e=this.array_,r=0,i=e.length;r<i;++r)t(e[r],r,e)},i.prototype.getArray=function(){return this.array_},i.prototype.item=function(t){return this.array_[t]},i.prototype.getLength=function(){return this.get(o.LENGTH)},i.prototype.insertAt=function(t,r){this.unique_&&this.assertUnique_(r),this.array_.splice(t,0,r),this.updateLength_(),this.dispatchEvent(new s(e.default.ADD,r))},i.prototype.pop=function(){return this.removeAt(this.getLength()-1)},i.prototype.push=function(t){this.unique_&&this.assertUnique_(t);var e=this.getLength();return this.insertAt(e,t),this.getLength()},i.prototype.remove=function(t){for(var e=this.array_,r=0,i=e.length;r<i;++r)if(e[r]===t)return this.removeAt(r)},i.prototype.removeAt=function(t){var r=this.array_[t];return this.array_.splice(t,1),this.updateLength_(),this.dispatchEvent(new s(e.default.REMOVE,r)),r},i.prototype.setAt=function(t,r){var i=this.getLength();if(t<i){this.unique_&&this.assertUnique_(r,t);var n=this.array_[t];this.array_[t]=r,this.dispatchEvent(new s(e.default.REMOVE,n)),this.dispatchEvent(new s(e.default.ADD,r))}else{for(var o=i;o<t;++o)this.insertAt(o,void 0);this.insertAt(t,r)}},i.prototype.updateLength_=function(){this.set(o.LENGTH,this.array_.length)},i.prototype.assertUnique_=function(e,r){for(var i=0,n=this.array_.length;i<n;++i)if(this.array_[i]===e&&i!==r)throw new t.default(58)},i}(r.default),h=a;exports.default=h;
},{"./AssertionError.js":"ygGQ","./CollectionEventType.js":"BTrx","./Object.js":"PhPh","./events/Event.js":"fKNg"}],"fLG6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.assert=t;var e=r(require("./AssertionError.js"));function r(e){return e&&e.__esModule?e:{default:e}}function t(r,t){if(!r)throw new e.default(t)}
},{"./AssertionError.js":"ygGQ"}],"mYW9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createStyleFunction=y,exports.default=void 0;var e=require("./asserts.js"),t=require("./events.js"),r=i(require("./events/EventType.js")),o=n(require("./Object.js"));function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};o.get||o.set?Object.defineProperty(t,r,o):t[r]=e[r]}return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function n(r){if(e.call(this),this.id_=void 0,this.geometryName_="geometry",this.style_=null,this.styleFunction_=void 0,this.geometryChangeKey_=null,(0,t.listen)(this,(0,o.getChangeEventType)(this.geometryName_),this.handleGeometryChanged_,this),r)if("function"==typeof r.getSimplifiedGeometry){var n=r;this.setGeometry(n)}else{var i=r;this.setProperties(i)}}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.clone=function(){var e=new n(this.getProperties());e.setGeometryName(this.getGeometryName());var t=this.getGeometry();t&&e.setGeometry(t.clone());var r=this.getStyle();return r&&e.setStyle(r),e},n.prototype.getGeometry=function(){return this.get(this.geometryName_)},n.prototype.getId=function(){return this.id_},n.prototype.getGeometryName=function(){return this.geometryName_},n.prototype.getStyle=function(){return this.style_},n.prototype.getStyleFunction=function(){return this.styleFunction_},n.prototype.handleGeometryChange_=function(){this.changed()},n.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&((0,t.unlistenByKey)(this.geometryChangeKey_),this.geometryChangeKey_=null);var e=this.getGeometry();e&&(this.geometryChangeKey_=(0,t.listen)(e,r.default.CHANGE,this.handleGeometryChange_,this)),this.changed()},n.prototype.setGeometry=function(e){this.set(this.geometryName_,e)},n.prototype.setStyle=function(e){this.style_=e,this.styleFunction_=e?y(e):void 0,this.changed()},n.prototype.setId=function(e){this.id_=e,this.changed()},n.prototype.setGeometryName=function(e){(0,t.unlisten)(this,(0,o.getChangeEventType)(this.geometryName_),this.handleGeometryChanged_,this),this.geometryName_=e,(0,t.listen)(this,(0,o.getChangeEventType)(this.geometryName_),this.handleGeometryChanged_,this),this.handleGeometryChanged_()},n}(o.default);function y(t){return"function"==typeof t?t:(Array.isArray(t)?r=t:((0,e.assert)("function"==typeof t.getZIndex,41),r=[t]),function(){return r});var r}var h=s;exports.default=h;
},{"./asserts.js":"fLG6","./events.js":"55Uq","./events/EventType.js":"C8cu","./Object.js":"PhPh"}],"luEr":[function(require,module,exports) {
"use strict";function r(r,n,t){for(var u,o,i=t||e,f=0,a=r.length,s=!1;f<a;)(o=+i(r[u=f+(a-f>>1)],n))<0?f=u+1:(a=u,s=!o);return s?f:~f}function e(r,e){return r>e?1:r<e?-1:0}function n(r,e){return r.indexOf(e)>=0}function t(r,e,n){var t,u=r.length;if(r[0]<=e)return 0;if(e<=r[u-1])return u-1;if(n>0){for(t=1;t<u;++t)if(r[t]<e)return t-1}else if(n<0){for(t=1;t<u;++t)if(r[t]<=e)return t}else for(t=1;t<u;++t){if(r[t]==e)return t;if(r[t]<e)return r[t-1]-e<e-r[t]?t-1:t}return u-1}function u(r,e,n){for(;e<n;){var t=r[e];r[e]=r[n],r[n]=t,++e,--n}}function o(r,e){for(var n=Array.isArray(e)?e:[e],t=n.length,u=0;u<t;u++)r[r.length]=n[u]}function i(r,e){var n=r.indexOf(e),t=n>-1;return t&&r.splice(n,1),t}function f(r,e){for(var n,t=r.length>>>0,u=0;u<t;u++)if(e(n=r[u],u,r))return n;return null}function a(r,e){var n=r.length;if(n!==e.length)return!1;for(var t=0;t<n;t++)if(r[t]!==e[t])return!1;return!0}function s(r,e){var n,t=r.length,u=Array(r.length);for(n=0;n<t;n++)u[n]={index:n,value:r[n]};for(u.sort(function(r,n){return e(r.value,n.value)||r.index-n.index}),n=0;n<r.length;n++)r[n]=u[n].value}function l(r,e){var n;return!r.every(function(t,u){return n=u,!e(t,u,r)})?n:-1}function c(r,n,t){var u=n||e;return r.every(function(e,n){if(0===n)return!0;var o=u(r[n-1],e);return!(o>0||t&&0===o)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.binarySearch=r,exports.numberSafeCompareFunction=e,exports.includes=n,exports.linearFindNearest=t,exports.reverseSubArray=u,exports.extend=o,exports.remove=i,exports.find=f,exports.equals=a,exports.stableSort=s,exports.findIndex=l,exports.isSorted=c;
},{}],"urGY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t={BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",TOP_LEFT:"top-left",TOP_RIGHT:"top-right"};exports.default=t;
},{}],"bUAS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16};exports.default=e;
},{}],"QDir":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.boundingExtent=o,exports.buffer=a,exports.clone=i,exports.closestSquaredDistanceXY=s,exports.containsCoordinate=f,exports.containsExtent=c,exports.containsXY=p,exports.coordinateRelationship=x,exports.createEmpty=l,exports.createOrUpdate=d,exports.createOrUpdateEmpty=h,exports.createOrUpdateFromCoordinate=m,exports.createOrUpdateFromCoordinates=g,exports.createOrUpdateFromFlatCoordinates=T,exports.createOrUpdateFromRings=E,exports.equals=M,exports.extend=O,exports.extendCoordinate=v,exports.extendCoordinates=C,exports.extendFlatCoordinates=R,exports.extendRings=F,exports.extendXY=I,exports.forEachCorner=N,exports.getArea=B,exports.getBottomLeft=L,exports.getBottomRight=y,exports.getCenter=U,exports.getCorner=G,exports.getEnlargedArea=_,exports.getForViewAndSize=A,exports.getHeight=S,exports.getIntersectionArea=H,exports.getIntersection=W,exports.getMargin=q,exports.getSize=j,exports.getTopLeft=V,exports.getTopRight=b,exports.getWidth=P,exports.intersects=X,exports.isEmpty=Y,exports.returnOrUpdate=z,exports.scaleFromCenter=K,exports.intersectsSegment=w,exports.applyTransform=D;var t=require("./asserts.js"),e=n(require("./extent/Corner.js")),r=n(require("./extent/Relationship.js"));function n(t){return t&&t.__esModule?t:{default:t}}function o(t){for(var e=l(),r=0,n=t.length;r<n;++r)v(e,t[r]);return e}function u(t,e,r){return d(Math.min.apply(null,t),Math.min.apply(null,e),Math.max.apply(null,t),Math.max.apply(null,e),r)}function a(t,e,r){return r?(r[0]=t[0]-e,r[1]=t[1]-e,r[2]=t[2]+e,r[3]=t[3]+e,r):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function i(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function s(t,e,r){var n,o;return(n=e<t[0]?t[0]-e:t[2]<e?e-t[2]:0)*n+(o=r<t[1]?t[1]-r:t[3]<r?r-t[3]:0)*o}function f(t,e){return p(t,e[0],e[1])}function c(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function p(t,e,r){return t[0]<=e&&e<=t[2]&&t[1]<=r&&r<=t[3]}function x(t,e){var n=t[0],o=t[1],u=t[2],a=t[3],i=e[0],s=e[1],f=r.default.UNKNOWN;return i<n?f|=r.default.LEFT:i>u&&(f|=r.default.RIGHT),s<o?f|=r.default.BELOW:s>a&&(f|=r.default.ABOVE),f===r.default.UNKNOWN&&(f=r.default.INTERSECTING),f}function l(){return[1/0,1/0,-1/0,-1/0]}function d(t,e,r,n,o){return o?(o[0]=t,o[1]=e,o[2]=r,o[3]=n,o):[t,e,r,n]}function h(t){return d(1/0,1/0,-1/0,-1/0,t)}function m(t,e){var r=t[0],n=t[1];return d(r,n,r,n,e)}function g(t,e){return C(h(e),t)}function T(t,e,r,n,o){return R(h(o),t,e,r,n)}function E(t,e){return F(h(e),t)}function M(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function O(t,e){return e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3]),t}function v(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function C(t,e){for(var r=0,n=e.length;r<n;++r)v(t,e[r]);return t}function R(t,e,r,n,o){for(;r<n;r+=o)I(t,e[r],e[r+1]);return t}function F(t,e){for(var r=0,n=e.length;r<n;++r)C(t,e[r]);return t}function I(t,e,r){t[0]=Math.min(t[0],e),t[1]=Math.min(t[1],r),t[2]=Math.max(t[2],e),t[3]=Math.max(t[3],r)}function N(t,e,r){var n;return(n=e.call(r,L(t)))?n:(n=e.call(r,y(t)))?n:(n=e.call(r,b(t)))?n:(n=e.call(r,V(t)))||!1}function B(t){var e=0;return Y(t)||(e=P(t)*S(t)),e}function L(t){return[t[0],t[1]]}function y(t){return[t[2],t[1]]}function U(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function G(r,n){var o;return n===e.default.BOTTOM_LEFT?o=L(r):n===e.default.BOTTOM_RIGHT?o=y(r):n===e.default.TOP_LEFT?o=V(r):n===e.default.TOP_RIGHT?o=b(r):(0,t.assert)(!1,13),o}function _(t,e){var r=Math.min(t[0],e[0]),n=Math.min(t[1],e[1]);return(Math.max(t[2],e[2])-r)*(Math.max(t[3],e[3])-n)}function A(t,e,r,n,o){var u=e*n[0]/2,a=e*n[1]/2,i=Math.cos(r),s=Math.sin(r),f=u*i,c=u*s,p=a*i,x=a*s,l=t[0],h=t[1],m=l-f+x,g=l-f-x,T=l+f-x,E=l+f+x,M=h-c-p,O=h-c+p,v=h+c+p,C=h+c-p;return d(Math.min(m,g,T,E),Math.min(M,O,v,C),Math.max(m,g,T,E),Math.max(M,O,v,C),o)}function S(t){return t[3]-t[1]}function H(t,e){return B(W(t,e))}function W(t,e,r){var n=r||l();return X(t,e)?(t[0]>e[0]?n[0]=t[0]:n[0]=e[0],t[1]>e[1]?n[1]=t[1]:n[1]=e[1],t[2]<e[2]?n[2]=t[2]:n[2]=e[2],t[3]<e[3]?n[3]=t[3]:n[3]=e[3]):h(n),n}function q(t){return P(t)+S(t)}function j(t){return[t[2]-t[0],t[3]-t[1]]}function V(t){return[t[0],t[3]]}function b(t){return[t[2],t[3]]}function P(t){return t[2]-t[0]}function X(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function Y(t){return t[2]<t[0]||t[3]<t[1]}function z(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t}function K(t,e){var r=(t[2]-t[0])/2*(e-1),n=(t[3]-t[1])/2*(e-1);t[0]-=r,t[2]+=r,t[1]-=n,t[3]+=n}function w(t,e,n){var o=!1,u=x(t,e),a=x(t,n);if(u===r.default.INTERSECTING||a===r.default.INTERSECTING)o=!0;else{var i,s,f=t[0],c=t[1],p=t[2],l=t[3],d=e[0],h=e[1],m=n[0],g=n[1],T=(g-h)/(m-d);a&r.default.ABOVE&&!(u&r.default.ABOVE)&&(o=(i=m-(g-l)/T)>=f&&i<=p),o||!(a&r.default.RIGHT)||u&r.default.RIGHT||(o=(s=g-(m-p)*T)>=c&&s<=l),o||!(a&r.default.BELOW)||u&r.default.BELOW||(o=(i=m-(g-c)/T)>=f&&i<=p),o||!(a&r.default.LEFT)||u&r.default.LEFT||(o=(s=g-(m-f)*T)>=c&&s<=l)}return o}function D(t,e,r){var n=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]];return e(n,n,2),u([n[0],n[2],n[4],n[6]],[n[1],n[3],n[5],n[7]],r)}
},{"./asserts.js":"fLG6","./extent/Corner.js":"urGY","./extent/Relationship.js":"bUAS"}],"1Utv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={XY:"XY",XYZ:"XYZ",XYM:"XYM",XYZM:"XYZM"};exports.default=e;
},{}],"lmV0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={POINT:"Point",LINE_STRING:"LineString",LINEAR_RING:"LinearRing",POLYGON:"Polygon",MULTI_POINT:"MultiPoint",MULTI_LINE_STRING:"MultiLineString",MULTI_POLYGON:"MultiPolygon",GEOMETRY_COLLECTION:"GeometryCollection",CIRCLE:"Circle"};exports.default=e;
},{}],"LGwr":[function(require,module,exports) {
"use strict";function r(r,t,e,n,o,a){for(var f=a||[],s=0,l=t;l<e;l+=n){var u=r[l],v=r[l+1];f[s++]=o[0]*u+o[2]*v+o[4],f[s++]=o[1]*u+o[3]*v+o[5]}return a&&f.length!=s&&(f.length=s),f}function t(r,t,e,n,o,a,f){for(var s=f||[],l=Math.cos(o),u=Math.sin(o),v=a[0],h=a[1],c=0,g=t;g<e;g+=n){var i=r[g]-v,p=r[g+1]-h;s[c++]=v+i*l-p*u,s[c++]=h+i*u+p*l;for(var x=g+2;x<g+n;++x)s[c++]=r[x]}return f&&s.length!=c&&(s.length=c),s}function e(r,t,e,n,o,a,f,s){for(var l=s||[],u=f[0],v=f[1],h=0,c=t;c<e;c+=n){var g=r[c]-u,i=r[c+1]-v;l[h++]=u+o*g,l[h++]=v+a*i;for(var p=c+2;p<c+n;++p)l[h++]=r[p]}return s&&l.length!=h&&(l.length=h),l}function n(r,t,e,n,o,a,f){for(var s=f||[],l=0,u=t;u<e;u+=n){s[l++]=r[u]+o,s[l++]=r[u+1]+a;for(var v=u+2;v<u+n;++v)s[l++]=r[v]}return f&&s.length!=l&&(s.length=l),s}Object.defineProperty(exports,"__esModule",{value:!0}),exports.transform2D=r,exports.rotate=t,exports.scale=e,exports.translate=n;
},{}],"B96G":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.clamp=t,exports.roundUpToPowerOfTwo=o,exports.squaredSegmentDistance=a,exports.squaredDistance=n,exports.solveLinearSystem=s,exports.toDegrees=u,exports.toRadians=i,exports.modulo=c,exports.lerp=f,exports.cosh=void 0;var r=require("./asserts.js");function t(r,t,e){return Math.min(Math.max(r,t),e)}var e="cosh"in Math?Math.cosh:function(r){var t=Math.exp(r);return(t+1/t)/2};function o(t){return(0,r.assert)(0<t,29),Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function a(r,t,e,o,a,s){var u=a-e,i=s-o;if(0!==u||0!==i){var c=((r-e)*u+(t-o)*i)/(u*u+i*i);c>1?(e=a,o=s):c>0&&(e+=u*c,o+=i*c)}return n(r,t,e,o)}function n(r,t,e,o){var a=e-r,n=o-t;return a*a+n*n}function s(r){for(var t=r.length,e=0;e<t;e++){for(var o=e,a=Math.abs(r[e][e]),n=e+1;n<t;n++){var s=Math.abs(r[n][e]);s>a&&(a=s,o=n)}if(0===a)return null;var u=r[o];r[o]=r[e],r[e]=u;for(var i=e+1;i<t;i++)for(var c=-r[i][e]/r[e][e],f=e;f<t+1;f++)e==f?r[i][f]=0:r[i][f]+=c*r[e][f]}for(var h=new Array(t),p=t-1;p>=0;p--){h[p]=r[p][t]/r[p][p];for(var v=p-1;v>=0;v--)r[v][t]-=r[v][p]*h[p]}return h}function u(r){return 180*r/Math.PI}function i(r){return r*Math.PI/180}function c(r,t){var e=r%t;return e*t<0?e+t:e}function f(r,t,e){return r+e*(t-r)}exports.cosh=e;
},{"./asserts.js":"fLG6"}],"q4ER":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDistance=s,exports.getLength=n,exports.getArea=u,exports.offset=h,exports.DEFAULT_RADIUS=void 0;var e=require("./math.js"),t=a(require("./geom/GeometryType.js"));function a(e){return e&&e.__esModule?e:{default:e}}var r=6371008.8;function s(t,a,s){var o=s||r,n=(0,e.toRadians)(t[1]),i=(0,e.toRadians)(a[1]),u=(i-n)/2,h=(0,e.toRadians)(a[0]-t[0])/2,f=Math.sin(u)*Math.sin(u)+Math.sin(h)*Math.sin(h)*Math.cos(n)*Math.cos(i);return 2*o*Math.atan2(Math.sqrt(f),Math.sqrt(1-f))}function o(e,t){for(var a=0,r=0,o=e.length;r<o-1;++r)a+=s(e[r],e[r+1],t);return a}function n(e,a){var s=a||{},i=s.radius||r,u=s.projection||"EPSG:3857",h=e.getType();h!==t.default.GEOMETRY_COLLECTION&&(e=e.clone().transform(u,"EPSG:4326"));var f,d,M,c,l,g,I=0;switch(h){case t.default.POINT:case t.default.MULTI_POINT:break;case t.default.LINE_STRING:case t.default.LINEAR_RING:I=o(f=e.getCoordinates(),i);break;case t.default.MULTI_LINE_STRING:case t.default.POLYGON:for(M=0,c=(f=e.getCoordinates()).length;M<c;++M)I+=o(f[M],i);break;case t.default.MULTI_POLYGON:for(M=0,c=(f=e.getCoordinates()).length;M<c;++M)for(l=0,g=(d=f[M]).length;l<g;++l)I+=o(d[l],i);break;case t.default.GEOMETRY_COLLECTION:var L=e.getGeometries();for(M=0,c=L.length;M<c;++M)I+=n(L[M],a);break;default:throw new Error("Unsupported geometry type: "+h)}return I}function i(t,a){for(var r=0,s=t.length,o=t[s-1][0],n=t[s-1][1],i=0;i<s;i++){var u=t[i][0],h=t[i][1];r+=(0,e.toRadians)(u-o)*(2+Math.sin((0,e.toRadians)(n))+Math.sin((0,e.toRadians)(h))),o=u,n=h}return r*a*a/2}function u(e,a){var s=a||{},o=s.radius||r,n=s.projection||"EPSG:3857",h=e.getType();h!==t.default.GEOMETRY_COLLECTION&&(e=e.clone().transform(n,"EPSG:4326"));var f,d,M,c,l,g,I=0;switch(h){case t.default.POINT:case t.default.MULTI_POINT:case t.default.LINE_STRING:case t.default.MULTI_LINE_STRING:case t.default.LINEAR_RING:break;case t.default.POLYGON:for(f=e.getCoordinates(),I=Math.abs(i(f[0],o)),M=1,c=f.length;M<c;++M)I-=Math.abs(i(f[M],o));break;case t.default.MULTI_POLYGON:for(M=0,c=(f=e.getCoordinates()).length;M<c;++M)for(d=f[M],I+=Math.abs(i(d[0],o)),l=1,g=d.length;l<g;++l)I-=Math.abs(i(d[l],o));break;case t.default.GEOMETRY_COLLECTION:var L=e.getGeometries();for(M=0,c=L.length;M<c;++M)I+=u(L[M],a);break;default:throw new Error("Unsupported geometry type: "+h)}return I}function h(t,a,s,o){var n=o||r,i=(0,e.toRadians)(t[1]),u=(0,e.toRadians)(t[0]),h=a/n,f=Math.asin(Math.sin(i)*Math.cos(h)+Math.cos(i)*Math.sin(h)*Math.cos(s)),d=u+Math.atan2(Math.sin(s)*Math.sin(h)*Math.cos(i),Math.cos(h)-Math.sin(i)*Math.sin(f));return[(0,e.toDegrees)(d),(0,e.toDegrees)(f)]}exports.DEFAULT_RADIUS=r;
},{"./math.js":"B96G","./geom/GeometryType.js":"lmV0"}],"yZx6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.METERS_PER_UNIT=void 0;var E={DEGREES:"degrees",FEET:"ft",METERS:"m",PIXELS:"pixels",TILE_PIXELS:"tile-pixels",USFEET:"us-ft"},e={};exports.METERS_PER_UNIT=e,e[E.DEGREES]=2*Math.PI*6370997/360,e[E.FEET]=.3048,e[E.METERS]=1,e[E.USFEET]=1200/3937;var t=E;exports.default=t;
},{}],"WUar":[function(require,module,exports) {
var global = arguments[3];
var t=arguments[3];Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./Units.js"),n=function(t){this.code_=t.code,this.units_=t.units,this.extent_=void 0!==t.extent?t.extent:null,this.worldExtent_=void 0!==t.worldExtent?t.worldExtent:null,this.axisOrientation_=void 0!==t.axisOrientation?t.axisOrientation:"enu",this.global_=void 0!==t.global&&t.global,this.canWrapX_=!(!this.global_||!this.extent_),this.getPointResolutionFunc_=t.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=t.metersPerUnit};n.prototype.canWrapX=function(){return this.canWrapX_},n.prototype.getCode=function(){return this.code_},n.prototype.getExtent=function(){return this.extent_},n.prototype.getUnits=function(){return this.units_},n.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||e.METERS_PER_UNIT[this.units_]},n.prototype.getWorldExtent=function(){return this.worldExtent_},n.prototype.getAxisOrientation=function(){return this.axisOrientation_},n.prototype.isGlobal=function(){return this.global_},n.prototype.setGlobal=function(t){this.global_=t,this.canWrapX_=!(!t||!this.extent_)},n.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},n.prototype.setDefaultTileGrid=function(t){this.defaultTileGrid_=t},n.prototype.setExtent=function(t){this.extent_=t,this.canWrapX_=!(!this.global_||!t)},n.prototype.setWorldExtent=function(t){this.worldExtent_=t},n.prototype.setGetPointResolution=function(t){this.getPointResolutionFunc_=t},n.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_};var i=n;exports.default=i;
},{"./Units.js":"yZx6"}],"lohs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.fromEPSG4326=E,exports.toEPSG4326=c,exports.PROJECTIONS=exports.WORLD_EXTENT=exports.EXTENT=exports.HALF_SIZE=exports.RADIUS=void 0;var e=require("../math.js"),t=o(require("./Projection.js")),r=o(require("./Units.js"));function o(e){return e&&e.__esModule?e:{default:e}}var n=6378137;exports.RADIUS=n;var s=Math.PI*n;exports.HALF_SIZE=s;var a=[-s,-s,s,s];exports.EXTENT=a;var u=[-180,-85,180,85];exports.WORLD_EXTENT=u;var p=function(t){function o(o){t.call(this,{code:o,units:r.default.METERS,extent:a,global:!0,worldExtent:u,getPointResolution:function(t,r){return t/(0,e.cosh)(r[1]/n)}})}return t&&(o.__proto__=t),o.prototype=Object.create(t&&t.prototype),o.prototype.constructor=o,o}(t.default),i=[new p("EPSG:3857"),new p("EPSG:102100"),new p("EPSG:102113"),new p("EPSG:900913"),new p("urn:ogc:def:crs:EPSG:6.18:3:3857"),new p("urn:ogc:def:crs:EPSG::3857"),new p("http://www.opengis.net/gml/srs/epsg.xml#3857")];function E(e,t,r){var o=e.length,a=r>1?r:2,u=t;void 0===u&&(u=a>2?e.slice():new Array(o));for(var p=s,i=0;i<o;i+=a){u[i]=p*e[i]/180;var E=n*Math.log(Math.tan(Math.PI*(e[i+1]+90)/360));E>p?E=p:E<-p&&(E=-p),u[i+1]=E}return u}function c(e,t,r){var o=e.length,a=r>1?r:2,u=t;void 0===u&&(u=a>2?e.slice():new Array(o));for(var p=0;p<o;p+=a)u[p]=180*e[p]/s,u[p+1]=360*Math.atan(Math.exp(e[p+1]/n))/Math.PI-90;return u}exports.PROJECTIONS=i;
},{"../math.js":"B96G","./Projection.js":"WUar","./Units.js":"yZx6"}],"ZniN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PROJECTIONS=exports.METERS_PER_UNIT=exports.EXTENT=exports.RADIUS=void 0;var e=t(require("./Projection.js")),r=t(require("./Units.js"));function t(e){return e&&e.__esModule?e:{default:e}}var n=6378137;exports.RADIUS=n;var o=[-180,-90,180,90];exports.EXTENT=o;var s=Math.PI*n/180;exports.METERS_PER_UNIT=s;var u=function(e){function t(t,n){e.call(this,{code:t,units:r.default.DEGREES,extent:o,axisOrientation:n,global:!0,metersPerUnit:s,worldExtent:o})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(e.default),c=[new u("CRS:84"),new u("EPSG:4326","neu"),new u("urn:ogc:def:crs:EPSG::4326","neu"),new u("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new u("urn:ogc:def:crs:OGC:1.3:CRS84"),new u("urn:ogc:def:crs:OGC:2:84"),new u("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new u("urn:x-ogc:def:crs:EPSG:4326","neu")];exports.PROJECTIONS=c;
},{"./Projection.js":"WUar","./Units.js":"yZx6"}],"3tlE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.clear=t,exports.get=r,exports.add=n;var e={};function t(){e={}}function r(t){return e[t]||null}function n(t,r){e[t]=r}
},{}],"uhlP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.clear=r,exports.add=o,exports.remove=n,exports.get=i;var e=require("../obj.js"),t={};function r(){t={}}function o(e,r,o){var n=e.getCode(),i=r.getCode();n in t||(t[n]={}),t[n][i]=o}function n(r,o){var n=r.getCode(),i=o.getCode(),d=t[n][i];return delete t[n][i],(0,e.isEmpty)(t[n])&&delete t[n],d}function i(e,r){var o;return e in t&&r in t[e]&&(o=t[e][r]),o}
},{"../obj.js":"mH6q"}],"Diht":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.cloneTransform=d,exports.identityTransform=p,exports.addProjection=l,exports.addProjections=E,exports.get=P,exports.getPointResolution=j,exports.addEquivalentProjections=g,exports.addEquivalentTransforms=v,exports.clearAllProjections=x,exports.createProjection=m,exports.createTransformFromCoordinateTransform=O,exports.addCoordinateTransforms=T,exports.fromLonLat=S,exports.toLonLat=y,exports.equivalent=R,exports.getTransformFromProjections=h,exports.getTransform=q,exports.transform=C,exports.transformExtent=_,exports.transformWithProjections=b,exports.addCommon=G,Object.defineProperty(exports,"Projection",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(exports,"METERS_PER_UNIT",{enumerable:!0,get:function(){return s.METERS_PER_UNIT}});var e=require("./sphere.js"),r=require("./extent.js"),t=require("./math.js"),o=require("./proj/epsg3857.js"),n=require("./proj/epsg4326.js"),i=c(require("./proj/Projection.js")),s=f(require("./proj/Units.js")),u=f(require("./proj/projections.js")),a=require("./proj/transforms.js");function f(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};o.get||o.set?Object.defineProperty(r,t,o):r[t]=e[t]}return r.default=e,r}function c(e){return e&&e.__esModule?e:{default:e}}function d(e,r,t){var o;if(void 0!==r){for(var n=0,i=e.length;n<i;++n)r[n]=e[n];o=r}else o=e.slice();return o}function p(e,r,t){if(void 0!==r&&e!==r){for(var o=0,n=e.length;o<n;++o)r[o]=e[o];e=r}return e}function l(e){u.add(e.getCode(),e),(0,a.add)(e,e,d)}function E(e){e.forEach(l)}function P(e){return"string"==typeof e?u.get(e):e||null}function j(r,t,o,n){var i,u=(r=P(r)).getPointResolutionFunc();if(u)i=u(t,o);else if(r.getUnits()==s.default.DEGREES&&!n||n==s.default.DEGREES)i=t;else{var a=h(r,P("EPSG:4326")),f=[o[0]-t/2,o[1],o[0]+t/2,o[1],o[0],o[1]-t/2,o[0],o[1]+t/2];f=a(f,f,2),i=((0,e.getDistance)(f.slice(0,2),f.slice(2,4))+(0,e.getDistance)(f.slice(4,6),f.slice(6,8)))/2;var c=n?s.METERS_PER_UNIT[n]:r.getMetersPerUnit();void 0!==c&&(i/=c)}return i}function g(e){E(e),e.forEach(function(r){e.forEach(function(e){r!==e&&(0,a.add)(r,e,d)})})}function v(e,r,t,o){e.forEach(function(e){r.forEach(function(r){(0,a.add)(e,r,t),(0,a.add)(r,e,o)})})}function x(){u.clear(),(0,a.clear)()}function m(e,r){return e?"string"==typeof e?P(e):e:P(r)}function O(e){return function(r,t,o){for(var n=r.length,i=void 0!==o?o:2,s=void 0!==t?t:new Array(n),u=0;u<n;u+=i){var a=e([r[u],r[u+1]]);s[u]=a[0],s[u+1]=a[1];for(var f=i-1;f>=2;--f)s[u+f]=r[u+f]}return s}}function T(e,r,t,o){var n=P(e),i=P(r);(0,a.add)(n,i,O(t)),(0,a.add)(i,n,O(o))}function S(e,r){return C(e,"EPSG:4326",void 0!==r?r:"EPSG:3857")}function y(e,r){var o=C(e,void 0!==r?r:"EPSG:3857","EPSG:4326"),n=o[0];return(n<-180||n>180)&&(o[0]=(0,t.modulo)(n+180,360)-180),o}function R(e,r){if(e===r)return!0;var t=e.getUnits()===r.getUnits();return e.getCode()===r.getCode()?t:h(e,r)===d&&t}function h(e,r){var t=e.getCode(),o=r.getCode(),n=(0,a.get)(t,o);return n||(n=p),n}function q(e,r){return h(P(e),P(r))}function C(e,r,t){return q(r,t)(e,void 0,e.length)}function _(e,t,o){var n=q(t,o);return(0,r.applyTransform)(e,n)}function b(e,r,t){return h(r,t)(e)}function G(){g(o.PROJECTIONS),g(n.PROJECTIONS),v(n.PROJECTIONS,o.PROJECTIONS,o.fromEPSG4326,o.toEPSG4326)}G();
},{"./sphere.js":"q4ER","./extent.js":"QDir","./math.js":"B96G","./proj/epsg3857.js":"lohs","./proj/epsg4326.js":"ZniN","./proj/Projection.js":"WUar","./proj/Units.js":"yZx6","./proj/projections.js":"3tlE","./proj/transforms.js":"uhlP"}],"P4eA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=e,exports.reset=n,exports.multiply=o,exports.set=s,exports.setFromArray=u,exports.apply=a,exports.rotate=i,exports.scale=c,exports.translate=p,exports.compose=f,exports.invert=x,exports.determinant=v;var r=require("./asserts.js"),t=new Array(6);function e(){return[1,0,0,1,0,0]}function n(r){return s(r,1,0,0,1,0,0)}function o(r,t){var e=r[0],n=r[1],o=r[2],s=r[3],u=r[4],a=r[5],i=t[0],c=t[1],p=t[2],f=t[3],x=t[4],v=t[5];return r[0]=e*i+o*c,r[1]=n*i+s*c,r[2]=e*p+o*f,r[3]=n*p+s*f,r[4]=e*x+o*v+u,r[5]=n*x+s*v+a,r}function s(r,t,e,n,o,s,u){return r[0]=t,r[1]=e,r[2]=n,r[3]=o,r[4]=s,r[5]=u,r}function u(r,t){return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r}function a(r,t){var e=t[0],n=t[1];return t[0]=r[0]*e+r[2]*n+r[4],t[1]=r[1]*e+r[3]*n+r[5],t}function i(r,e){var n=Math.cos(e),u=Math.sin(e);return o(r,s(t,n,u,-u,n,0,0))}function c(r,e,n){return o(r,s(t,e,0,0,n,0,0))}function p(r,e,n){return o(r,s(t,1,0,0,1,e,n))}function f(r,t,e,n,o,s,u,a){var i=Math.sin(s),c=Math.cos(s);return r[0]=n*c,r[1]=o*i,r[2]=-n*i,r[3]=o*c,r[4]=u*n*c-a*n*i+t,r[5]=u*o*i+a*o*c+e,r}function x(t){var e=v(t);(0,r.assert)(0!==e,32);var n=t[0],o=t[1],s=t[2],u=t[3],a=t[4],i=t[5];return t[0]=u/e,t[1]=-o/e,t[2]=-s/e,t[3]=n/e,t[4]=(s*i-u*a)/e,t[5]=-(n*i-o*a)/e,t}function v(r){return r[0]*r[3]-r[1]*r[2]}
},{"./asserts.js":"fLG6"}],"F8sI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../util.js"),e=p(require("../Object.js")),r=require("../extent.js"),o=require("./flat/transform.js"),n=require("../proj.js"),i=p(require("../proj/Units.js")),s=require("../transform.js");function p(t){return t&&t.__esModule?t:{default:t}}var a=(0,s.create)(),u=function(e){function p(){e.call(this),this.extent_=(0,r.createEmpty)(),this.extentRevision_=-1,this.simplifiedGeometryCache={},this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=0}return e&&(p.__proto__=e),p.prototype=Object.create(e&&e.prototype),p.prototype.constructor=p,p.prototype.clone=function(){return(0,t.abstract)()},p.prototype.closestPointXY=function(e,r,o,n){return(0,t.abstract)()},p.prototype.containsXY=function(t,e){return!1},p.prototype.getClosestPoint=function(t,e){var r=e||[NaN,NaN];return this.closestPointXY(t[0],t[1],r,1/0),r},p.prototype.intersectsCoordinate=function(t){return this.containsXY(t[0],t[1])},p.prototype.computeExtent=function(e){return(0,t.abstract)()},p.prototype.getExtent=function(t){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),(0,r.returnOrUpdate)(this.extent_,t)},p.prototype.rotate=function(e,r){(0,t.abstract)()},p.prototype.scale=function(e,r,o){(0,t.abstract)()},p.prototype.simplify=function(t){return this.getSimplifiedGeometry(t*t)},p.prototype.getSimplifiedGeometry=function(e){return(0,t.abstract)()},p.prototype.getType=function(){return(0,t.abstract)()},p.prototype.applyTransform=function(e){(0,t.abstract)()},p.prototype.intersectsExtent=function(e){return(0,t.abstract)()},p.prototype.translate=function(e,r){(0,t.abstract)()},p.prototype.transform=function(t,e){var p=(0,n.get)(t),u=p.getUnits()==i.default.TILE_PIXELS?function(t,i,u){var c=p.getExtent(),f=p.getWorldExtent(),y=(0,r.getHeight)(f)/(0,r.getHeight)(c);return(0,s.compose)(a,f[0],f[3],y,-y,0,0,0),(0,o.transform2D)(t,0,t.length,u,a,i),(0,n.getTransform)(p,e)(t,i,u)}:(0,n.getTransform)(p,e);return this.applyTransform(u),this},p}(e.default),c=u;exports.default=c;
},{"../util.js":"KniQ","../Object.js":"PhPh","../extent.js":"QDir","./flat/transform.js":"LGwr","../proj.js":"Diht","../proj/Units.js":"yZx6","../transform.js":"P4eA"}],"pnrv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getStrideForLayout=u,exports.transformGeom2D=d,exports.default=void 0;var t=require("../util.js"),e=require("../extent.js"),i=a(require("./Geometry.js")),r=a(require("./GeometryLayout.js")),o=require("./flat/transform.js"),s=require("../obj.js");function a(t){return t&&t.__esModule?t:{default:t}}var n=function(i){function a(){i.call(this),this.layout=r.default.XY,this.stride=2,this.flatCoordinates=null}return i&&(a.__proto__=i),a.prototype=Object.create(i&&i.prototype),a.prototype.constructor=a,a.prototype.computeExtent=function(t){return(0,e.createOrUpdateFromFlatCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},a.prototype.getCoordinates=function(){return(0,t.abstract)()},a.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},a.prototype.getFlatCoordinates=function(){return this.flatCoordinates},a.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},a.prototype.getLayout=function(){return this.layout},a.prototype.getSimplifiedGeometry=function(t){if(this.simplifiedGeometryRevision!=this.getRevision()&&((0,s.clear)(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),t<0||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&t<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var e=t.toString();if(this.simplifiedGeometryCache.hasOwnProperty(e))return this.simplifiedGeometryCache[e];var i=this.getSimplifiedGeometryInternal(t);return i.getFlatCoordinates().length<this.flatCoordinates.length?(this.simplifiedGeometryCache[e]=i,i):(this.simplifiedGeometryMaxMinSquaredTolerance=t,this)},a.prototype.getSimplifiedGeometryInternal=function(t){return this},a.prototype.getStride=function(){return this.stride},a.prototype.setFlatCoordinates=function(t,e){this.stride=u(t),this.layout=t,this.flatCoordinates=e},a.prototype.setCoordinates=function(e,i){(0,t.abstract)()},a.prototype.setLayout=function(t,e,i){var o;if(t)o=u(t);else{for(var s=0;s<i;++s){if(0===e.length)return this.layout=r.default.XY,void(this.stride=2);e=e[0]}t=l(o=e.length)}this.layout=t,this.stride=o},a.prototype.applyTransform=function(t){this.flatCoordinates&&(t(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},a.prototype.rotate=function(t,e){var i=this.getFlatCoordinates();if(i){var r=this.getStride();(0,o.rotate)(i,0,i.length,r,t,e,i),this.changed()}},a.prototype.scale=function(t,i,r){var s=i;void 0===s&&(s=t);var a=r;a||(a=(0,e.getCenter)(this.getExtent()));var n=this.getFlatCoordinates();if(n){var l=this.getStride();(0,o.scale)(n,0,n.length,l,t,s,a,n),this.changed()}},a.prototype.translate=function(t,e){var i=this.getFlatCoordinates();if(i){var r=this.getStride();(0,o.translate)(i,0,i.length,r,t,e,i),this.changed()}},a}(i.default);function l(t){var e;return 2==t?e=r.default.XY:3==t?e=r.default.XYZ:4==t&&(e=r.default.XYZM),e}function u(t){var e;return t==r.default.XY?e=2:t==r.default.XYZ||t==r.default.XYM?e=3:t==r.default.XYZM&&(e=4),e}function d(t,e,i){var r=t.getFlatCoordinates();if(r){var s=t.getStride();return(0,o.transform2D)(r,0,r.length,s,e,i)}return null}var f=n;exports.default=f;
},{"../util.js":"KniQ","../extent.js":"QDir","./Geometry.js":"F8sI","./GeometryLayout.js":"1Utv","./flat/transform.js":"LGwr","../obj.js":"mH6q"}],"EOSm":[function(require,module,exports) {
"use strict";function r(r,e,n,t){for(var o=0,i=r[n-t],a=r[n-t+1];e<n;e+=t){var s=r[e],u=r[e+1];o+=a*s-i*u,i=s,a=u}return o/2}function e(e,n,t,o){for(var i=0,a=0,s=t.length;a<s;++a){var u=t[a];i+=r(e,n,u,o),n=u}return i}function n(r,n,t,o){for(var i=0,a=0,s=t.length;a<s;++a){var u=t[a];i+=e(r,n,u,o),n=u[u.length-1]}return i}Object.defineProperty(exports,"__esModule",{value:!0}),exports.linearRing=r,exports.linearRings=e,exports.linearRingss=n;
},{}],"rMra":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.maxSquaredDelta=t,exports.arrayMaxSquaredDelta=a,exports.multiArrayMaxSquaredDelta=n,exports.assignClosestPoint=s,exports.assignClosestArrayPoint=o,exports.assignClosestMultiArrayPoint=i;var r=require("../../math.js");function e(e,t,a,n,s,o,i){var u,f=e[t],l=e[t+1],v=e[a]-f,h=e[a+1]-l;if(0===v&&0===h)u=t;else{var g=((s-f)*v+(o-l)*h)/(v*v+h*h);if(g>1)u=a;else{if(g>0){for(var c=0;c<n;++c)i[c]=(0,r.lerp)(e[t+c],e[a+c],g);return void(i.length=n)}u=t}}for(var N=0;N<n;++N)i[N]=e[u+N];i.length=n}function t(e,t,a,n,s){var o=e[t],i=e[t+1];for(t+=n;t<a;t+=n){var u=e[t],f=e[t+1],l=(0,r.squaredDistance)(o,i,u,f);l>s&&(s=l),o=u,i=f}return s}function a(r,e,a,n,s){for(var o=0,i=a.length;o<i;++o){var u=a[o];s=t(r,e,u,n,s),e=u}return s}function n(r,e,t,n,s){for(var o=0,i=t.length;o<i;++o){var u=t[o];s=a(r,e,u,n,s),e=u[u.length-1]}return s}function s(t,a,n,s,o,i,u,f,l,v,h){if(a==n)return v;var g,c;if(0===o){if((c=(0,r.squaredDistance)(u,f,t[a],t[a+1]))<v){for(g=0;g<s;++g)l[g]=t[a+g];return l.length=s,c}return v}for(var N=h||[NaN,NaN],x=a+s;x<n;)if(e(t,x-s,x,s,u,f,N),(c=(0,r.squaredDistance)(u,f,N[0],N[1]))<v){for(v=c,g=0;g<s;++g)l[g]=N[g];l.length=s,x+=s}else x+=s*Math.max((Math.sqrt(c)-Math.sqrt(v))/o|0,1);if(i&&(e(t,n-s,a,s,u,f,N),(c=(0,r.squaredDistance)(u,f,N[0],N[1]))<v)){for(v=c,g=0;g<s;++g)l[g]=N[g];l.length=s}return v}function o(r,e,t,a,n,o,i,u,f,l,v){for(var h=v||[NaN,NaN],g=0,c=t.length;g<c;++g){var N=t[g];l=s(r,e,N,a,n,o,i,u,f,l,h),e=N}return l}function i(r,e,t,a,n,s,i,u,f,l,v){for(var h=v||[NaN,NaN],g=0,c=t.length;g<c;++g){var N=t[g];l=o(r,e,N,a,n,s,i,u,f,l,h),e=N[N.length-1]}return l}
},{"../../math.js":"B96G"}],"1FNh":[function(require,module,exports) {
"use strict";function e(e,r,t,n){for(var o=0,a=t.length;o<a;++o)e[r++]=t[o];return r}function r(e,r,t,n){for(var o=0,a=t.length;o<a;++o)for(var f=t[o],l=0;l<n;++l)e[r++]=f[l];return r}function t(e,t,n,o,a){for(var f=a||[],l=0,u=0,i=n.length;u<i;++u){var s=r(e,t,n[u],o);f[l++]=s,t=s}return f.length=l,f}function n(e,r,n,o,a){for(var f=a||[],l=0,u=0,i=n.length;u<i;++u){var s=t(e,r,n[u],o,f[l]);f[l++]=s,r=s[s.length-1]}return f.length=l,f}Object.defineProperty(exports,"__esModule",{value:!0}),exports.deflateCoordinate=e,exports.deflateCoordinates=r,exports.deflateCoordinatesArray=t,exports.deflateMultiCoordinatesArray=n;
},{}],"znXl":[function(require,module,exports) {
"use strict";function e(e,r,t,n,o){for(var i=void 0!==o?o:[],a=0,l=r;l<t;l+=n)i[a++]=e.slice(l,l+n);return i.length=a,i}function r(r,t,n,o,i){for(var a=void 0!==i?i:[],l=0,s=0,f=n.length;s<f;++s){var u=n[s];a[l++]=e(r,t,u,o,a[l]),t=u}return a.length=l,a}function t(e,t,n,o,i){for(var a=void 0!==i?i:[],l=0,s=0,f=n.length;s<f;++s){var u=n[s];a[l++]=r(e,t,u,o,a[l]),t=u[u.length-1]}return a.length=l,a}Object.defineProperty(exports,"__esModule",{value:!0}),exports.inflateCoordinates=e,exports.inflateCoordinatesArray=r,exports.inflateMultiCoordinatesArray=t;
},{}],"IEpt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.simplifyLineString=e,exports.douglasPeucker=t,exports.douglasPeuckerArray=n,exports.douglasPeuckerMultiArray=u,exports.radialDistance=a,exports.snap=o,exports.quantize=i,exports.quantizeArray=s,exports.quantizeMultiArray=f;var r=require("../../math.js");function e(r,e,n,u,o,i,s){var f=void 0!==s?s:[];return i||(n=a(r,e,n,u,o,f,0),r=f,e=0,u=2),f.length=t(r,e,n,u,o,f,0),f}function t(e,t,n,u,a,o,i){var s=(n-t)/u;if(s<3){for(;t<n;t+=u)o[i++]=e[t],o[i++]=e[t+1];return i}var f=new Array(s);f[0]=1,f[s-1]=1;for(var p=[t,n-u],v=0;p.length>0;){for(var l=p.pop(),c=p.pop(),h=0,g=e[c],d=e[c+1],x=e[l],y=e[l+1],q=c+u;q<l;q+=u){var A=e[q],M=e[q+1],P=(0,r.squaredSegmentDistance)(A,M,g,d,x,y);P>h&&(v=q,h=P)}h>a&&(f[(v-t)/u]=1,c+u<v&&p.push(c,v),v+u<l&&p.push(v,l))}for(var k=0;k<s;++k)f[k]&&(o[i++]=e[t+k*u],o[i++]=e[t+k*u+1]);return i}function n(r,e,n,u,a,o,i,s){for(var f=0,p=n.length;f<p;++f){var v=n[f];i=t(r,e,v,u,a,o,i),s.push(i),e=v}return i}function u(r,e,t,u,a,o,i,s){for(var f=0,p=t.length;f<p;++f){var v=t[f],l=[];i=n(r,e,v,u,a,o,i,l),s.push(l),e=v[v.length-1]}return i}function a(e,t,n,u,a,o,i){if(n<=t+u){for(;t<n;t+=u)o[i++]=e[t],o[i++]=e[t+1];return i}var s=e[t],f=e[t+1];o[i++]=s,o[i++]=f;var p=s,v=f;for(t+=u;t<n;t+=u)p=e[t],v=e[t+1],(0,r.squaredDistance)(s,f,p,v)>a&&(o[i++]=p,o[i++]=v,s=p,f=v);return p==s&&v==f||(o[i++]=p,o[i++]=v),i}function o(r,e){return e*Math.round(r/e)}function i(r,e,t,n,u,a,i){if(e==t)return i;var s,f,p=o(r[e],u),v=o(r[e+1],u);e+=n,a[i++]=p,a[i++]=v;do{if(s=o(r[e],u),f=o(r[e+1],u),(e+=n)==t)return a[i++]=s,a[i++]=f,i}while(s==p&&f==v);for(;e<t;){var l=o(r[e],u),c=o(r[e+1],u);if(e+=n,l!=s||c!=f){var h=s-p,g=f-v,d=l-p,x=c-v;h*x==g*d&&(h<0&&d<h||h==d||h>0&&d>h)&&(g<0&&x<g||g==x||g>0&&x>g)?(s=l,f=c):(a[i++]=s,a[i++]=f,p=s,v=f,s=l,f=c)}}return a[i++]=s,a[i++]=f,i}function s(r,e,t,n,u,a,o,s){for(var f=0,p=t.length;f<p;++f){var v=t[f];o=i(r,e,v,n,u,a,o),s.push(o),e=v}return o}function f(r,e,t,n,u,a,o,i){for(var f=0,p=t.length;f<p;++f){var v=t[f],l=[];o=s(r,e,v,n,u,a,o,l),i.push(l),e=v[v.length-1]}return o}
},{"../../math.js":"B96G"}],"jRgU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../extent.js"),e=u(require("./GeometryLayout.js")),i=u(require("./GeometryType.js")),o=u(require("./SimpleGeometry.js")),s=require("./flat/area.js"),r=require("./flat/closest.js"),a=require("./flat/deflate.js"),n=require("./flat/inflate.js"),l=require("./flat/simplify.js");function u(t){return t&&t.__esModule?t:{default:t}}var d=function(o){function u(t,e){o.call(this),this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===e||Array.isArray(t[0])?this.setCoordinates(t,e):this.setFlatCoordinates(e,t)}return o&&(u.__proto__=o),u.prototype=Object.create(o&&o.prototype),u.prototype.constructor=u,u.prototype.clone=function(){return new u(this.flatCoordinates.slice(),this.layout)},u.prototype.closestPointXY=function(e,i,o,s){return s<(0,t.closestSquaredDistanceXY)(this.getExtent(),e,i)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,r.maxSquaredDelta)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,r.assignClosestPoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,i,o,s))},u.prototype.getArea=function(){return(0,s.linearRing)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},u.prototype.getCoordinates=function(){return(0,n.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},u.prototype.getSimplifiedGeometryInternal=function(t){var i=[];return i.length=(0,l.douglasPeucker)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,i,0),new u(i,e.default.XY)},u.prototype.getType=function(){return i.default.LINEAR_RING},u.prototype.intersectsExtent=function(t){return!1},u.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,a.deflateCoordinates)(this.flatCoordinates,0,t,this.stride),this.changed()},u}(o.default),h=d;exports.default=h;
},{"../extent.js":"QDir","./GeometryLayout.js":"1Utv","./GeometryType.js":"lmV0","./SimpleGeometry.js":"pnrv","./flat/area.js":"EOSm","./flat/closest.js":"rMra","./flat/deflate.js":"1FNh","./flat/inflate.js":"znXl","./flat/simplify.js":"IEpt"}],"gLcY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../extent.js"),e=n(require("./GeometryType.js")),o=n(require("./SimpleGeometry.js")),r=require("./flat/deflate.js"),i=require("../math.js");function n(t){return t&&t.__esModule?t:{default:t}}var s=function(o){function n(t,e){o.call(this),this.setCoordinates(t,e)}return o&&(n.__proto__=o),n.prototype=Object.create(o&&o.prototype),n.prototype.constructor=n,n.prototype.clone=function(){return new n(this.flatCoordinates.slice(),this.layout)},n.prototype.closestPointXY=function(t,e,o,r){var n=this.flatCoordinates,s=(0,i.squaredDistance)(t,e,n[0],n[1]);if(s<r){for(var a=this.stride,u=0;u<a;++u)o[u]=n[u];return o.length=a,s}return r},n.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},n.prototype.computeExtent=function(e){return(0,t.createOrUpdateFromCoordinate)(this.flatCoordinates,e)},n.prototype.getType=function(){return e.default.POINT},n.prototype.intersectsExtent=function(e){return(0,t.containsXY)(e,this.flatCoordinates[0],this.flatCoordinates[1])},n.prototype.setCoordinates=function(t,e){this.setLayout(e,t,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,r.deflateCoordinate)(this.flatCoordinates,0,t,this.stride),this.changed()},n}(o.default),a=s;exports.default=a;
},{"../extent.js":"QDir","./GeometryType.js":"lmV0","./SimpleGeometry.js":"pnrv","./flat/deflate.js":"1FNh","../math.js":"B96G"}],"dzdN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.linearRingContainsExtent=n,exports.linearRingContainsXY=e,exports.linearRingsContainsXY=t,exports.linearRingssContainsXY=i;var r=require("../../extent.js");function n(n,t,i,o,u){return!(0,r.forEachCorner)(u,function(r){return!e(n,t,i,o,r[0],r[1])})}function e(r,n,e,t,i,o){for(var u=0,a=r[e-t],s=r[e-t+1];n<e;n+=t){var f=r[n],l=r[n+1];s<=o?l>o&&(f-a)*(o-s)-(i-a)*(l-s)>0&&u++:l<=o&&(f-a)*(o-s)-(i-a)*(l-s)<0&&u--,a=f,s=l}return 0!==u}function t(r,n,t,i,o,u){if(0===t.length)return!1;if(!e(r,n,t[0],i,o,u))return!1;for(var a=1,s=t.length;a<s;++a)if(e(r,t[a-1],t[a],i,o,u))return!1;return!0}function i(r,n,e,i,o,u){if(0===e.length)return!1;for(var a=0,s=e.length;a<s;++a){var f=e[a];if(t(r,n,f,i,o,u))return!0;n=f[f.length-1]}return!1}
},{"../../extent.js":"QDir"}],"UDvN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getInteriorPointOfArray=t,exports.getInteriorPointsOfMultiArray=n;var r=require("../../array.js"),e=require("./contains.js");function t(t,n,a,o,i,s,u){for(var f,l,v,g,h,p,c,y=i[s+1],N=[],b=0,j=a.length;b<j;++b){var x=a[b];for(g=t[x-o],p=t[x-o+1],f=n;f<x;f+=o)h=t[f],c=t[f+1],(y<=p&&c<=y||p<=y&&y<=c)&&(v=(y-p)/(c-p)*(h-g)+g,N.push(v)),g=h,p=c}var M=NaN,O=-1/0;for(N.sort(r.numberSafeCompareFunction),g=N[0],f=1,l=N.length;f<l;++f){h=N[f];var P=Math.abs(h-g);P>O&&(v=(g+h)/2,(0,e.linearRingsContainsXY)(t,n,a,o,v,y)&&(M=v,O=P)),g=h}return isNaN(M)&&(M=i[s]),u?(u.push(M,y,O),u):[M,y,O]}function n(r,e,n,a,o){for(var i=[],s=0,u=n.length;s<u;++s){var f=n[s];i=t(r,e,f,a,o,2*s,i),e=f[f.length-1]}return i}
},{"../../array.js":"luEr","./contains.js":"dzdN"}],"2U8i":[function(require,module,exports) {
"use strict";function e(e,r,t,o,u,c){for(var f,n=[e[r],e[r+1]],s=[];r+o<t;r+=o){if(s[0]=e[r+o],s[1]=e[r+o+1],f=u.call(c,n,s))return f;n[0]=s[0],n[1]=s[1]}return!1}Object.defineProperty(exports,"__esModule",{value:!0}),exports.forEach=e;
},{}],"GZir":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.intersectsLineString=t,exports.intersectsLineStringArray=i,exports.intersectsLinearRing=s,exports.intersectsLinearRingArray=a,exports.intersectsLinearRingMultiArray=o;var n=require("../../extent.js"),e=require("./contains.js"),r=require("./segments.js");function t(e,t,i,s,a){var o=(0,n.extendFlatCoordinates)((0,n.createEmpty)(),e,t,i,s);return!!(0,n.intersects)(a,o)&&(!!(0,n.containsExtent)(a,o)||(o[0]>=a[0]&&o[2]<=a[2]||(o[1]>=a[1]&&o[3]<=a[3]||(0,r.forEach)(e,t,i,s,function(e,r){return(0,n.intersectsSegment)(a,e,r)}))))}function i(n,e,r,i,s){for(var a=0,o=r.length;a<o;++a){if(t(n,e,r[a],i,s))return!0;e=r[a]}return!1}function s(n,r,i,s,a){return!!t(n,r,i,s,a)||(!!(0,e.linearRingContainsXY)(n,r,i,s,a[0],a[1])||(!!(0,e.linearRingContainsXY)(n,r,i,s,a[0],a[3])||(!!(0,e.linearRingContainsXY)(n,r,i,s,a[2],a[1])||!!(0,e.linearRingContainsXY)(n,r,i,s,a[2],a[3]))))}function a(n,r,i,a,o){if(!s(n,r,i[0],a,o))return!1;if(1===i.length)return!0;for(var u=1,c=i.length;u<c;++u)if((0,e.linearRingContainsExtent)(n,i[u-1],i[u],a,o)&&!t(n,i[u-1],i[u],a,o))return!1;return!0}function o(n,e,r,t,i){for(var s=0,o=r.length;s<o;++s){var u=r[s];if(a(n,e,u,t,i))return!0;e=u[u.length-1]}return!1}
},{"../../extent.js":"QDir","./contains.js":"dzdN","./segments.js":"2U8i"}],"ElTe":[function(require,module,exports) {
"use strict";function e(e,r,o,t){for(;r<o-t;){for(var s=0;s<t;++s){var a=e[r+s];e[r+s]=e[o-t+s],e[o-t+s]=a}r+=t,o-=t}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.coordinates=e;
},{}],"2/8c":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.linearRingIsClockwise=e,exports.linearRingIsOriented=n,exports.linearRingsAreOriented=t,exports.orientLinearRings=i,exports.orientLinearRingsArray=o;var r=require("./reverse.js");function e(r,e,n,t){for(var i=0,o=r[n-t],s=r[n-t+1];e<n;e+=t){var a=r[e],u=r[e+1];i+=(a-o)*(u+s),o=a,s=u}return i>0}function n(r,n,t,i,o){for(var s=void 0!==o&&o,a=0,u=t.length;a<u;++a){var f=t[a],v=e(r,n,f,i);if(0===a){if(s&&v||!s&&!v)return!1}else if(s&&!v||!s&&v)return!1;n=f}return!0}function t(r,e,t,i,o){for(var s=0,a=t.length;s<a;++s)if(!n(r,e,t[s],i,o))return!1;return!0}function i(n,t,i,o,s){for(var a=void 0!==s&&s,u=0,f=i.length;u<f;++u){var v=i[u],l=e(n,t,v,o);(0===u?a&&l||!a&&!l:a&&!l||!a&&l)&&(0,r.coordinates)(n,t,v,o),t=v}return t}function o(r,e,n,t,o){for(var s=0,a=n.length;s<a;++s)e=i(r,e,n[s],t,o);return e}
},{"./reverse.js":"ElTe"}],"6Nww":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.circular=q,exports.fromExtent=x,exports.fromCircle=j,exports.makeRegular=m,exports.default=void 0;var t=require("../array.js"),e=require("../extent.js"),i=C(require("./GeometryLayout.js")),r=C(require("./GeometryType.js")),n=C(require("./LinearRing.js")),s=C(require("./Point.js")),o=C(require("./SimpleGeometry.js")),a=require("../sphere.js"),l=require("./flat/area.js"),d=require("./flat/closest.js"),h=require("./flat/contains.js"),u=require("./flat/deflate.js"),f=require("./flat/inflate.js"),g=require("./flat/interiorpoint.js"),p=require("./flat/intersectsextent.js"),c=require("./flat/orient.js"),_=require("./flat/simplify.js"),y=require("../math.js");function C(t){return t&&t.__esModule?t:{default:t}}var v=function(o){function a(t,e,i){o.call(this),this.ends_=[],this.flatInteriorPointRevision_=-1,this.flatInteriorPoint_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,void 0!==e&&i?(this.setFlatCoordinates(e,t),this.ends_=i):this.setCoordinates(t,e)}return o&&(a.__proto__=o),a.prototype=Object.create(o&&o.prototype),a.prototype.constructor=a,a.prototype.appendLinearRing=function(e){this.flatCoordinates?(0,t.extend)(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},a.prototype.clone=function(){return new a(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},a.prototype.closestPointXY=function(t,i,r,n){return n<(0,e.closestSquaredDistanceXY)(this.getExtent(),t,i)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,d.arrayMaxSquaredDelta)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,d.assignClosestArrayPoint)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,t,i,r,n))},a.prototype.containsXY=function(t,e){return(0,h.linearRingsContainsXY)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,e)},a.prototype.getArea=function(){return(0,l.linearRings)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},a.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),(0,c.orientLinearRings)(e,0,this.ends_,this.stride,t)):e=this.flatCoordinates,(0,f.inflateCoordinatesArray)(e,0,this.ends_,this.stride)},a.prototype.getEnds=function(){return this.ends_},a.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var t=(0,e.getCenter)(this.getExtent());this.flatInteriorPoint_=(0,g.getInteriorPointOfArray)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},a.prototype.getInteriorPoint=function(){return new s.default(this.getFlatInteriorPoint(),i.default.XYM)},a.prototype.getLinearRingCount=function(){return this.ends_.length},a.prototype.getLinearRing=function(t){return t<0||this.ends_.length<=t?null:new n.default(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},a.prototype.getLinearRings=function(){for(var t=this.layout,e=this.flatCoordinates,i=this.ends_,r=[],s=0,o=0,a=i.length;o<a;++o){var l=i[o],d=new n.default(e.slice(s,l),t);r.push(d),s=l}return r},a.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;(0,c.linearRingIsOriented)(t,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=(0,c.orientLinearRings)(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},a.prototype.getSimplifiedGeometryInternal=function(t){var e=[],r=[];return e.length=(0,_.quantizeArray)(this.flatCoordinates,0,this.ends_,this.stride,Math.sqrt(t),e,0,r),new a(e,i.default.XY,r)},a.prototype.getType=function(){return r.default.POLYGON},a.prototype.intersectsExtent=function(t){return(0,p.intersectsLinearRingArray)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,t)},a.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=(0,u.deflateCoordinatesArray)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===i.length?0:i[i.length-1],this.changed()},a}(o.default),R=v;function q(e,r,n,s){for(var o=n||32,l=[],d=0;d<o;++d)(0,t.extend)(l,(0,a.offset)(e,r,2*Math.PI*d/o,s));return l.push(l[0],l[1]),new v(l,i.default.XY,[l.length])}function x(t){var e=t[0],r=t[1],n=t[2],s=t[3],o=[e,r,e,s,n,s,n,r,e,r];return new v(o,i.default.XY,[o.length])}function j(t,e,i){for(var r=e||32,n=t.getStride(),s=t.getLayout(),o=t.getCenter(),a=n*(r+1),l=new Array(a),d=0;d<a;d+=n){l[d]=0,l[d+1]=0;for(var h=2;h<n;h++)l[d+h]=o[h]}var u=[l.length],f=new v(l,s,u);return m(f,o,t.getRadius(),i),f}function m(t,e,i,r){for(var n=t.getFlatCoordinates(),s=t.getStride(),o=n.length/s-1,a=r||0,l=0;l<=o;++l){var d=l*s,h=a+2*(0,y.modulo)(l,o)*Math.PI/o;n[d]=e[0]+i*Math.cos(h),n[d+1]=e[1]+i*Math.sin(h)}t.changed()}exports.default=R;
},{"../array.js":"luEr","../extent.js":"QDir","./GeometryLayout.js":"1Utv","./GeometryType.js":"lmV0","./LinearRing.js":"jRgU","./Point.js":"gLcY","./SimpleGeometry.js":"pnrv","../sphere.js":"q4ER","./flat/area.js":"EOSm","./flat/closest.js":"rMra","./flat/contains.js":"dzdN","./flat/deflate.js":"1FNh","./flat/inflate.js":"znXl","./flat/interiorpoint.js":"UDvN","./flat/intersectsextent.js":"GZir","./flat/orient.js":"2/8c","./flat/simplify.js":"IEpt","../math.js":"B96G"}],"SCyv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getContext=u,exports.EXTENSIONS=exports.MAX_TEXTURE_SIZE=exports.HAS=exports.DEBUG=exports.FRAMEBUFFER=exports.COMPILE_STATUS=exports.CLAMP_TO_EDGE=exports.TEXTURE0=exports.TEXTURE_2D=exports.TEXTURE_WRAP_T=exports.TEXTURE_WRAP_S=exports.TEXTURE_MIN_FILTER=exports.TEXTURE_MAG_FILTER=exports.LINEAR=exports.LINK_STATUS=exports.VERTEX_SHADER=exports.FRAGMENT_SHADER=exports.RGBA=exports.FLOAT=exports.UNSIGNED_INT=exports.UNSIGNED_SHORT=exports.UNSIGNED_BYTE=exports.SCISSOR_TEST=exports.DEPTH_TEST=exports.STENCIL_TEST=exports.BLEND=exports.CULL_FACE=exports.DYNAMIC_DRAW=exports.STATIC_DRAW=exports.STREAM_DRAW=exports.ELEMENT_ARRAY_BUFFER=exports.ARRAY_BUFFER=exports.ONE_MINUS_SRC_ALPHA=exports.TRIANGLE_STRIP=exports.TRIANGLES=exports.COLOR_BUFFER_BIT=exports.COLOR_ATTACHMENT0=exports.SRC_ALPHA=exports.ONE=void 0;var r=1;exports.ONE=r;var e=770;exports.SRC_ALPHA=e;var E=36064;exports.COLOR_ATTACHMENT0=E;var t=16384;exports.COLOR_BUFFER_BIT=t;var T=4;exports.TRIANGLES=T;var o=5;exports.TRIANGLE_STRIP=o;var s=771;exports.ONE_MINUS_SRC_ALPHA=s;var p=34962;exports.ARRAY_BUFFER=p;var x=34963;exports.ELEMENT_ARRAY_BUFFER=x;var _=35040;exports.STREAM_DRAW=_;var R=35044;exports.STATIC_DRAW=R;var A=35048;exports.DYNAMIC_DRAW=A;var S=2884;exports.CULL_FACE=S;var a=3042;exports.BLEND=a;var N=2960;exports.STENCIL_TEST=N;var I=2929;exports.DEPTH_TEST=I;var v=3089;exports.SCISSOR_TEST=v;var U=5121;exports.UNSIGNED_BYTE=U;var L=5123;exports.UNSIGNED_SHORT=L;var C=5125;exports.UNSIGNED_INT=C;var D=5126;exports.FLOAT=D;var F=6408;exports.RGBA=F;var M=35632;exports.FRAGMENT_SHADER=M;var O=35633;exports.VERTEX_SHADER=O;var X=35714;exports.LINK_STATUS=X;var n=9729;exports.LINEAR=n;var G=10240;exports.TEXTURE_MAG_FILTER=G;var P=10241;exports.TEXTURE_MIN_FILTER=P;var B=10242;exports.TEXTURE_WRAP_S=B;var H=10243;exports.TEXTURE_WRAP_T=H;var i=3553;exports.TEXTURE_2D=i;var c=33984;exports.TEXTURE0=c;var d=33071;exports.CLAMP_TO_EDGE=d;var l=35713;exports.COMPILE_STATUS=l;var W=36160;exports.FRAMEBUFFER=W;var f=["experimental-webgl","webgl","webkit-3d","moz-webgl"];function u(r,e){for(var E=f.length,t=0;t<E;++t)try{var T=r.getContext(f[t],e);if(T)return T}catch(o){}return null}var g,w,Y=!0;exports.DEBUG=Y,exports.MAX_TEXTURE_SIZE=g,exports.EXTENSIONS=w;var b=!1;if(exports.HAS=b,"undefined"!=typeof window&&"WebGLRenderingContext"in window)try{var m=document.createElement("canvas"),y=u(m,{failIfMajorPerformanceCaveat:!0});y&&(exports.HAS=b=!0,exports.MAX_TEXTURE_SIZE=g=y.getParameter(y.MAX_TEXTURE_SIZE),exports.EXTENSIONS=w=y.getSupportedExtensions())}catch(Z){}
},{}],"f3Nv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"WEBGL",{enumerable:!0,get:function(){return e.HAS}}),exports.MSPOINTER=exports.POINTER=exports.TOUCH=exports.GEOLOCATION=exports.CANVAS_LINE_DASH=exports.DEVICE_PIXEL_RATIO=exports.MAC=exports.WEBKIT=exports.SAFARI=exports.FIREFOX=void 0;var e=require("./webgl.js"),r="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",t=-1!==r.indexOf("firefox");exports.FIREFOX=t;var o=-1!==r.indexOf("safari")&&-1==r.indexOf("chrom");exports.SAFARI=o;var n=-1!==r.indexOf("webkit")&&-1==r.indexOf("edge");exports.WEBKIT=n;var i=-1!==r.indexOf("macintosh");exports.MAC=i;var s=window.devicePixelRatio||1;exports.DEVICE_PIXEL_RATIO=s;var a=function(){var e=!1;try{e=!!document.createElement("canvas").getContext("2d").setLineDash}catch(r){}return e}();exports.CANVAS_LINE_DASH=a;var x="geolocation"in navigator;exports.GEOLOCATION=x;var p="ontouchstart"in window;exports.TOUCH=p;var O="PointerEvent"in window;exports.POINTER=O;var E=!!navigator.msPointerEnabled;exports.MSPOINTER=E;
},{"./webgl.js":"SCyv"}],"X4ix":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=p(require("./Object.js")),e=require("./events.js"),i=a(require("./events/Event.js")),o=a(require("./events/EventType.js")),r=require("./geom/Polygon.js"),n=require("./has.js"),s=require("./math.js"),c=require("./proj.js");function a(t){return t&&t.__esModule?t:{default:t}}function p(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};o.get||o.set?Object.defineProperty(e,i,o):e[i]=t[i]}return e.default=t,e}var h={ACCURACY:"accuracy",ACCURACY_GEOMETRY:"accuracyGeometry",ALTITUDE:"altitude",ALTITUDE_ACCURACY:"altitudeAccuracy",HEADING:"heading",POSITION:"position",PROJECTION:"projection",SPEED:"speed",TRACKING:"tracking",TRACKING_OPTIONS:"trackingOptions"},u=function(t){function e(e){t.call(this,o.default.ERROR),this.code=e.code,this.message=e.message}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(i.default),g=function(i){function o(o){i.call(this);var r=o||{};this.position_=null,this.transform_=c.identityTransform,this.watchId_=void 0,(0,e.listen)(this,(0,t.getChangeEventType)(h.PROJECTION),this.handleProjectionChanged_,this),(0,e.listen)(this,(0,t.getChangeEventType)(h.TRACKING),this.handleTrackingChanged_,this),void 0!==r.projection&&this.setProjection(r.projection),void 0!==r.trackingOptions&&this.setTrackingOptions(r.trackingOptions),this.setTracking(void 0!==r.tracking&&r.tracking)}return i&&(o.__proto__=i),o.prototype=Object.create(i&&i.prototype),o.prototype.constructor=o,o.prototype.disposeInternal=function(){this.setTracking(!1),i.prototype.disposeInternal.call(this)},o.prototype.handleProjectionChanged_=function(){var t=this.getProjection();t&&(this.transform_=(0,c.getTransformFromProjections)((0,c.get)("EPSG:4326"),t),this.position_&&this.set(h.POSITION,this.transform_(this.position_)))},o.prototype.handleTrackingChanged_=function(){if(n.GEOLOCATION){var t=this.getTracking();t&&void 0===this.watchId_?this.watchId_=navigator.geolocation.watchPosition(this.positionChange_.bind(this),this.positionError_.bind(this),this.getTrackingOptions()):t||void 0===this.watchId_||(navigator.geolocation.clearWatch(this.watchId_),this.watchId_=void 0)}},o.prototype.positionChange_=function(t){var e=t.coords;this.set(h.ACCURACY,e.accuracy),this.set(h.ALTITUDE,null===e.altitude?void 0:e.altitude),this.set(h.ALTITUDE_ACCURACY,null===e.altitudeAccuracy?void 0:e.altitudeAccuracy),this.set(h.HEADING,null===e.heading?void 0:(0,s.toRadians)(e.heading)),this.position_?(this.position_[0]=e.longitude,this.position_[1]=e.latitude):this.position_=[e.longitude,e.latitude];var i=this.transform_(this.position_);this.set(h.POSITION,i),this.set(h.SPEED,null===e.speed?void 0:e.speed);var o=(0,r.circular)(this.position_,e.accuracy);o.applyTransform(this.transform_),this.set(h.ACCURACY_GEOMETRY,o),this.changed()},o.prototype.positionError_=function(t){this.setTracking(!1),this.dispatchEvent(new u(t))},o.prototype.getAccuracy=function(){return this.get(h.ACCURACY)},o.prototype.getAccuracyGeometry=function(){return this.get(h.ACCURACY_GEOMETRY)||null},o.prototype.getAltitude=function(){return this.get(h.ALTITUDE)},o.prototype.getAltitudeAccuracy=function(){return this.get(h.ALTITUDE_ACCURACY)},o.prototype.getHeading=function(){return this.get(h.HEADING)},o.prototype.getPosition=function(){return this.get(h.POSITION)},o.prototype.getProjection=function(){return this.get(h.PROJECTION)},o.prototype.getSpeed=function(){return this.get(h.SPEED)},o.prototype.getTracking=function(){return this.get(h.TRACKING)},o.prototype.getTrackingOptions=function(){return this.get(h.TRACKING_OPTIONS)},o.prototype.setProjection=function(t){this.set(h.PROJECTION,(0,c.get)(t))},o.prototype.setTracking=function(t){this.set(h.TRACKING,t)},o.prototype.setTrackingOptions=function(t){this.set(h.TRACKING_OPTIONS,t)},o}(t.default),d=g;exports.default=d;
},{"./Object.js":"PhPh","./events.js":"55Uq","./events/Event.js":"fKNg","./events/EventType.js":"C8cu","./geom/Polygon.js":"6Nww","./has.js":"f3Nv","./math.js":"B96G","./proj.js":"Diht"}],"AiCK":[function(require,module,exports) {
"use strict";function e(e,r,t){var n=void 0!==t?e.toFixed(t):""+e,i=n.indexOf(".");return(i=-1===i?n.length:i)>r?n:new Array(1+r-i).join("0")+n}function r(e,r){for(var t=(""+e).split("."),n=(""+r).split("."),i=0;i<Math.max(t.length,n.length);i++){var o=parseInt(t[i]||"0",10),s=parseInt(n[i]||"0",10);if(o>s)return 1;if(s>o)return-1}return 0}Object.defineProperty(exports,"__esModule",{value:!0}),exports.padNumber=e,exports.compareVersions=r;
},{}],"nGsj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.add=e,exports.closestOnCircle=n,exports.closestOnSegment=o,exports.createStringXY=u,exports.degreesToStringHDMS=s,exports.format=a,exports.equals=i,exports.rotate=c,exports.scale=f,exports.squaredDistance=p,exports.distance=x,exports.squaredDistanceToSegment=d,exports.toStringHDMS=l,exports.toStringXY=h;var t=require("./math.js"),r=require("./string.js");function e(t,r){return t[0]+=r[0],t[1]+=r[1],t}function n(t,r){var e=r.getRadius(),n=r.getCenter(),o=n[0],u=n[1],s=t[0]-o,a=t[1]-u;0===s&&0===a&&(s=1);var i=Math.sqrt(s*s+a*a);return[o+e*s/i,u+e*a/i]}function o(t,r){var e,n,o=t[0],u=t[1],s=r[0],a=r[1],i=s[0],c=s[1],f=a[0],p=a[1],x=f-i,d=p-c,l=0===x&&0===d?0:(x*(o-i)+d*(u-c))/(x*x+d*d||0);return l<=0?(e=i,n=c):l>=1?(e=f,n=p):(e=i+l*x,n=c+l*d),[e,n]}function u(t){return function(r){return h(r,t)}}function s(e,n,o){var u=(0,t.modulo)(n+180,360)-180,s=Math.abs(3600*u),a=o||0,i=Math.pow(10,a),c=Math.floor(s/3600),f=Math.floor((s-3600*c)/60),p=s-3600*c-60*f;return(p=Math.ceil(p*i)/i)>=60&&(p=0,f+=1),f>=60&&(f=0,c+=1),c+"° "+(0,r.padNumber)(f,2)+"′ "+(0,r.padNumber)(p,2,a)+"″"+(0==u?"":" "+e.charAt(u<0?1:0))}function a(t,r,e){return t?r.replace("{x}",t[0].toFixed(e)).replace("{y}",t[1].toFixed(e)):""}function i(t,r){for(var e=!0,n=t.length-1;n>=0;--n)if(t[n]!=r[n]){e=!1;break}return e}function c(t,r){var e=Math.cos(r),n=Math.sin(r),o=t[0]*e-t[1]*n,u=t[1]*e+t[0]*n;return t[0]=o,t[1]=u,t}function f(t,r){return t[0]*=r,t[1]*=r,t}function p(t,r){var e=t[0]-r[0],n=t[1]-r[1];return e*e+n*n}function x(t,r){return Math.sqrt(p(t,r))}function d(t,r){return p(t,o(t,r))}function l(t,r){return t?s("NS",t[1],r)+" "+s("EW",t[0],r):""}function h(t,r){return a(t,"{x}, {y}",r)}
},{"./math.js":"B96G","./string.js":"AiCK"}],"rDTq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.interpolatePoint=n,exports.lineStringCoordinateAtM=t,exports.lineStringsCoordinateAtM=i;var r=require("../../array.js"),e=require("../../math.js");function n(n,t,i,l,u,a){var f=NaN,s=NaN,o=(i-t)/l;if(1===o)f=n[t],s=n[t+1];else if(2==o)f=(1-u)*n[t]+u*n[t+l],s=(1-u)*n[t+1]+u*n[t+l+1];else if(0!==o){for(var v=n[t],c=n[t+1],p=0,h=[0],g=t+l;g<i;g+=l){var d=n[g],x=n[g+1];p+=Math.sqrt((d-v)*(d-v)+(x-c)*(x-c)),h.push(p),v=d,c=x}var M=u*p,N=(0,r.binarySearch)(h,M);if(N<0){var j=(M-h[-N-2])/(h[-N-1]-h[-N-2]),q=t+(-N-2)*l;f=(0,e.lerp)(n[q],n[q+l],j),s=(0,e.lerp)(n[q+1],n[q+l+1],j)}else f=n[t+N*l],s=n[t+N*l+1]}return a?(a[0]=f,a[1]=s,a):[f,s]}function t(r,n,t,i,l,u){if(t==n)return null;var a;if(l<r[n+i-1])return u?((a=r.slice(n,n+i))[i-1]=l,a):null;if(r[t-1]<l)return u?((a=r.slice(t-i,t))[i-1]=l,a):null;if(l==r[n+i-1])return r.slice(n,n+i);for(var f=n/i,s=t/i;f<s;){var o=f+s>>1;l<r[(o+1)*i-1]?s=o:f=o+1}var v=r[f*i-1];if(l==v)return r.slice((f-1)*i,(f-1)*i+i);var c=(l-v)/(r[(f+1)*i-1]-v);a=[];for(var p=0;p<i-1;++p)a.push((0,e.lerp)(r[(f-1)*i+p],r[f*i+p],c));return a.push(l),a}function i(r,e,n,i,l,u,a){if(a)return t(r,e,n[n.length-1],i,l,u);var f;if(l<r[i-1])return u?((f=r.slice(0,i))[i-1]=l,f):null;if(r[r.length-1]<l)return u?((f=r.slice(r.length-i))[i-1]=l,f):null;for(var s=0,o=n.length;s<o;++s){var v=n[s];if(e!=v){if(l<r[e+i-1])return null;if(l<=r[v-1])return t(r,e,v,i,l,!1);e=v}}return null}
},{"../../array.js":"luEr","../../math.js":"B96G"}],"ZZrx":[function(require,module,exports) {
"use strict";function r(r,t,e,n){for(var i=r[t],o=r[t+1],s=0,a=t+n;a<e;a+=n){var u=r[a],c=r[a+1];s+=Math.sqrt((u-i)*(u-i)+(c-o)*(c-o)),i=u,o=c}return s}function t(t,e,n,i){var o=r(t,e,n,i),s=t[n-i]-t[e],a=t[n-i+1]-t[e+1];return o+=Math.sqrt(s*s+a*a)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.lineStringLength=r,exports.linearRingLength=t;
},{}],"DfxW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../array.js"),e=require("../extent.js"),i=p(require("./GeometryLayout.js")),o=p(require("./GeometryType.js")),s=p(require("./SimpleGeometry.js")),r=require("./flat/closest.js"),n=require("./flat/deflate.js"),a=require("./flat/inflate.js"),l=require("./flat/interpolate.js"),h=require("./flat/intersectsextent.js"),d=require("./flat/length.js"),f=require("./flat/segments.js"),u=require("./flat/simplify.js");function p(t){return t&&t.__esModule?t:{default:t}}var c=function(s){function p(t,e){s.call(this),this.flatMidpoint_=null,this.flatMidpointRevision_=-1,this.maxDelta_=-1,this.maxDeltaRevision_=-1,void 0===e||Array.isArray(t[0])?this.setCoordinates(t,e):this.setFlatCoordinates(e,t)}return s&&(p.__proto__=s),p.prototype=Object.create(s&&s.prototype),p.prototype.constructor=p,p.prototype.appendCoordinate=function(e){this.flatCoordinates?(0,t.extend)(this.flatCoordinates,e):this.flatCoordinates=e.slice(),this.changed()},p.prototype.clone=function(){return new p(this.flatCoordinates.slice(),this.layout)},p.prototype.closestPointXY=function(t,i,o,s){return s<(0,e.closestSquaredDistanceXY)(this.getExtent(),t,i)?s:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,r.maxSquaredDelta)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,r.assignClosestPoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,t,i,o,s))},p.prototype.forEachSegment=function(t){return(0,f.forEach)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},p.prototype.getCoordinateAtM=function(t,e){if(this.layout!=i.default.XYM&&this.layout!=i.default.XYZM)return null;var o=void 0!==e&&e;return(0,l.lineStringCoordinateAtM)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,o)},p.prototype.getCoordinates=function(){return(0,a.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},p.prototype.getCoordinateAt=function(t,e){return(0,l.interpolatePoint)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e)},p.prototype.getLength=function(){return(0,d.lineStringLength)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},p.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},p.prototype.getSimplifiedGeometryInternal=function(t){var e=[];return e.length=(0,u.douglasPeucker)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t,e,0),new p(e,i.default.XY)},p.prototype.getType=function(){return o.default.LINE_STRING},p.prototype.intersectsExtent=function(t){return(0,h.intersectsLineString)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,t)},p.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,n.deflateCoordinates)(this.flatCoordinates,0,t,this.stride),this.changed()},p}(s.default),C=c;exports.default=C;
},{"../array.js":"luEr","../extent.js":"QDir","./GeometryLayout.js":"1Utv","./GeometryType.js":"lmV0","./SimpleGeometry.js":"pnrv","./flat/closest.js":"rMra","./flat/deflate.js":"1FNh","./flat/inflate.js":"znXl","./flat/interpolate.js":"rDTq","./flat/intersectsextent.js":"GZir","./flat/length.js":"ZZrx","./flat/segments.js":"2U8i","./flat/simplify.js":"IEpt"}],"w0c6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.greatCircleArc=n,exports.meridian=e,exports.parallel=o;var t=require("../../math.js"),a=require("../../proj.js");function r(a,r,n){for(var e,o,s,i,u,p,h=[],c=a(0),M=a(1),f=r(c),g=r(M),d=[M,c],l=[g,f],v=[1,0],R={},m=1e5;--m>0&&v.length>0;)s=v.pop(),c=d.pop(),f=l.pop(),(p=s.toString())in R||(h.push(f[0],f[1]),R[p]=!0),i=v.pop(),M=d.pop(),g=l.pop(),o=r(e=a(u=(s+i)/2)),(0,t.squaredSegmentDistance)(o[0],o[1],f[0],f[1],g[0],g[1])<n?(h.push(g[0],g[1]),R[p=i.toString()]=!0):(v.push(i,u,u,s),l.push(g,o,o,f),d.push(M,e,e,c));return h}function n(n,e,o,s,i,u){var p=(0,a.get)("EPSG:4326"),h=Math.cos((0,t.toRadians)(e)),c=Math.sin((0,t.toRadians)(e)),M=Math.cos((0,t.toRadians)(s)),f=Math.sin((0,t.toRadians)(s)),g=Math.cos((0,t.toRadians)(o-n)),d=Math.sin((0,t.toRadians)(o-n)),l=c*f+h*M*g;return r(function(a){if(1<=l)return[o,s];var r=a*Math.acos(l),e=Math.cos(r),i=Math.sin(r),u=d*M,p=h*f-c*M*g,v=Math.atan2(u,p),R=Math.asin(c*e+h*i*Math.cos(v)),m=(0,t.toRadians)(n)+Math.atan2(Math.sin(v)*i*h,e-c*Math.sin(R));return[(0,t.toDegrees)(m),(0,t.toDegrees)(R)]},(0,a.getTransform)(p,i),u)}function e(t,n,e,o,s){var i=(0,a.get)("EPSG:4326");return r(function(a){return[t,n+(e-n)*a]},(0,a.getTransform)(i,o),s)}function o(t,n,e,o,s){var i=(0,a.get)("EPSG:4326");return r(function(a){return[n+(e-n)*a,t]},(0,a.getTransform)(i,o),s)}
},{"../../math.js":"B96G","../../proj.js":"Diht"}],"z39m":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={POSTCOMPOSE:"postcompose",PRECOMPOSE:"precompose",RENDER:"render",RENDERCOMPLETE:"rendercomplete"};exports.default=e;
},{}],"eucy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.asString=a,exports.asArray=i,exports.normalize=p,exports.toString=c,exports.fromString=void 0;var r=require("./asserts.js"),e=require("./math.js"),t=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,n=/^([a-z]*)$/i;function a(r){return"string"==typeof r?r:c(r)}function s(r){var e=document.createElement("div");if(e.style.color=r,""!==e.style.color){document.body.appendChild(e);var t=getComputedStyle(e).color;return document.body.removeChild(e),t}return""}var o=function(){var r={},e=0;return function(t){var n;if(r.hasOwnProperty(t))n=r[t];else{if(e>=1024){var a=0;for(var s in r)0==(3&a++)&&(delete r[s],--e)}n=u(t),r[t]=n,++e}return n}}();function i(r){return Array.isArray(r)?r:o(r)}function u(e){var a,o,i,u,c;if(n.exec(e)&&(e=s(e)),t.exec(e)){var l,f=e.length-1;l=f<=4?1:2;var v=4===f||8===f;a=parseInt(e.substr(1+0*l,l),16),o=parseInt(e.substr(1+1*l,l),16),i=parseInt(e.substr(1+2*l,l),16),u=v?parseInt(e.substr(1+3*l,l),16):255,1==l&&(a=(a<<4)+a,o=(o<<4)+o,i=(i<<4)+i,v&&(u=(u<<4)+u)),c=[a,o,i,u/255]}else 0==e.indexOf("rgba(")?p(c=e.slice(5,-1).split(",").map(Number)):0==e.indexOf("rgb(")?((c=e.slice(4,-1).split(",").map(Number)).push(1),p(c)):(0,r.assert)(!1,14);return c}function p(r){return r[0]=(0,e.clamp)(r[0]+.5|0,0,255),r[1]=(0,e.clamp)(r[1]+.5|0,0,255),r[2]=(0,e.clamp)(r[2]+.5|0,0,255),r[3]=(0,e.clamp)(r[3],0,1),r}function c(r){var e=r[0];e!=(0|e)&&(e=e+.5|0);var t=r[1];t!=(0|t)&&(t=t+.5|0);var n=r[2];return n!=(0|n)&&(n=n+.5|0),"rgba("+e+","+t+","+n+","+(void 0===r[3]?1:r[3])+")"}exports.fromString=o;
},{"./asserts.js":"fLG6","./math.js":"B96G"}],"AFcg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o=require("../util.js"),r=require("../color.js"),t=function(o){var r=o||{};this.color_=void 0!==r.color?r.color:null,this.checksum_=void 0};t.prototype.clone=function(){var o=this.getColor();return new t({color:Array.isArray(o)?o.slice():o||void 0})},t.prototype.getColor=function(){return this.color_},t.prototype.setColor=function(o){this.color_=o,this.checksum_=void 0},t.prototype.getChecksum=function(){if(void 0===this.checksum_){var t=this.color_;t?Array.isArray(t)||"string"==typeof t?this.checksum_="f"+(0,r.asString)(t):this.checksum_=(0,o.getUid)(this.color_):this.checksum_="f-"}return this.checksum_};var e=t;exports.default=e;
},{"../util.js":"KniQ","../color.js":"eucy"}],"TXDt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../util.js"),i=function(t){var i=t||{};this.color_=void 0!==i.color?i.color:null,this.lineCap_=i.lineCap,this.lineDash_=void 0!==i.lineDash?i.lineDash:null,this.lineDashOffset_=i.lineDashOffset,this.lineJoin_=i.lineJoin,this.miterLimit_=i.miterLimit,this.width_=i.width,this.checksum_=void 0};i.prototype.clone=function(){var t=this.getColor();return new i({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},i.prototype.getColor=function(){return this.color_},i.prototype.getLineCap=function(){return this.lineCap_},i.prototype.getLineDash=function(){return this.lineDash_},i.prototype.getLineDashOffset=function(){return this.lineDashOffset_},i.prototype.getLineJoin=function(){return this.lineJoin_},i.prototype.getMiterLimit=function(){return this.miterLimit_},i.prototype.getWidth=function(){return this.width_},i.prototype.setColor=function(t){this.color_=t,this.checksum_=void 0},i.prototype.setLineCap=function(t){this.lineCap_=t,this.checksum_=void 0},i.prototype.setLineDash=function(t){this.lineDash_=t,this.checksum_=void 0},i.prototype.setLineDashOffset=function(t){this.lineDashOffset_=t,this.checksum_=void 0},i.prototype.setLineJoin=function(t){this.lineJoin_=t,this.checksum_=void 0},i.prototype.setMiterLimit=function(t){this.miterLimit_=t,this.checksum_=void 0},i.prototype.setWidth=function(t){this.width_=t,this.checksum_=void 0},i.prototype.getChecksum=function(){return void 0===this.checksum_&&(this.checksum_="s",this.color_?"string"==typeof this.color_?this.checksum_+=this.color_:this.checksum_+=(0,t.getUid)(this.color_):this.checksum_+="-",this.checksum_+=","+(void 0!==this.lineCap_?this.lineCap_.toString():"-")+","+(this.lineDash_?this.lineDash_.toString():"-")+","+(void 0!==this.lineDashOffset_?this.lineDashOffset_:"-")+","+(void 0!==this.lineJoin_?this.lineJoin_:"-")+","+(void 0!==this.miterLimit_?this.miterLimit_.toString():"-")+","+(void 0!==this.width_?this.width_.toString():"-")),this.checksum_};var e=i;exports.default=e;
},{"../util.js":"KniQ"}],"AXKs":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={POINT:"point",LINE:"line"};exports.default=e;
},{}],"RPsG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("./Fill.js")),e=o(require("./TextPlacement.js"));function o(t){return t&&t.__esModule?t:{default:t}}var i="#333",n=function(o){var n=o||{};this.font_=n.font,this.rotation_=n.rotation,this.rotateWithView_=n.rotateWithView,this.scale_=n.scale,this.text_=n.text,this.textAlign_=n.textAlign,this.textBaseline_=n.textBaseline,this.fill_=void 0!==n.fill?n.fill:new t.default({color:i}),this.maxAngle_=void 0!==n.maxAngle?n.maxAngle:Math.PI/4,this.placement_=void 0!==n.placement?n.placement:e.default.POINT,this.overflow_=!!n.overflow,this.stroke_=void 0!==n.stroke?n.stroke:null,this.offsetX_=void 0!==n.offsetX?n.offsetX:0,this.offsetY_=void 0!==n.offsetY?n.offsetY:0,this.backgroundFill_=n.backgroundFill?n.backgroundFill:null,this.backgroundStroke_=n.backgroundStroke?n.backgroundStroke:null,this.padding_=void 0===n.padding?null:n.padding};n.prototype.clone=function(){return new n({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:this.getScale(),text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0})},n.prototype.getOverflow=function(){return this.overflow_},n.prototype.getFont=function(){return this.font_},n.prototype.getMaxAngle=function(){return this.maxAngle_},n.prototype.getPlacement=function(){return this.placement_},n.prototype.getOffsetX=function(){return this.offsetX_},n.prototype.getOffsetY=function(){return this.offsetY_},n.prototype.getFill=function(){return this.fill_},n.prototype.getRotateWithView=function(){return this.rotateWithView_},n.prototype.getRotation=function(){return this.rotation_},n.prototype.getScale=function(){return this.scale_},n.prototype.getStroke=function(){return this.stroke_},n.prototype.getText=function(){return this.text_},n.prototype.getTextAlign=function(){return this.textAlign_},n.prototype.getTextBaseline=function(){return this.textBaseline_},n.prototype.getBackgroundFill=function(){return this.backgroundFill_},n.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},n.prototype.getPadding=function(){return this.padding_},n.prototype.setOverflow=function(t){this.overflow_=t},n.prototype.setFont=function(t){this.font_=t},n.prototype.setMaxAngle=function(t){this.maxAngle_=t},n.prototype.setOffsetX=function(t){this.offsetX_=t},n.prototype.setOffsetY=function(t){this.offsetY_=t},n.prototype.setPlacement=function(t){this.placement_=t},n.prototype.setFill=function(t){this.fill_=t},n.prototype.setRotation=function(t){this.rotation_=t},n.prototype.setScale=function(t){this.scale_=t},n.prototype.setStroke=function(t){this.stroke_=t},n.prototype.setText=function(t){this.text_=t},n.prototype.setTextAlign=function(t){this.textAlign_=t},n.prototype.setTextBaseline=function(t){this.textBaseline_=t},n.prototype.setBackgroundFill=function(t){this.backgroundFill_=t},n.prototype.setBackgroundStroke=function(t){this.backgroundStroke_=t},n.prototype.setPadding=function(t){this.padding_=t};var r=n;exports.default=r;
},{"./Fill.js":"AFcg","./TextPlacement.js":"AXKs"}],"/QUi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("./coordinate.js"),e=require("./events.js"),i=require("./extent.js"),a=d(require("./geom/GeometryLayout.js")),s=d(require("./geom/LineString.js")),l=d(require("./geom/Point.js")),r=require("./geom/flat/geodesic.js"),n=require("./math.js"),o=require("./proj.js"),h=d(require("./render/EventType.js")),_=d(require("./style/Fill.js")),m=d(require("./style/Stroke.js")),L=d(require("./style/Text.js"));function d(t){return t&&t.__esModule?t:{default:t}}var p=new m.default({color:"rgba(0,0,0,0.2)"}),u=[90,45,30,20,10,5,2,1,.5,.2,.1,.05,.01,.005,.002,.001],f=function(e){var i=e||{};this.map_=null,this.postcomposeListenerKey_=null,this.projection_=null,this.maxLat_=1/0,this.maxLon_=1/0,this.minLat_=-1/0,this.minLon_=-1/0,this.maxLatP_=1/0,this.maxLonP_=1/0,this.minLatP_=-1/0,this.minLonP_=-1/0,this.targetSize_=void 0!==i.targetSize?i.targetSize:100,this.maxLines_=void 0!==i.maxLines?i.maxLines:100,this.meridians_=[],this.parallels_=[],this.strokeStyle_=void 0!==i.strokeStyle?i.strokeStyle:p,this.fromLonLatTransform_=void 0,this.toLonLatTransform_=void 0,this.projectionCenterLonLat_=null,this.meridiansLabels_=null,this.parallelsLabels_=null,1==i.showLabels&&(this.lonLabelFormatter_=null==i.lonLabelFormatter?t.degreesToStringHDMS.bind(this,"EW"):i.lonLabelFormatter,this.latLabelFormatter_=null==i.latLabelFormatter?t.degreesToStringHDMS.bind(this,"NS"):i.latLabelFormatter,this.lonLabelPosition_=null==i.lonLabelPosition?0:i.lonLabelPosition,this.latLabelPosition_=null==i.latLabelPosition?1:i.latLabelPosition,this.lonLabelStyle_=void 0!==i.lonLabelStyle?i.lonLabelStyle:new L.default({font:"12px Calibri,sans-serif",textBaseline:"bottom",fill:new _.default({color:"rgba(0,0,0,1)"}),stroke:new m.default({color:"rgba(255,255,255,1)",width:3})}),this.latLabelStyle_=void 0!==i.latLabelStyle?i.latLabelStyle:new L.default({font:"12px Calibri,sans-serif",textAlign:"end",fill:new _.default({color:"rgba(0,0,0,1)"}),stroke:new m.default({color:"rgba(255,255,255,1)",width:3})}),this.meridiansLabels_=[],this.parallelsLabels_=[]),this.intervals_=void 0!==i.intervals?i.intervals:u,this.setMap(void 0!==i.map?i.map:null)};f.prototype.addMeridian_=function(t,e,a,s,l,r){var n=this.getMeridian_(t,e,a,s,r);if((0,i.intersects)(n.getExtent(),l)){if(this.meridiansLabels_){var o=this.getMeridianPoint_(n,l,r);this.meridiansLabels_[r]={geom:o,text:this.lonLabelFormatter_(t)}}this.meridians_[r++]=n}return r},f.prototype.getMeridianPoint_=function(t,e,i){var a,s=t.getFlatCoordinates(),r=Math.max(e[1],s[1]),o=Math.min(e[3],s[s.length-1]),h=(0,n.clamp)(e[1]+Math.abs(e[1]-e[3])*this.lonLabelPosition_,r,o),_=[s[0],h];return i in this.meridiansLabels_?(a=this.meridiansLabels_[i].geom).setCoordinates(_):a=new l.default(_),a},f.prototype.addParallel_=function(t,e,a,s,l,r){var n=this.getParallel_(t,e,a,s,r);if((0,i.intersects)(n.getExtent(),l)){if(this.parallelsLabels_){var o=this.getParallelPoint_(n,l,r);this.parallelsLabels_[r]={geom:o,text:this.latLabelFormatter_(t)}}this.parallels_[r++]=n}return r},f.prototype.getParallelPoint_=function(t,e,i){var a,s=t.getFlatCoordinates(),r=Math.max(e[0],s[0]),o=Math.min(e[2],s[s.length-2]),h=[(0,n.clamp)(e[0]+Math.abs(e[0]-e[2])*this.latLabelPosition_,r,o),s[1]];return i in this.parallelsLabels_?(a=this.parallelsLabels_[i].geom).setCoordinates(h):a=new l.default(h),a},f.prototype.createGraticule_=function(t,e,i,a){var s=this.getInterval_(i);if(-1==s)return this.meridians_.length=this.parallels_.length=0,this.meridiansLabels_&&(this.meridiansLabels_.length=0),void(this.parallelsLabels_&&(this.parallelsLabels_.length=0));var l,r,h,_,m=this.toLonLatTransform_(e),L=m[0],d=m[1],p=this.maxLines_,u=[Math.max(t[0],this.minLonP_),Math.max(t[1],this.minLatP_),Math.min(t[2],this.maxLonP_),Math.min(t[3],this.maxLatP_)],f=(u=(0,o.transformExtent)(u,this.projection_,"EPSG:4326"))[3],b=u[2],g=u[1],c=u[0];for(L=Math.floor(L/s)*s,_=(0,n.clamp)(L,this.minLon_,this.maxLon_),r=this.addMeridian_(_,g,f,a,t,0),l=0;_!=this.minLon_&&l++<p;)_=Math.max(_-s,this.minLon_),r=this.addMeridian_(_,g,f,a,t,r);for(_=(0,n.clamp)(L,this.minLon_,this.maxLon_),l=0;_!=this.maxLon_&&l++<p;)_=Math.min(_+s,this.maxLon_),r=this.addMeridian_(_,g,f,a,t,r);for(this.meridians_.length=r,this.meridiansLabels_&&(this.meridiansLabels_.length=r),d=Math.floor(d/s)*s,h=(0,n.clamp)(d,this.minLat_,this.maxLat_),r=this.addParallel_(h,c,b,a,t,0),l=0;h!=this.minLat_&&l++<p;)h=Math.max(h-s,this.minLat_),r=this.addParallel_(h,c,b,a,t,r);for(h=(0,n.clamp)(d,this.minLat_,this.maxLat_),l=0;h!=this.maxLat_&&l++<p;)h=Math.min(h+s,this.maxLat_),r=this.addParallel_(h,c,b,a,t,r);this.parallels_.length=r,this.parallelsLabels_&&(this.parallelsLabels_.length=r)},f.prototype.getInterval_=function(t){for(var e=this.projectionCenterLonLat_[0],i=this.projectionCenterLonLat_[1],a=-1,s=Math.pow(this.targetSize_*t,2),l=[],r=[],n=0,o=this.intervals_.length;n<o;++n){var h=this.intervals_[n]/2;if(l[0]=e-h,l[1]=i-h,r[0]=e+h,r[1]=i+h,this.fromLonLatTransform_(l,l),this.fromLonLatTransform_(r,r),Math.pow(r[0]-l[0],2)+Math.pow(r[1]-l[1],2)<=s)break;a=this.intervals_[n]}return a},f.prototype.getMap=function(){return this.map_},f.prototype.getMeridian_=function(t,e,i,l,n){var o=(0,r.meridian)(t,e,i,this.projection_,l),h=this.meridians_[n];return h?(h.setFlatCoordinates(a.default.XY,o),h.changed()):h=this.meridians_[n]=new s.default(o,a.default.XY),h},f.prototype.getMeridians=function(){return this.meridians_},f.prototype.getParallel_=function(t,e,i,l,n){var o=(0,r.parallel)(t,e,i,this.projection_,l),h=this.parallels_[n];return h?(h.setFlatCoordinates(a.default.XY,o),h.changed()):h=new s.default(o,a.default.XY),h},f.prototype.getParallels=function(){return this.parallels_},f.prototype.handlePostCompose_=function(t){var e,i,a,s,l=t.vectorContext,r=t.frameState,n=r.extent,h=r.viewState,_=h.center,m=h.projection,L=h.resolution,d=r.pixelRatio,p=L*L/(4*d*d);for((!this.projection_||!(0,o.equivalent)(this.projection_,m))&&this.updateProjectionInfo_(m),this.createGraticule_(n,_,L,p),l.setFillStrokeStyle(null,this.strokeStyle_),e=0,i=this.meridians_.length;e<i;++e)a=this.meridians_[e],l.drawGeometry(a);for(e=0,i=this.parallels_.length;e<i;++e)a=this.parallels_[e],l.drawGeometry(a);if(this.meridiansLabels_)for(e=0,i=this.meridiansLabels_.length;e<i;++e)s=this.meridiansLabels_[e],this.lonLabelStyle_.setText(s.text),l.setTextStyle(this.lonLabelStyle_),l.drawGeometry(s.geom);if(this.parallelsLabels_)for(e=0,i=this.parallelsLabels_.length;e<i;++e)s=this.parallelsLabels_[e],this.latLabelStyle_.setText(s.text),l.setTextStyle(this.latLabelStyle_),l.drawGeometry(s.geom)},f.prototype.updateProjectionInfo_=function(t){var e=(0,o.get)("EPSG:4326"),a=t.getWorldExtent(),s=(0,o.transformExtent)(a,e,t);this.maxLat_=a[3],this.maxLon_=a[2],this.minLat_=a[1],this.minLon_=a[0],this.maxLatP_=s[3],this.maxLonP_=s[2],this.minLatP_=s[1],this.minLonP_=s[0],this.fromLonLatTransform_=(0,o.getTransform)(e,t),this.toLonLatTransform_=(0,o.getTransform)(t,e),this.projectionCenterLonLat_=this.toLonLatTransform_((0,i.getCenter)(t.getExtent())),this.projection_=t},f.prototype.setMap=function(t){this.map_&&((0,e.unlistenByKey)(this.postcomposeListenerKey_),this.postcomposeListenerKey_=null,this.map_.render()),t&&(this.postcomposeListenerKey_=(0,e.listen)(t,h.default.POSTCOMPOSE,this.handlePostCompose_,this),t.render()),this.map_=t};var b=f;exports.default=b;
},{"./coordinate.js":"nGsj","./events.js":"55Uq","./extent.js":"QDir","./geom/GeometryLayout.js":"1Utv","./geom/LineString.js":"DfxW","./geom/Point.js":"gLcY","./geom/flat/geodesic.js":"w0c6","./math.js":"B96G","./proj.js":"Diht","./render/EventType.js":"z39m","./style/Fill.js":"AFcg","./style/Stroke.js":"TXDt","./style/Text.js":"RPsG"}],"Ojbp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("./util.js"),e=r(require("./events/Target.js")),o=r(require("./events/EventType.js"));function r(t){return t&&t.__esModule?t:{default:t}}var n=function(e){function r(t,o,r,n){e.call(this),this.extent=t,this.pixelRatio_=r,this.resolution=o,this.state=n}return e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r,r.prototype.changed=function(){this.dispatchEvent(o.default.CHANGE)},r.prototype.getExtent=function(){return this.extent},r.prototype.getImage=function(){return(0,t.abstract)()},r.prototype.getPixelRatio=function(){return this.pixelRatio_},r.prototype.getResolution=function(){return this.resolution},r.prototype.getState=function(){return this.state},r.prototype.load=function(){(0,t.abstract)()},r}(e.default),i=n;exports.default=i;
},{"./util.js":"KniQ","./events/Target.js":"8CR4","./events/EventType.js":"C8cu"}],"u3k+":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={IDLE:0,LOADING:1,LOADED:2,ERROR:3};exports.default=e;
},{}],"DHWK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=n(require("./ImageBase.js")),t=n(require("./ImageState.js")),i=require("./events.js"),s=n(require("./events/EventType.js")),a=require("./extent.js");function n(e){return e&&e.__esModule?e:{default:e}}var o=function(e){function n(i,s,a,n,o,r){e.call(this,i,s,a,t.default.IDLE),this.src_=n,this.image_=new Image,null!==o&&(this.image_.crossOrigin=o),this.imageListenerKeys_=null,this.state=t.default.IDLE,this.imageLoadFunction_=r}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.getImage=function(){return this.image_},n.prototype.handleImageError_=function(){this.state=t.default.ERROR,this.unlistenImage_(),this.changed()},n.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=(0,a.getHeight)(this.extent)/this.image_.height),this.state=t.default.LOADED,this.unlistenImage_(),this.changed()},n.prototype.load=function(){this.state!=t.default.IDLE&&this.state!=t.default.ERROR||(this.state=t.default.LOADING,this.changed(),this.imageListenerKeys_=[(0,i.listenOnce)(this.image_,s.default.ERROR,this.handleImageError_,this),(0,i.listenOnce)(this.image_,s.default.LOAD,this.handleImageLoad_,this)],this.imageLoadFunction_(this,this.src_))},n.prototype.setImage=function(e){this.image_=e},n.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(i.unlistenByKey),this.imageListenerKeys_=null},n}(e.default),r=o;exports.default=r;
},{"./ImageBase.js":"Ojbp","./ImageState.js":"u3k+","./events.js":"55Uq","./events/EventType.js":"C8cu","./extent.js":"QDir"}],"K7j2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("./ImageBase.js")),e=r(require("./ImageState.js"));function r(t){return t&&t.__esModule?t:{default:t}}var o=function(t){function r(r,o,a,s,i){var u=void 0!==i?e.default.IDLE:e.default.LOADED;t.call(this,r,o,a,u),this.loader_=void 0!==i?i:null,this.canvas_=s,this.error_=null}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.getError=function(){return this.error_},r.prototype.handleLoad_=function(t){t?(this.error_=t,this.state=e.default.ERROR):this.state=e.default.LOADED,this.changed()},r.prototype.load=function(){this.state==e.default.IDLE&&(this.state=e.default.LOADING,this.changed(),this.loader_(this.handleLoad_.bind(this)))},r.prototype.getImage=function(){return this.canvas_},r}(t.default),a=o;exports.default=a;
},{"./ImageBase.js":"Ojbp","./ImageState.js":"u3k+"}],"Xz9x":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4,ABORT:5};exports.default=e;
},{}],"IeCz":[function(require,module,exports) {
"use strict";function e(e){return Math.pow(e,3)}function t(t){return 1-e(1-t)}function n(e){return 3*e*e-2*e*e*e}function r(e){return e}function u(e){return e<.5?n(2*e):1-n(2*(e-.5))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.easeIn=e,exports.easeOut=t,exports.inAndOut=n,exports.linear=r,exports.upAndDown=u;
},{}],"IWZI":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=n(require("./TileState.js")),i=require("./easing.js"),e=n(require("./events/Target.js")),r=n(require("./events/EventType.js"));function n(t){return t&&t.__esModule?t:{default:t}}var o=function(e){function n(t,i,r){e.call(this);var n=r||{};this.tileCoord=t,this.state=i,this.interimTile=null,this.key="",this.transition_=void 0===n.transition?250:n.transition,this.transitionStarts_={}}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.changed=function(){this.dispatchEvent(r.default.CHANGE)},n.prototype.getKey=function(){return this.key+"/"+this.tileCoord},n.prototype.getInterimTile=function(){if(!this.interimTile)return this;var i=this.interimTile;do{if(i.getState()==t.default.LOADED)return i;i=i.interimTile}while(i);return this},n.prototype.refreshInterimChain=function(){if(this.interimTile){var i=this.interimTile,e=this;do{if(i.getState()==t.default.LOADED){i.interimTile=null;break}i.getState()==t.default.LOADING?e=i:i.getState()==t.default.IDLE?e.interimTile=i.interimTile:e=i,i=e.interimTile}while(i)}},n.prototype.getTileCoord=function(){return this.tileCoord},n.prototype.getState=function(){return this.state},n.prototype.setState=function(t){this.state=t,this.changed()},n.prototype.load=function(){},n.prototype.getAlpha=function(t,e){if(!this.transition_)return 1;var r=this.transitionStarts_[t];if(r){if(-1===r)return 1}else r=e,this.transitionStarts_[t]=r;var n=e-r+1e3/60;return n>=this.transition_?1:(0,i.easeIn)(n/this.transition_)},n.prototype.inTransition=function(t){return!!this.transition_&&-1!==this.transitionStarts_[t]},n.prototype.endTransition=function(t){this.transition_&&(this.transitionStarts_[t]=-1)},n}(e.default),s=o;exports.default=s;
},{"./TileState.js":"Xz9x","./easing.js":"IeCz","./events/Target.js":"8CR4","./events/EventType.js":"C8cu"}],"Xno5":[function(require,module,exports) {
"use strict";function e(e,t){var r=document.createElement("canvas");return e&&(r.width=e),t&&(r.height=t),r.getContext("2d")}function t(e){var t=e.offsetWidth,r=getComputedStyle(e);return t+=parseInt(r.marginLeft,10)+parseInt(r.marginRight,10)}function r(e){var t=e.offsetHeight,r=getComputedStyle(e);return t+=parseInt(r.marginTop,10)+parseInt(r.marginBottom,10)}function o(e,t){var r=t.parentNode;r&&r.replaceChild(e,t)}function n(e){return e&&e.parentNode?e.parentNode.removeChild(e):null}function a(e){for(;e.lastChild;)e.removeChild(e.lastChild)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createCanvasContext2D=e,exports.outerWidth=t,exports.outerHeight=r,exports.replaceNode=o,exports.removeNode=n,exports.removeChildren=a;
},{}],"T/Os":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=n(require("./Tile.js")),e=n(require("./TileState.js")),i=require("./dom.js"),s=require("./events.js"),a=n(require("./events/EventType.js"));function n(t){return t&&t.__esModule?t:{default:t}}var r=function(t){function i(e,i,s,a,n,r){t.call(this,e,i,r),this.crossOrigin_=a,this.src_=s,this.image_=new Image,null!==a&&(this.image_.crossOrigin=a),this.imageListenerKeys_=null,this.tileLoadFunction_=n}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.disposeInternal=function(){this.state==e.default.LOADING&&(this.unlistenImage_(),this.image_=o()),this.interimTile&&this.interimTile.dispose(),this.state=e.default.ABORT,this.changed(),t.prototype.disposeInternal.call(this)},i.prototype.getImage=function(){return this.image_},i.prototype.getKey=function(){return this.src_},i.prototype.handleImageError_=function(){this.state=e.default.ERROR,this.unlistenImage_(),this.image_=o(),this.changed()},i.prototype.handleImageLoad_=function(){var t=this.image_;t.naturalWidth&&t.naturalHeight?this.state=e.default.LOADED:this.state=e.default.EMPTY,this.unlistenImage_(),this.changed()},i.prototype.load=function(){this.state==e.default.ERROR&&(this.state=e.default.IDLE,this.image_=new Image,null!==this.crossOrigin_&&(this.image_.crossOrigin=this.crossOrigin_)),this.state==e.default.IDLE&&(this.state=e.default.LOADING,this.changed(),this.imageListenerKeys_=[(0,s.listenOnce)(this.image_,a.default.ERROR,this.handleImageError_,this),(0,s.listenOnce)(this.image_,a.default.LOAD,this.handleImageLoad_,this)],this.tileLoadFunction_(this,this.src_))},i.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(s.unlistenByKey),this.imageListenerKeys_=null},i}(t.default);function o(){var t=(0,i.createCanvasContext2D)(1,1);return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),t.canvas}var h=r;exports.default=h;
},{"./Tile.js":"IWZI","./TileState.js":"Xz9x","./dom.js":"Xno5","./events.js":"55Uq","./events/EventType.js":"C8cu"}],"77gA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(t,i,n){this.decay_=t,this.minVelocity_=i,this.delay_=n,this.points_=[],this.angle_=0,this.initialVelocity_=0};t.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},t.prototype.update=function(t,i){this.points_.push(t,i,Date.now())},t.prototype.end=function(){if(this.points_.length<6)return!1;var t=Date.now()-this.delay_,i=this.points_.length-3;if(this.points_[i+2]<t)return!1;for(var n=i-3;n>0&&this.points_[n+2]>t;)n-=3;var e=this.points_[i+2]-this.points_[n+2];if(e<1e3/60)return!1;var s=this.points_[i]-this.points_[n],o=this.points_[i+1]-this.points_[n+1];return this.angle_=Math.atan2(o,s),this.initialVelocity_=Math.sqrt(s*s+o*o)/e,this.initialVelocity_>this.minVelocity_},t.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},t.prototype.getAngle=function(){return this.angle_};var i=t;exports.default=i;
},{}],"vFcA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./events/Event.js"));function e(t){return t&&t.__esModule?t:{default:t}}var r=function(t){function e(e,r,o){t.call(this,e),this.map=r,this.frameState=void 0!==o?o:null}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t.default),o=r;exports.default=o;
},{"./events/Event.js":"fKNg"}],"HMLS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./MapEvent.js"));function e(t){return t&&t.__esModule?t:{default:t}}var o=function(t){function e(e,o,r,i,n){t.call(this,e,o,n),this.originalEvent=r,this.pixel=o.getEventPixel(r),this.coordinate=o.getCoordinateFromPixel(this.pixel),this.dragging=void 0!==i&&i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.preventDefault=function(){t.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},e.prototype.stopPropagation=function(){t.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},e}(t.default),r=o;exports.default=r;
},{"./MapEvent.js":"vFcA"}],"Yh/D":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./events/EventType.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r={SINGLECLICK:"singleclick",CLICK:e.default.CLICK,DBLCLICK:e.default.DBLCLICK,POINTERDRAG:"pointerdrag",POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};exports.default=r;
},{"./events/EventType.js":"C8cu"}],"J1WQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./MapBrowserEvent.js"));function e(t){return t&&t.__esModule?t:{default:t}}var r=function(t){function e(e,r,o,n,u){t.call(this,e,r,o.originalEvent,n,u),this.pointerEvent=o}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t.default),o=r;exports.default=o;
},{"./MapBrowserEvent.js":"HMLS"}],"TaSm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={POINTERMOVE:"pointermove",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",POINTEROVER:"pointerover",POINTEROUT:"pointerout",POINTERENTER:"pointerenter",POINTERLEAVE:"pointerleave",POINTERCANCEL:"pointercancel"};exports.default=e;
},{}],"R8kl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(t,e){this.dispatcher=t,this.mapping_=e};t.prototype.getEvents=function(){return Object.keys(this.mapping_)},t.prototype.getHandlerForEvent=function(t){return this.mapping_[t]};var e=t;exports.default=e;
},{}],"Plx9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.prepareEvent=h,exports.default=exports.POINTER_TYPE=exports.POINTER_ID=void 0;var t=e(require("./EventSource.js"));function e(t){return t&&t.__esModule?t:{default:t}}var i=1;exports.POINTER_ID=i;var r="mouse";exports.POINTER_TYPE=r;var o=25;function s(t){if(!this.isEventSimulatedFromTouch_(t)){i.toString()in this.pointerMap&&this.cancel(t);var e=h(t,this.dispatcher);this.pointerMap[i.toString()]=t,this.dispatcher.down(e,t)}}function n(t){if(!this.isEventSimulatedFromTouch_(t)){var e=h(t,this.dispatcher);this.dispatcher.move(e,t)}}function a(t){if(!this.isEventSimulatedFromTouch_(t)){var e=this.pointerMap[i.toString()];if(e&&e.button===t.button){var r=h(t,this.dispatcher);this.dispatcher.up(r,t),this.cleanupMouse()}}}function u(t){if(!this.isEventSimulatedFromTouch_(t)){var e=h(t,this.dispatcher);this.dispatcher.enterOver(e,t)}}function p(t){if(!this.isEventSimulatedFromTouch_(t)){var e=h(t,this.dispatcher);this.dispatcher.leaveOut(e,t)}}var c=function(t){function e(e){var i={mousedown:s,mousemove:n,mouseup:a,mouseover:u,mouseout:p};t.call(this,e,i),this.pointerMap=e.pointerMap,this.lastTouches=[]}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.isEventSimulatedFromTouch_=function(t){for(var e=this.lastTouches,i=t.clientX,r=t.clientY,s=0,n=e.length,a=void 0;s<n&&(a=e[s]);s++){var u=Math.abs(i-a[0]),p=Math.abs(r-a[1]);if(u<=o&&p<=o)return!0}return!1},e.prototype.cancel=function(t){var e=h(t,this.dispatcher);this.dispatcher.cancel(e,t),this.cleanupMouse()},e.prototype.cleanupMouse=function(){delete this.pointerMap[i.toString()]},e}(t.default);function h(t,e){var o=e.cloneEvent(t,t),s=o.preventDefault;return o.preventDefault=function(){t.preventDefault(),s()},o.pointerId=i,o.isPrimary=!0,o.pointerType=r,o}var v=c;exports.default=v;
},{"./EventSource.js":"R8kl"}],"qKvi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./EventSource.js"));function e(t){return t&&t.__esModule?t:{default:t}}var r=["","unavailable","touch","pen","mouse"];function n(t){this.pointerMap[t.pointerId.toString()]=t;var e=this.prepareEvent_(t);this.dispatcher.down(e,t)}function i(t){var e=this.prepareEvent_(t);this.dispatcher.move(e,t)}function p(t){var e=this.prepareEvent_(t);this.dispatcher.up(e,t),this.cleanup(t.pointerId)}function o(t){var e=this.prepareEvent_(t);this.dispatcher.leaveOut(e,t)}function a(t){var e=this.prepareEvent_(t);this.dispatcher.enterOver(e,t)}function s(t){var e=this.prepareEvent_(t);this.dispatcher.cancel(e,t),this.cleanup(t.pointerId)}function c(t){var e=this.dispatcher.makeEvent("lostpointercapture",t,t);this.dispatcher.dispatchEvent(e)}function u(t){var e=this.dispatcher.makeEvent("gotpointercapture",t,t);this.dispatcher.dispatchEvent(e)}var h=function(t){function e(e){var r={MSPointerDown:n,MSPointerMove:i,MSPointerUp:p,MSPointerOut:o,MSPointerOver:a,MSPointerCancel:s,MSGotPointerCapture:u,MSLostPointerCapture:c};t.call(this,e,r),this.pointerMap=e.pointerMap}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.prepareEvent_=function(t){var e=t;return"number"==typeof t.pointerType&&((e=this.dispatcher.cloneEvent(t,t)).pointerType=r[t.pointerType]),e},e.prototype.cleanup=function(t){delete this.pointerMap[t.toString()]},e}(t.default),v=h;exports.default=v;
},{"./EventSource.js":"R8kl"}],"Hw3i":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./EventSource.js"));function e(t){return t&&t.__esModule?t:{default:t}}function i(t){this.dispatcher.fireNativeEvent(t)}function r(t){this.dispatcher.fireNativeEvent(t)}function n(t){this.dispatcher.fireNativeEvent(t)}function o(t){this.dispatcher.fireNativeEvent(t)}function c(t){this.dispatcher.fireNativeEvent(t)}function p(t){this.dispatcher.fireNativeEvent(t)}function a(t){this.dispatcher.fireNativeEvent(t)}function u(t){this.dispatcher.fireNativeEvent(t)}var s=function(t){function e(e){var s={pointerdown:i,pointermove:r,pointerup:n,pointerout:o,pointerover:c,pointercancel:p,gotpointercapture:u,lostpointercapture:a};t.call(this,e,s)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t.default),f=s;exports.default=f;
},{"./EventSource.js":"R8kl"}],"rjJl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("../events/Event.js"));function e(t){return t&&t.__esModule?t:{default:t}}var i=!1,n=function(t){function e(e,i,n){t.call(this,e),this.originalEvent=i;var l=n||{};this.buttons=s(l),this.pressure=r(l,this.buttons),this.bubbles="bubbles"in l&&l.bubbles,this.cancelable="cancelable"in l&&l.cancelable,this.view="view"in l?l.view:null,this.detail="detail"in l?l.detail:null,this.screenX="screenX"in l?l.screenX:0,this.screenY="screenY"in l?l.screenY:0,this.clientX="clientX"in l?l.clientX:0,this.clientY="clientY"in l?l.clientY:0,this.ctrlKey="ctrlKey"in l&&l.ctrlKey,this.altKey="altKey"in l&&l.altKey,this.shiftKey="shiftKey"in l&&l.shiftKey,this.metaKey="metaKey"in l&&l.metaKey,this.button="button"in l?l.button:0,this.relatedTarget="relatedTarget"in l?l.relatedTarget:null,this.pointerId="pointerId"in l?l.pointerId:0,this.width="width"in l?l.width:0,this.height="height"in l?l.height:0,this.tiltX="tiltX"in l?l.tiltX:0,this.tiltY="tiltY"in l?l.tiltY:0,this.pointerType="pointerType"in l?l.pointerType:"",this.hwTimestamp="hwTimestamp"in l?l.hwTimestamp:0,this.isPrimary="isPrimary"in l&&l.isPrimary,i.preventDefault&&(this.preventDefault=function(){i.preventDefault()})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t.default);function s(t){var e;if(t.buttons||i)e=t.buttons;else switch(t.which){case 1:e=1;break;case 2:e=4;break;case 3:e=2;break;default:e=0}return e}function r(t,e){return t.pressure?t.pressure:e?.5:0}!function(){try{var t=new MouseEvent("click",{buttons:1});i=1===t.buttons}catch(e){}}();var l=n;exports.default=l;
},{"../events/Event.js":"fKNg"}],"XfdC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../array.js"),e=r(require("./EventSource.js")),i=require("./MouseSource.js");function r(t){return t&&t.__esModule?t:{default:t}}var o=200,s="touch";function n(t){this.vacuumTouches_(t),this.setPrimaryTouch_(t.changedTouches[0]),this.dedupSynthMouse_(t),this.clickCount_++,this.processTouches_(t,this.overDown_)}function c(t){this.processTouches_(t,this.moveOverOut_)}function u(t){this.dedupSynthMouse_(t),this.processTouches_(t,this.upOut_)}function h(t){this.processTouches_(t,this.cancelOut_)}var a=function(e){function r(t,i){var r={touchstart:n,touchmove:c,touchend:u,touchcancel:h};e.call(this,t,r),this.pointerMap=t.pointerMap,this.mouseSource=i,this.firstTouchId_=void 0,this.clickCount_=0,this.resetId_,this.dedupTimeout_=2500}return e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r,r.prototype.isPrimaryTouch_=function(t){return this.firstTouchId_===t.identifier},r.prototype.setPrimaryTouch_=function(t){var e=Object.keys(this.pointerMap).length;(0===e||1===e&&i.POINTER_ID.toString()in this.pointerMap)&&(this.firstTouchId_=t.identifier,this.cancelResetClickCount_())},r.prototype.removePrimaryPointer_=function(t){t.isPrimary&&(this.firstTouchId_=void 0,this.resetClickCount_())},r.prototype.resetClickCount_=function(){this.resetId_=setTimeout(this.resetClickCountHandler_.bind(this),o)},r.prototype.resetClickCountHandler_=function(){this.clickCount_=0,this.resetId_=void 0},r.prototype.cancelResetClickCount_=function(){void 0!==this.resetId_&&clearTimeout(this.resetId_)},r.prototype.touchToPointer_=function(t,e){var i=this.dispatcher.cloneEvent(t,e);return i.pointerId=e.identifier+2,i.bubbles=!0,i.cancelable=!0,i.detail=this.clickCount_,i.button=0,i.buttons=1,i.width=e.radiusX||0,i.height=e.radiusY||0,i.pressure=e.force||.5,i.isPrimary=this.isPrimaryTouch_(e),i.pointerType=s,i.clientX=e.clientX,i.clientY=e.clientY,i.screenX=e.screenX,i.screenY=e.screenY,i},r.prototype.processTouches_=function(t,e){var i=Array.prototype.slice.call(t.changedTouches),r=i.length;function o(){t.preventDefault()}for(var s=0;s<r;++s){var n=this.touchToPointer_(t,i[s]);n.preventDefault=o,e.call(this,t,n)}},r.prototype.findTouch_=function(t,e){for(var i=t.length,r=0;r<i;r++){if(t[r].identifier===e)return!0}return!1},r.prototype.vacuumTouches_=function(t){var e=t.touches,r=Object.keys(this.pointerMap),o=r.length;if(o>=e.length){for(var s=[],n=0;n<o;++n){var c=Number(r[n]),u=this.pointerMap[c];c==i.POINTER_ID||this.findTouch_(e,c-2)||s.push(u.out)}for(var h=0;h<s.length;++h)this.cancelOut_(t,s[h])}},r.prototype.overDown_=function(t,e){this.pointerMap[e.pointerId]={target:e.target,out:e,outTarget:e.target},this.dispatcher.over(e,t),this.dispatcher.enter(e,t),this.dispatcher.down(e,t)},r.prototype.moveOverOut_=function(t,e){var i=e,r=this.pointerMap[i.pointerId];if(r){var o=r.out,s=r.outTarget;this.dispatcher.move(i,t),o&&s!==i.target&&(o.relatedTarget=i.target,i.relatedTarget=s,o.target=s,i.target?(this.dispatcher.leaveOut(o,t),this.dispatcher.enterOver(i,t)):(i.target=s,i.relatedTarget=null,this.cancelOut_(t,i))),r.out=i,r.outTarget=i.target}},r.prototype.upOut_=function(t,e){this.dispatcher.up(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},r.prototype.cancelOut_=function(t,e){this.dispatcher.cancel(e,t),this.dispatcher.out(e,t),this.dispatcher.leave(e,t),this.cleanUpPointer_(e)},r.prototype.cleanUpPointer_=function(t){delete this.pointerMap[t.pointerId],this.removePrimaryPointer_(t)},r.prototype.dedupSynthMouse_=function(e){var i=this.mouseSource.lastTouches,r=e.changedTouches[0];if(this.isPrimaryTouch_(r)){var o=[r.clientX,r.clientY];i.push(o),setTimeout(function(){(0,t.remove)(i,o)},this.dedupTimeout_)}},r}(e.default),p=a;exports.default=p;
},{"../array.js":"luEr","./EventSource.js":"R8kl","./MouseSource.js":"Plx9"}],"zTqe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../events.js"),t=c(require("../events/Target.js")),r=require("../has.js"),n=c(require("./EventType.js")),i=p(require("./MouseSource.js")),o=c(require("./MsSource.js")),s=c(require("./NativeSource.js")),u=c(require("./PointerEvent.js")),a=c(require("./TouchSource.js"));function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};n.get||n.set?Object.defineProperty(t,r,n):t[r]=e[r]}return t.default=e,t}function c(e){return e&&e.__esModule?e:{default:e}}var l=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]],f=function(t){function p(e){t.call(this),this.element_=e,this.pointerMap={},this.eventMap_={},this.eventSourceList_=[],this.registerSources()}return t&&(p.__proto__=t),p.prototype=Object.create(t&&t.prototype),p.prototype.constructor=p,p.prototype.registerSources=function(){if(r.POINTER)this.registerSource("native",new s.default(this));else if(r.MSPOINTER)this.registerSource("ms",new o.default(this));else{var e=new i.default(this);this.registerSource("mouse",e),r.TOUCH&&this.registerSource("touch",new a.default(this,e))}this.register_()},p.prototype.registerSource=function(e,t){var r=t,n=r.getEvents();n&&(n.forEach(function(e){var t=r.getHandlerForEvent(e);t&&(this.eventMap_[e]=t.bind(r))}.bind(this)),this.eventSourceList_.push(r))},p.prototype.register_=function(){for(var e=this.eventSourceList_.length,t=0;t<e;t++){var r=this.eventSourceList_[t];this.addEvents_(r.getEvents())}},p.prototype.unregister_=function(){for(var e=this.eventSourceList_.length,t=0;t<e;t++){var r=this.eventSourceList_[t];this.removeEvents_(r.getEvents())}},p.prototype.eventHandler_=function(e){var t=e.type,r=this.eventMap_[t];r&&r(e)},p.prototype.addEvents_=function(t){t.forEach(function(t){(0,e.listen)(this.element_,t,this.eventHandler_,this)}.bind(this))},p.prototype.removeEvents_=function(t){t.forEach(function(t){(0,e.unlisten)(this.element_,t,this.eventHandler_,this)}.bind(this))},p.prototype.cloneEvent=function(e,t){for(var r={},n=0,i=l.length;n<i;n++){var o=l[n][0];r[o]=e[o]||t[o]||l[n][1]}return r},p.prototype.down=function(e,t){this.fireEvent(n.default.POINTERDOWN,e,t)},p.prototype.move=function(e,t){this.fireEvent(n.default.POINTERMOVE,e,t)},p.prototype.up=function(e,t){this.fireEvent(n.default.POINTERUP,e,t)},p.prototype.enter=function(e,t){e.bubbles=!1,this.fireEvent(n.default.POINTERENTER,e,t)},p.prototype.leave=function(e,t){e.bubbles=!1,this.fireEvent(n.default.POINTERLEAVE,e,t)},p.prototype.over=function(e,t){e.bubbles=!0,this.fireEvent(n.default.POINTEROVER,e,t)},p.prototype.out=function(e,t){e.bubbles=!0,this.fireEvent(n.default.POINTEROUT,e,t)},p.prototype.cancel=function(e,t){this.fireEvent(n.default.POINTERCANCEL,e,t)},p.prototype.leaveOut=function(e,t){this.out(e,t),this.contains_(e.target,e.relatedTarget)||this.leave(e,t)},p.prototype.enterOver=function(e,t){this.over(e,t),this.contains_(e.target,e.relatedTarget)||this.enter(e,t)},p.prototype.contains_=function(e,t){return!(!e||!t)&&e.contains(t)},p.prototype.makeEvent=function(e,t,r){return new u.default(e,r,t)},p.prototype.fireEvent=function(e,t,r){var n=this.makeEvent(e,t,r);this.dispatchEvent(n)},p.prototype.fireNativeEvent=function(e){var t=this.makeEvent(e.type,e,e);this.dispatchEvent(t)},p.prototype.wrapMouseEvent=function(e,t){return this.makeEvent(e,(0,i.prepareEvent)(t,this),t)},p.prototype.disposeInternal=function(){this.unregister_(),t.prototype.disposeInternal.call(this)},p}(t.default),h=f;exports.default=h;
},{"../events.js":"55Uq","../events/Target.js":"8CR4","../has.js":"f3Nv","./EventType.js":"TaSm","./MouseSource.js":"Plx9","./MsSource.js":"qKvi","./NativeSource.js":"Hw3i","./PointerEvent.js":"rjJl","./TouchSource.js":"XfdC"}],"ohHk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("./has.js"),e=a(require("./MapBrowserEventType.js")),i=a(require("./MapBrowserPointerEvent.js")),n=require("./events.js"),s=a(require("./events/Target.js")),r=a(require("./pointer/EventType.js")),o=a(require("./pointer/PointerEventHandler.js"));function a(t){return t&&t.__esModule?t:{default:t}}var d=function(s){function a(e,i){s.call(this),this.map_=e,this.clickTimeoutId_,this.dragging_=!1,this.dragListenerKeys_=[],this.moveTolerance_=i?i*t.DEVICE_PIXEL_RATIO:t.DEVICE_PIXEL_RATIO,this.down_=null;var a=this.map_.getViewport();this.activePointers_=0,this.trackedTouches_={},this.pointerEventHandler_=new o.default(a),this.documentPointerEventHandler_=null,this.pointerdownListenerKey_=(0,n.listen)(this.pointerEventHandler_,r.default.POINTERDOWN,this.handlePointerDown_,this),this.relayedListenerKey_=(0,n.listen)(this.pointerEventHandler_,r.default.POINTERMOVE,this.relayEvent_,this)}return s&&(a.__proto__=s),a.prototype=Object.create(s&&s.prototype),a.prototype.constructor=a,a.prototype.emulateClick_=function(t){var n=new i.default(e.default.CLICK,this.map_,t);this.dispatchEvent(n),void 0!==this.clickTimeoutId_?(clearTimeout(this.clickTimeoutId_),this.clickTimeoutId_=void 0,n=new i.default(e.default.DBLCLICK,this.map_,t),this.dispatchEvent(n)):this.clickTimeoutId_=setTimeout(function(){this.clickTimeoutId_=void 0;var n=new i.default(e.default.SINGLECLICK,this.map_,t);this.dispatchEvent(n)}.bind(this),250)},a.prototype.updateActivePointers_=function(t){var i=t;i.type==e.default.POINTERUP||i.type==e.default.POINTERCANCEL?delete this.trackedTouches_[i.pointerId]:i.type==e.default.POINTERDOWN&&(this.trackedTouches_[i.pointerId]=!0),this.activePointers_=Object.keys(this.trackedTouches_).length},a.prototype.handlePointerUp_=function(t){this.updateActivePointers_(t);var s=new i.default(e.default.POINTERUP,this.map_,t);this.dispatchEvent(s),s.propagationStopped||this.dragging_||!this.isMouseActionButton_(t)||this.emulateClick_(this.down_),0===this.activePointers_&&(this.dragListenerKeys_.forEach(n.unlistenByKey),this.dragListenerKeys_.length=0,this.dragging_=!1,this.down_=null,this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null)},a.prototype.isMouseActionButton_=function(t){return 0===t.button},a.prototype.handlePointerDown_=function(t){this.updateActivePointers_(t);var s=new i.default(e.default.POINTERDOWN,this.map_,t);this.dispatchEvent(s),this.down_=t,0===this.dragListenerKeys_.length&&(this.documentPointerEventHandler_=new o.default(document),this.dragListenerKeys_.push((0,n.listen)(this.documentPointerEventHandler_,e.default.POINTERMOVE,this.handlePointerMove_,this),(0,n.listen)(this.documentPointerEventHandler_,e.default.POINTERUP,this.handlePointerUp_,this),(0,n.listen)(this.pointerEventHandler_,e.default.POINTERCANCEL,this.handlePointerUp_,this)))},a.prototype.handlePointerMove_=function(t){if(this.isMoving_(t)){this.dragging_=!0;var n=new i.default(e.default.POINTERDRAG,this.map_,t,this.dragging_);this.dispatchEvent(n)}t.preventDefault()},a.prototype.relayEvent_=function(t){var e=!(!this.down_||!this.isMoving_(t));this.dispatchEvent(new i.default(t.type,this.map_,t,e))},a.prototype.isMoving_=function(t){return this.dragging_||Math.abs(t.clientX-this.down_.clientX)>this.moveTolerance_||Math.abs(t.clientY-this.down_.clientY)>this.moveTolerance_},a.prototype.disposeInternal=function(){this.relayedListenerKey_&&((0,n.unlistenByKey)(this.relayedListenerKey_),this.relayedListenerKey_=null),this.pointerdownListenerKey_&&((0,n.unlistenByKey)(this.pointerdownListenerKey_),this.pointerdownListenerKey_=null),this.dragListenerKeys_.forEach(n.unlistenByKey),this.dragListenerKeys_.length=0,this.documentPointerEventHandler_&&(this.documentPointerEventHandler_.dispose(),this.documentPointerEventHandler_=null),this.pointerEventHandler_&&(this.pointerEventHandler_.dispose(),this.pointerEventHandler_=null),s.prototype.disposeInternal.call(this)},a}(s.default),h=d;exports.default=h;
},{"./has.js":"f3Nv","./MapBrowserEventType.js":"Yh/D","./MapBrowserPointerEvent.js":"J1WQ","./events.js":"55Uq","./events/Target.js":"8CR4","./pointer/EventType.js":"TaSm","./pointer/PointerEventHandler.js":"zTqe"}],"xLGm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={POSTRENDER:"postrender",MOVESTART:"movestart",MOVEEND:"moveend"};exports.default=e;
},{}],"zlNQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={LAYERGROUP:"layergroup",SIZE:"size",TARGET:"target",VIEW:"view"};exports.default=e;
},{}],"RQLY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.DROP=void 0;var t=require("../asserts.js"),e=require("../obj.js"),i=1/0;exports.DROP=i;var n=function(t,e){this.priorityFunction_=t,this.keyFunction_=e,this.elements_=[],this.priorities_=[],this.queuedElements_={}};n.prototype.clear=function(){this.elements_.length=0,this.priorities_.length=0,(0,e.clear)(this.queuedElements_)},n.prototype.dequeue=function(){var t=this.elements_,e=this.priorities_,i=t[0];1==t.length?(t.length=0,e.length=0):(t[0]=t.pop(),e[0]=e.pop(),this.siftUp_(0));var n=this.keyFunction_(i);return delete this.queuedElements_[n],i},n.prototype.enqueue=function(e){(0,t.assert)(!(this.keyFunction_(e)in this.queuedElements_),31);var n=this.priorityFunction_(e);return n!=i&&(this.elements_.push(e),this.priorities_.push(n),this.queuedElements_[this.keyFunction_(e)]=!0,this.siftDown_(0,this.elements_.length-1),!0)},n.prototype.getCount=function(){return this.elements_.length},n.prototype.getLeftChildIndex_=function(t){return 2*t+1},n.prototype.getRightChildIndex_=function(t){return 2*t+2},n.prototype.getParentIndex_=function(t){return t-1>>1},n.prototype.heapify_=function(){var t;for(t=(this.elements_.length>>1)-1;t>=0;t--)this.siftUp_(t)},n.prototype.isEmpty=function(){return 0===this.elements_.length},n.prototype.isKeyQueued=function(t){return t in this.queuedElements_},n.prototype.isQueued=function(t){return this.isKeyQueued(this.keyFunction_(t))},n.prototype.siftUp_=function(t){for(var e=this.elements_,i=this.priorities_,n=e.length,s=e[t],r=i[t],o=t;t<n>>1;){var u=this.getLeftChildIndex_(t),h=this.getRightChildIndex_(t),p=h<n&&i[h]<i[u]?h:u;e[t]=e[p],i[t]=i[p],t=p}e[t]=s,i[t]=r,this.siftDown_(o,t)},n.prototype.siftDown_=function(t,e){for(var i=this.elements_,n=this.priorities_,s=i[e],r=n[e];e>t;){var o=this.getParentIndex_(e);if(!(n[o]>r))break;i[e]=i[o],n[e]=n[o],e=o}i[e]=s,n[e]=r},n.prototype.reprioritize=function(){var t,e,n,s=this.priorityFunction_,r=this.elements_,o=this.priorities_,u=0,h=r.length;for(e=0;e<h;++e)(n=s(t=r[e]))==i?delete this.queuedElements_[this.keyFunction_(t)]:(o[u]=n,r[u++]=t);r.length=u,o.length=u,this.heapify_()};var s=n;exports.default=s;
},{"../asserts.js":"fLG6","../obj.js":"mH6q"}],"0tHO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=a(require("./TileState.js")),t=require("./events.js"),i=a(require("./events/EventType.js")),n=a(require("./structs/PriorityQueue.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(n){function a(e,t){n.call(this,function(t){return e.apply(null,t)},function(e){return e[0].getKey()}),this.tileChangeCallback_=t,this.tilesLoading_=0,this.tilesLoadingKeys_={}}return n&&(a.__proto__=n),a.prototype=Object.create(n&&n.prototype),a.prototype.constructor=a,a.prototype.enqueue=function(e){var a=n.prototype.enqueue.call(this,e);if(a){var s=e[0];(0,t.listen)(s,i.default.CHANGE,this.handleTileChange,this)}return a},a.prototype.getTilesLoading=function(){return this.tilesLoading_},a.prototype.handleTileChange=function(n){var a=n.target,s=a.getState();if(s===e.default.LOADED||s===e.default.ERROR||s===e.default.EMPTY||s===e.default.ABORT){(0,t.unlisten)(a,i.default.CHANGE,this.handleTileChange,this);var l=a.getKey();l in this.tilesLoadingKeys_&&(delete this.tilesLoadingKeys_[l],--this.tilesLoading_),this.tileChangeCallback_()}},a.prototype.loadMoreTiles=function(t,i){for(var n,a,s,l=0,o=!1;this.tilesLoading_<t&&l<i&&this.getCount()>0;)s=(a=this.dequeue()[0]).getKey(),(n=a.getState())===e.default.ABORT?o=!0:n!==e.default.IDLE||s in this.tilesLoadingKeys_||(this.tilesLoadingKeys_[s]=!0,++this.tilesLoading_,++l,a.load());0===l&&o&&this.tileChangeCallback_()},a}(n.default),l=s;exports.default=l;
},{"./TileState.js":"Xz9x","./events.js":"55Uq","./events/EventType.js":"C8cu","./structs/PriorityQueue.js":"RQLY"}],"mOEX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DEFAULT_TILE_SIZE=exports.DEFAULT_MAX_ZOOM=void 0;var e=42;exports.DEFAULT_MAX_ZOOM=e;var r=256;exports.DEFAULT_TILE_SIZE=r;
},{}],"Rc7z":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createExtent=t,exports.none=r;var e=require("./math.js");function t(t){return function(r){return r?[(0,e.clamp)(r[0],t[0],t[2]),(0,e.clamp)(r[1],t[1],t[3])]:void 0}}function r(e){return e}
},{"./math.js":"B96G"}],"o7nl":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createSnapToResolutions=t,exports.createSnapToPower=a;var r=require("./array.js"),e=require("./math.js");function t(t){return function(a,o,n){if(void 0!==a){var i=(0,r.linearFindNearest)(t,a,n);i=(0,e.clamp)(i+o,0,t.length-1);var u=Math.floor(i);if(i!=u&&u<t.length-1){var h=t[u]/t[u+1];return t[u]/Math.pow(h,i-u)}return t[u]}}}function a(r,e,t){return function(a,o,n){if(void 0!==a){var i=-n/2+.5,u=Math.floor(Math.log(e/a)/Math.log(r)+i),h=Math.max(u+o,0);return void 0!==t&&(h=Math.min(h,t)),e/Math.pow(r,h)}}}
},{"./array.js":"luEr","./math.js":"B96G"}],"9EKd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.disable=e,exports.none=o,exports.createSnapToN=t,exports.createSnapToZero=n;var r=require("./math.js");function e(r,e){return void 0!==r?0:void 0}function o(r,e){return void 0!==r?r+e:void 0}function t(r){var e=2*Math.PI/r;return function(r,o){return void 0!==r?r=Math.floor((r+o)/e+.5)*e:void 0}}function n(e){var o=e||(0,r.toRadians)(5);return function(r,e){return void 0!==r?Math.abs(r+e)<=o?0:r+e:void 0}}
},{"./math.js":"B96G"}],"cuLW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={ANIMATING:0,INTERACTING:1};exports.default=e;
},{}],"0/98":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={CENTER:"center",RESOLUTION:"resolution",ROTATION:"rotation"};exports.default=e;
},{}],"hNqE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createCenterConstraint=A,exports.createResolutionConstraint=E,exports.createRotationConstraint=T,exports.isNoopAnimation=I,exports.default=void 0;var t=require("./tilegrid/common.js"),o=require("./util.js"),e=require("./functions.js"),i=require("./centerconstraint.js"),n=y(require("./Object.js")),r=require("./resolutionconstraint.js"),s=require("./rotationconstraint.js"),a=y(require("./ViewHint.js")),u=y(require("./ViewProperty.js")),h=require("./array.js"),l=require("./asserts.js"),c=require("./coordinate.js"),p=require("./easing.js"),m=require("./extent.js"),g=y(require("./geom/GeometryType.js")),d=require("./geom/Polygon.js"),R=require("./math.js"),f=require("./obj.js"),v=require("./proj.js"),_=y(require("./proj/Units.js"));function y(t){return t&&t.__esModule?t:{default:t}}var M=0,C=function(t){function i(o){t.call(this);var e=(0,f.assign)({},o);this.hints_=[0,0],this.animations_=[],this.updateAnimationKey_,this.updateAnimations_=this.updateAnimations_.bind(this),this.projection_=(0,v.createProjection)(e.projection,"EPSG:3857"),this.applyOptions_(e)}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.applyOptions_=function(t){var o={};o[u.default.CENTER]=void 0!==t.center?t.center:null;var e=E(t);this.maxResolution_=e.maxResolution,this.minResolution_=e.minResolution,this.zoomFactor_=e.zoomFactor,this.resolutions_=t.resolutions,this.minZoom_=e.minZoom;var i=A(t),n=e.constraint,r=T(t);this.constraints_={center:i,resolution:n,rotation:r},void 0!==t.resolution?o[u.default.RESOLUTION]=t.resolution:void 0!==t.zoom&&(o[u.default.RESOLUTION]=this.constrainResolution(this.maxResolution_,t.zoom-this.minZoom_),this.resolutions_&&(o[u.default.RESOLUTION]=(0,R.clamp)(Number(this.getResolution()||o[u.default.RESOLUTION]),this.minResolution_,this.maxResolution_))),o[u.default.ROTATION]=void 0!==t.rotation?t.rotation:0,this.setProperties(o),this.options_=t},i.prototype.getUpdatedOptions_=function(t){var o=(0,f.assign)({},this.options_);return void 0!==o.resolution?o.resolution=this.getResolution():o.zoom=this.getZoom(),o.center=this.getCenter(),o.rotation=this.getRotation(),(0,f.assign)({},o,t)},i.prototype.animate=function(t){var o,e=arguments,i=arguments.length;if(i>1&&"function"==typeof arguments[i-1]&&(o=arguments[i-1],--i),!this.isDef()){var n=arguments[i-1];return n.center&&this.setCenter(n.center),void 0!==n.zoom&&this.setZoom(n.zoom),void 0!==n.rotation&&this.setRotation(n.rotation),void(o&&x(o,!0))}for(var r=Date.now(),s=this.getCenter().slice(),u=this.getResolution(),h=this.getRotation(),l=[],c=0;c<i;++c){var m=e[c],g={start:r,complete:!1,anchor:m.anchor,duration:void 0!==m.duration?m.duration:1e3,easing:m.easing||p.inAndOut};if(m.center&&(g.sourceCenter=s,g.targetCenter=m.center,s=g.targetCenter),void 0!==m.zoom?(g.sourceResolution=u,g.targetResolution=this.constrainResolution(this.maxResolution_,m.zoom-this.minZoom_,0),u=g.targetResolution):m.resolution&&(g.sourceResolution=u,g.targetResolution=m.resolution,u=g.targetResolution),void 0!==m.rotation){g.sourceRotation=h;var d=(0,R.modulo)(m.rotation-h+Math.PI,2*Math.PI)-Math.PI;g.targetRotation=h+d,h=g.targetRotation}g.callback=o,I(g)?g.complete=!0:r+=g.duration,l.push(g)}this.animations_.push(l),this.setHint(a.default.ANIMATING,1),this.updateAnimations_()},i.prototype.getAnimating=function(){return this.hints_[a.default.ANIMATING]>0},i.prototype.getInteracting=function(){return this.hints_[a.default.INTERACTING]>0},i.prototype.cancelAnimations=function(){this.setHint(a.default.ANIMATING,-this.hints_[a.default.ANIMATING]);for(var t=0,o=this.animations_.length;t<o;++t){var e=this.animations_[t];e[0].callback&&x(e[0].callback,!1)}this.animations_.length=0},i.prototype.updateAnimations_=function(){if(void 0!==this.updateAnimationKey_&&(cancelAnimationFrame(this.updateAnimationKey_),this.updateAnimationKey_=void 0),this.getAnimating()){for(var t=Date.now(),o=!1,e=this.animations_.length-1;e>=0;--e){for(var i=this.animations_[e],n=!0,r=0,s=i.length;r<s;++r){var h=i[r];if(!h.complete){var l=t-h.start,c=h.duration>0?l/h.duration:1;c>=1?(h.complete=!0,c=1):n=!1;var p=h.easing(c);if(h.sourceCenter){var m=h.sourceCenter[0],g=h.sourceCenter[1],d=m+p*(h.targetCenter[0]-m),f=g+p*(h.targetCenter[1]-g);this.set(u.default.CENTER,[d,f])}if(h.sourceResolution&&h.targetResolution){var v=1===p?h.targetResolution:h.sourceResolution+p*(h.targetResolution-h.sourceResolution);h.anchor&&this.set(u.default.CENTER,this.calculateCenterZoom(v,h.anchor)),this.set(u.default.RESOLUTION,v)}if(void 0!==h.sourceRotation&&void 0!==h.targetRotation){var _=1===p?(0,R.modulo)(h.targetRotation+Math.PI,2*Math.PI)-Math.PI:h.sourceRotation+p*(h.targetRotation-h.sourceRotation);h.anchor&&this.set(u.default.CENTER,this.calculateCenterRotate(_,h.anchor)),this.set(u.default.ROTATION,_)}if(o=!0,!h.complete)break}}if(n){this.animations_[e]=null,this.setHint(a.default.ANIMATING,-1);var y=i[0].callback;y&&x(y,!0)}}this.animations_=this.animations_.filter(Boolean),o&&void 0===this.updateAnimationKey_&&(this.updateAnimationKey_=requestAnimationFrame(this.updateAnimations_))}},i.prototype.calculateCenterRotate=function(t,o){var e,i=this.getCenter();return void 0!==i&&(e=[i[0]-o[0],i[1]-o[1]],(0,c.rotate)(e,t-this.getRotation()),(0,c.add)(e,o)),e},i.prototype.calculateCenterZoom=function(t,o){var e,i=this.getCenter(),n=this.getResolution();void 0!==i&&void 0!==n&&(e=[o[0]-t*(o[0]-i[0])/n,o[1]-t*(o[1]-i[1])/n]);return e},i.prototype.getSizeFromViewport_=function(){var t=[100,100],e='.ol-viewport[data-view="'+(0,o.getUid)(this)+'"]',i=document.querySelector(e);if(i){var n=getComputedStyle(i);t[0]=parseInt(n.width,10),t[1]=parseInt(n.height,10)}return t},i.prototype.constrainCenter=function(t){return this.constraints_.center(t)},i.prototype.constrainResolution=function(t,o,e){var i=o||0,n=e||0;return this.constraints_.resolution(t,i,n)},i.prototype.constrainRotation=function(t,o){var e=o||0;return this.constraints_.rotation(t,e)},i.prototype.getCenter=function(){return this.get(u.default.CENTER)},i.prototype.getConstraints=function(){return this.constraints_},i.prototype.getHints=function(t){return void 0!==t?(t[0]=this.hints_[0],t[1]=this.hints_[1],t):this.hints_.slice()},i.prototype.calculateExtent=function(t){var o=t||this.getSizeFromViewport_(),e=this.getCenter();(0,l.assert)(e,1);var i=this.getResolution();(0,l.assert)(void 0!==i,2);var n=this.getRotation();return(0,l.assert)(void 0!==n,3),(0,m.getForViewAndSize)(e,i,n,o)},i.prototype.getMaxResolution=function(){return this.maxResolution_},i.prototype.getMinResolution=function(){return this.minResolution_},i.prototype.getMaxZoom=function(){return this.getZoomForResolution(this.minResolution_)},i.prototype.setMaxZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({maxZoom:t}))},i.prototype.getMinZoom=function(){return this.getZoomForResolution(this.maxResolution_)},i.prototype.setMinZoom=function(t){this.applyOptions_(this.getUpdatedOptions_({minZoom:t}))},i.prototype.getProjection=function(){return this.projection_},i.prototype.getResolution=function(){return this.get(u.default.RESOLUTION)},i.prototype.getResolutions=function(){return this.resolutions_},i.prototype.getResolutionForExtent=function(t,o){var e=o||this.getSizeFromViewport_(),i=(0,m.getWidth)(t)/e[0],n=(0,m.getHeight)(t)/e[1];return Math.max(i,n)},i.prototype.getResolutionForValueFunction=function(t){var o=t||2,e=this.maxResolution_,i=this.minResolution_,n=Math.log(e/i)/Math.log(o);return function(t){return e/Math.pow(o,t*n)}},i.prototype.getRotation=function(){return this.get(u.default.ROTATION)},i.prototype.getValueForResolutionFunction=function(t){var o=t||2,e=this.maxResolution_,i=this.minResolution_,n=Math.log(e/i)/Math.log(o);return function(t){return Math.log(e/t)/Math.log(o)/n}},i.prototype.getState=function(t){var o=this.getCenter(),e=this.getProjection(),i=this.getResolution(),n=i/t,r=this.getRotation();return{center:[Math.round(o[0]/n)*n,Math.round(o[1]/n)*n],projection:void 0!==e?e:null,resolution:i,rotation:r,zoom:this.getZoom()}},i.prototype.getZoom=function(){var t,o=this.getResolution();return void 0!==o&&(t=this.getZoomForResolution(o)),t},i.prototype.getZoomForResolution=function(t){var o,e,i=this.minZoom_||0;if(this.resolutions_){var n=(0,h.linearFindNearest)(this.resolutions_,t,1);i=n,o=this.resolutions_[n],e=n==this.resolutions_.length-1?2:o/this.resolutions_[n+1]}else o=this.maxResolution_,e=this.zoomFactor_;return i+Math.log(o/t)/Math.log(e)},i.prototype.getResolutionForZoom=function(t){return this.constrainResolution(this.maxResolution_,t-this.minZoom_,0)},i.prototype.fit=function(t,o){var i,n=o||{},r=n.size;r||(r=this.getSizeFromViewport_()),(0,l.assert)(Array.isArray(t)||"function"==typeof t.getSimplifiedGeometry,24),Array.isArray(t)?((0,l.assert)(!(0,m.isEmpty)(t),25),i=(0,d.fromExtent)(t)):t.getType()===g.default.CIRCLE?(t=t.getExtent(),(i=(0,d.fromExtent)(t)).rotate(this.getRotation(),(0,m.getCenter)(t))):i=t;var s,a=void 0!==n.padding?n.padding:[0,0,0,0],u=void 0===n.constrainResolution||n.constrainResolution,h=void 0!==n.nearest&&n.nearest;s=void 0!==n.minResolution?n.minResolution:void 0!==n.maxZoom?this.constrainResolution(this.maxResolution_,n.maxZoom-this.minZoom_,0):0;for(var c=i.getFlatCoordinates(),p=this.getRotation(),R=Math.cos(-p),f=Math.sin(-p),v=1/0,_=1/0,y=-1/0,M=-1/0,C=i.getStride(),A=0,E=c.length;A<E;A+=C){var T=c[A]*R-c[A+1]*f,I=c[A]*f+c[A+1]*R;v=Math.min(v,T),_=Math.min(_,I),y=Math.max(y,T),M=Math.max(M,I)}var N=this.getResolutionForExtent([v,_,y,M],[r[0]-a[1]-a[3],r[1]-a[0]-a[2]]);if(N=isNaN(N)?s:Math.max(N,s),u){var Z=this.constrainResolution(N,0,0);!h&&Z<N&&(Z=this.constrainResolution(Z,-1,0)),N=Z}f=-f;var j=(v+y)/2,O=(_+M)/2,F=[(j+=(a[1]-a[3])/2*N)*R-(O+=(a[0]-a[2])/2*N)*f,O*R+j*f],S=n.callback?n.callback:e.VOID;void 0!==n.duration?this.animate({resolution:N,center:F,duration:n.duration,easing:n.easing},S):(this.setResolution(N),this.setCenter(F),x(S,!0))},i.prototype.centerOn=function(t,o,e){var i=this.getRotation(),n=Math.cos(-i),r=Math.sin(-i),s=t[0]*n-t[1]*r,a=t[1]*n+t[0]*r,u=this.getResolution(),h=(s+=(o[0]/2-e[0])*u)*n-(a+=(e[1]-o[1]/2)*u)*(r=-r),l=a*n+s*r;this.setCenter([h,l])},i.prototype.isDef=function(){return!!this.getCenter()&&void 0!==this.getResolution()},i.prototype.rotate=function(t,o){if(void 0!==o){var e=this.calculateCenterRotate(t,o);this.setCenter(e)}this.setRotation(t)},i.prototype.setCenter=function(t){this.set(u.default.CENTER,t),this.getAnimating()&&this.cancelAnimations()},i.prototype.setHint=function(t,o){return this.hints_[t]+=o,this.changed(),this.hints_[t]},i.prototype.setResolution=function(t){this.set(u.default.RESOLUTION,t),this.getAnimating()&&this.cancelAnimations()},i.prototype.setRotation=function(t){this.set(u.default.ROTATION,t),this.getAnimating()&&this.cancelAnimations()},i.prototype.setZoom=function(t){this.setResolution(this.getResolutionForZoom(t))},i}(n.default);function x(t,o){setTimeout(function(){t(o)},0)}function A(t){return void 0!==t.extent?(0,i.createExtent)(t.extent):i.none}function E(o){var e,i,n,s=void 0!==o.minZoom?o.minZoom:M,a=void 0!==o.maxZoom?o.maxZoom:28,u=void 0!==o.zoomFactor?o.zoomFactor:2;if(void 0!==o.resolutions){var h=o.resolutions;i=h[s],n=void 0!==h[a]?h[a]:h[h.length-1],e=(0,r.createSnapToResolutions)(h)}else{var l=(0,v.createProjection)(o.projection,"EPSG:3857"),c=l.getExtent(),p=(c?Math.max((0,m.getWidth)(c),(0,m.getHeight)(c)):360*v.METERS_PER_UNIT[_.default.DEGREES]/l.getMetersPerUnit())/t.DEFAULT_TILE_SIZE/Math.pow(2,M),g=p/Math.pow(2,28-M);void 0!==(i=o.maxResolution)?s=0:i=p/Math.pow(u,s),void 0===(n=o.minResolution)&&(n=void 0!==o.maxZoom?void 0!==o.maxResolution?i/Math.pow(u,a):p/Math.pow(u,a):g),a=s+Math.floor(Math.log(i/n)/Math.log(u)),n=i/Math.pow(u,a-s),e=(0,r.createSnapToPower)(u,i,a-s)}return{constraint:e,maxResolution:i,minResolution:n,minZoom:s,zoomFactor:u}}function T(t){if(void 0===t.enableRotation||t.enableRotation){var o=t.constrainRotation;return void 0===o||!0===o?(0,s.createSnapToZero)():!1===o?s.none:"number"==typeof o?(0,s.createSnapToN)(o):s.none}return s.disable}function I(t){return!(t.sourceCenter&&t.targetCenter&&!(0,c.equals)(t.sourceCenter,t.targetCenter))&&(t.sourceResolution===t.targetResolution&&t.sourceRotation===t.targetRotation)}var N=C;exports.default=N;
},{"./tilegrid/common.js":"mOEX","./util.js":"KniQ","./functions.js":"RgA2","./centerconstraint.js":"Rc7z","./Object.js":"PhPh","./resolutionconstraint.js":"o7nl","./rotationconstraint.js":"9EKd","./ViewHint.js":"cuLW","./ViewProperty.js":"0/98","./array.js":"luEr","./asserts.js":"fLG6","./coordinate.js":"nGsj","./easing.js":"IeCz","./extent.js":"QDir","./geom/GeometryType.js":"lmV0","./geom/Polygon.js":"6Nww","./math.js":"B96G","./obj.js":"mH6q","./proj.js":"Diht","./proj/Units.js":"yZx6"}],"1Hbe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={OPACITY:"opacity",VISIBLE:"visible",EXTENT:"extent",Z_INDEX:"zIndex",MAX_RESOLUTION:"maxResolution",MIN_RESOLUTION:"minResolution",SOURCE:"source"};exports.default=e;
},{}],"T6DQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../util.js"),e=n(require("../Object.js")),o=n(require("./Property.js")),i=require("../math.js"),r=require("../obj.js");function n(t){return t&&t.__esModule?t:{default:t}}var s=function(e){function n(t){e.call(this);var i=(0,r.assign)({},t);i[o.default.OPACITY]=void 0!==t.opacity?t.opacity:1,i[o.default.VISIBLE]=void 0===t.visible||t.visible,i[o.default.Z_INDEX]=t.zIndex,i[o.default.MAX_RESOLUTION]=void 0!==t.maxResolution?t.maxResolution:1/0,i[o.default.MIN_RESOLUTION]=void 0!==t.minResolution?t.minResolution:0,this.setProperties(i),this.state_=null,this.type}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.getType=function(){return this.type},n.prototype.getLayerState=function(){var t=this.state_||{layer:this,managed:!0};return t.opacity=(0,i.clamp)(this.getOpacity(),0,1),t.sourceState=this.getSourceState(),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=this.getZIndex()||0,t.maxResolution=this.getMaxResolution(),t.minResolution=Math.max(this.getMinResolution(),0),this.state_=t,t},n.prototype.getLayersArray=function(e){return(0,t.abstract)()},n.prototype.getLayerStatesArray=function(e){return(0,t.abstract)()},n.prototype.getExtent=function(){return this.get(o.default.EXTENT)},n.prototype.getMaxResolution=function(){return this.get(o.default.MAX_RESOLUTION)},n.prototype.getMinResolution=function(){return this.get(o.default.MIN_RESOLUTION)},n.prototype.getOpacity=function(){return this.get(o.default.OPACITY)},n.prototype.getSourceState=function(){return(0,t.abstract)()},n.prototype.getVisible=function(){return this.get(o.default.VISIBLE)},n.prototype.getZIndex=function(){return this.get(o.default.Z_INDEX)},n.prototype.setExtent=function(t){this.set(o.default.EXTENT,t)},n.prototype.setMaxResolution=function(t){this.set(o.default.MAX_RESOLUTION,t)},n.prototype.setMinResolution=function(t){this.set(o.default.MIN_RESOLUTION,t)},n.prototype.setOpacity=function(t){this.set(o.default.OPACITY,t)},n.prototype.setVisible=function(t){this.set(o.default.VISIBLE,t)},n.prototype.setZIndex=function(t){this.set(o.default.Z_INDEX,t)},n}(e.default),u=s;exports.default=u;
},{"../util.js":"KniQ","../Object.js":"PhPh","./Property.js":"1Hbe","../math.js":"B96G","../obj.js":"mH6q"}],"iC8j":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={UNDEFINED:"undefined",LOADING:"loading",READY:"ready",ERROR:"error"};exports.default=e;
},{}],"q0nK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../util.js"),t=d(require("../Collection.js")),r=d(require("../CollectionEventType.js")),s=require("../Object.js"),i=d(require("../ObjectEventType.js")),n=require("../asserts.js"),a=require("../events.js"),o=d(require("../events/EventType.js")),l=require("../extent.js"),y=d(require("./Base.js")),h=require("../obj.js"),u=d(require("../source/State.js"));function d(e){return e&&e.__esModule?e:{default:e}}var c={LAYERS:"layers"},f=function(y){function d(e){var r=e||{},i=(0,h.assign)({},r);delete i.layers;var o=r.layers;y.call(this,i),this.layersListenerKeys_=[],this.listenerKeys_={},(0,a.listen)(this,(0,s.getChangeEventType)(c.LAYERS),this.handleLayersChanged_,this),o?Array.isArray(o)?o=new t.default(o.slice(),{unique:!0}):(0,n.assert)("function"==typeof o.getArray,43):o=new t.default(void 0,{unique:!0}),this.setLayers(o)}return y&&(d.__proto__=y),d.prototype=Object.create(y&&y.prototype),d.prototype.constructor=d,d.prototype.handleLayerChange_=function(){this.changed()},d.prototype.handleLayersChanged_=function(){this.layersListenerKeys_.forEach(a.unlistenByKey),this.layersListenerKeys_.length=0;var t=this.getLayers();for(var s in this.layersListenerKeys_.push((0,a.listen)(t,r.default.ADD,this.handleLayersAdd_,this),(0,a.listen)(t,r.default.REMOVE,this.handleLayersRemove_,this)),this.listenerKeys_)this.listenerKeys_[s].forEach(a.unlistenByKey);(0,h.clear)(this.listenerKeys_);for(var n=t.getArray(),l=0,y=n.length;l<y;l++){var u=n[l];this.listenerKeys_[(0,e.getUid)(u)]=[(0,a.listen)(u,i.default.PROPERTYCHANGE,this.handleLayerChange_,this),(0,a.listen)(u,o.default.CHANGE,this.handleLayerChange_,this)]}this.changed()},d.prototype.handleLayersAdd_=function(t){var r=t.element;this.listenerKeys_[(0,e.getUid)(r)]=[(0,a.listen)(r,i.default.PROPERTYCHANGE,this.handleLayerChange_,this),(0,a.listen)(r,o.default.CHANGE,this.handleLayerChange_,this)],this.changed()},d.prototype.handleLayersRemove_=function(t){var r=t.element,s=(0,e.getUid)(r);this.listenerKeys_[s].forEach(a.unlistenByKey),delete this.listenerKeys_[s],this.changed()},d.prototype.getLayers=function(){return this.get(c.LAYERS)},d.prototype.setLayers=function(e){this.set(c.LAYERS,e)},d.prototype.getLayersArray=function(e){var t=void 0!==e?e:[];return this.getLayers().forEach(function(e){e.getLayersArray(t)}),t},d.prototype.getLayerStatesArray=function(e){var t=void 0!==e?e:[],r=t.length;this.getLayers().forEach(function(e){e.getLayerStatesArray(t)});for(var s=this.getLayerState(),i=r,n=t.length;i<n;i++){var a=t[i];a.opacity*=s.opacity,a.visible=a.visible&&s.visible,a.maxResolution=Math.min(a.maxResolution,s.maxResolution),a.minResolution=Math.max(a.minResolution,s.minResolution),void 0!==s.extent&&(void 0!==a.extent?a.extent=(0,l.getIntersection)(a.extent,s.extent):a.extent=s.extent)}return t},d.prototype.getSourceState=function(){return u.default.READY},d}(y.default),p=f;exports.default=p;
},{"../util.js":"KniQ","../Collection.js":"FnDa","../CollectionEventType.js":"BTrx","../Object.js":"PhPh","../ObjectEventType.js":"zehl","../asserts.js":"fLG6","../events.js":"55Uq","../events/EventType.js":"C8cu","../extent.js":"QDir","./Base.js":"T6DQ","../obj.js":"mH6q","../source/State.js":"iC8j"}],"TAHd":[function(require,module,exports) {
"use strict";function r(r,e,t){return void 0===t&&(t=[0,0]),t[0]=r[0]+2*e,t[1]=r[1]+2*e,t}function e(r){return r[0]>0&&r[1]>0}function t(r,e,t){return void 0===t&&(t=[0,0]),t[0]=r[0]*e+.5|0,t[1]=r[1]*e+.5|0,t}function o(r,e){return Array.isArray(r)?r:(void 0===e?e=[r,r]:e[0]=e[1]=r,e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.buffer=r,exports.hasArea=e,exports.scale=t,exports.toSize=o;
},{}],"kRwz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./util.js"),t=A(require("./Collection.js")),i=A(require("./CollectionEventType.js")),r=A(require("./MapBrowserEvent.js")),n=A(require("./MapBrowserEventHandler.js")),s=A(require("./MapBrowserEventType.js")),o=A(require("./MapEvent.js")),a=A(require("./MapEventType.js")),l=A(require("./MapProperty.js")),h=A(require("./render/EventType.js")),d=P(require("./Object.js")),u=A(require("./ObjectEventType.js")),p=A(require("./TileQueue.js")),y=A(require("./View.js")),f=A(require("./ViewHint.js")),v=require("./asserts.js"),c=require("./dom.js"),_=require("./events.js"),g=require("./events/Event.js"),E=A(require("./events/EventType.js")),m=require("./extent.js"),T=require("./functions.js"),w=require("./has.js"),R=A(require("./layer/Group.js")),C=require("./size.js"),L=require("./structs/PriorityQueue.js"),S=require("./transform.js");function P(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,i):{};r.get||r.set?Object.defineProperty(t,i,r):t[i]=e[i]}return t.default=e,t}function A(e){return e&&e.__esModule?e:{default:e}}var x=function(y){function v(e){y.call(this);var r=I(e);this.maxTilesLoading_=void 0!==e.maxTilesLoading?e.maxTilesLoading:16,this.loadTilesWhileAnimating_=void 0!==e.loadTilesWhileAnimating&&e.loadTilesWhileAnimating,this.loadTilesWhileInteracting_=void 0!==e.loadTilesWhileInteracting&&e.loadTilesWhileInteracting,this.pixelRatio_=void 0!==e.pixelRatio?e.pixelRatio:w.DEVICE_PIXEL_RATIO,this.animationDelayKey_,this.animationDelay_=function(){this.animationDelayKey_=void 0,this.renderFrame_.call(this,Date.now())}.bind(this),this.coordinateToPixelTransform_=(0,S.create)(),this.pixelToCoordinateTransform_=(0,S.create)(),this.frameIndex_=0,this.frameState_=null,this.previousExtent_=null,this.viewPropertyListenerKey_=null,this.viewChangeListenerKey_=null,this.layerGroupPropertyListenerKeys_=null,this.viewport_=document.createElement("div"),this.viewport_.className="ol-viewport"+(w.TOUCH?" ol-touch":""),this.viewport_.style.position="relative",this.viewport_.style.overflow="hidden",this.viewport_.style.width="100%",this.viewport_.style.height="100%",this.viewport_.style.msTouchAction="none",this.viewport_.style.touchAction="none",this.overlayContainer_=document.createElement("div"),this.overlayContainer_.className="ol-overlaycontainer",this.viewport_.appendChild(this.overlayContainer_),this.overlayContainerStopEvent_=document.createElement("div"),this.overlayContainerStopEvent_.className="ol-overlaycontainer-stopevent";for(var o=[E.default.CLICK,E.default.DBLCLICK,E.default.MOUSEDOWN,E.default.TOUCHSTART,E.default.MSPOINTERDOWN,s.default.POINTERDOWN,E.default.MOUSEWHEEL,E.default.WHEEL],a=0,h=o.length;a<h;++a)(0,_.listen)(this.overlayContainerStopEvent_,o[a],g.stopPropagation);for(var u in this.viewport_.appendChild(this.overlayContainerStopEvent_),this.mapBrowserEventHandler_=new n.default(this,e.moveTolerance),s.default)(0,_.listen)(this.mapBrowserEventHandler_,s.default[u],this.handleMapBrowserEvent,this);this.keyboardEventTarget_=r.keyboardEventTarget,this.keyHandlerKeys_=null,(0,_.listen)(this.viewport_,E.default.CONTEXTMENU,this.handleBrowserEvent,this),(0,_.listen)(this.viewport_,E.default.WHEEL,this.handleBrowserEvent,this),(0,_.listen)(this.viewport_,E.default.MOUSEWHEEL,this.handleBrowserEvent,this),this.controls=r.controls||new t.default,this.interactions=r.interactions||new t.default,this.overlays_=r.overlays,this.overlayIdIndex_={},this.renderer_=this.createRenderer(),this.handleResize_,this.focus_=null,this.postRenderFunctions_=[],this.tileQueue_=new p.default(this.getTilePriority.bind(this),this.handleTileChange_.bind(this)),this.skippedFeatureUids_={},(0,_.listen)(this,(0,d.getChangeEventType)(l.default.LAYERGROUP),this.handleLayerGroupChanged_,this),(0,_.listen)(this,(0,d.getChangeEventType)(l.default.VIEW),this.handleViewChanged_,this),(0,_.listen)(this,(0,d.getChangeEventType)(l.default.SIZE),this.handleSizeChanged_,this),(0,_.listen)(this,(0,d.getChangeEventType)(l.default.TARGET),this.handleTargetChanged_,this),this.setProperties(r.values),this.controls.forEach(function(e){e.setMap(this)}.bind(this)),(0,_.listen)(this.controls,i.default.ADD,function(e){e.element.setMap(this)},this),(0,_.listen)(this.controls,i.default.REMOVE,function(e){e.element.setMap(null)},this),this.interactions.forEach(function(e){e.setMap(this)}.bind(this)),(0,_.listen)(this.interactions,i.default.ADD,function(e){e.element.setMap(this)},this),(0,_.listen)(this.interactions,i.default.REMOVE,function(e){e.element.setMap(null)},this),this.overlays_.forEach(this.addOverlayInternal_.bind(this)),(0,_.listen)(this.overlays_,i.default.ADD,function(e){this.addOverlayInternal_(e.element)},this),(0,_.listen)(this.overlays_,i.default.REMOVE,function(e){var t=e.element.getId();void 0!==t&&delete this.overlayIdIndex_[t.toString()],e.element.setMap(null)},this)}return y&&(v.__proto__=y),v.prototype=Object.create(y&&y.prototype),v.prototype.constructor=v,v.prototype.createRenderer=function(){throw new Error("Use a map type that has a createRenderer method")},v.prototype.addControl=function(e){this.getControls().push(e)},v.prototype.addInteraction=function(e){this.getInteractions().push(e)},v.prototype.addLayer=function(e){this.getLayerGroup().getLayers().push(e)},v.prototype.addOverlay=function(e){this.getOverlays().push(e)},v.prototype.addOverlayInternal_=function(e){var t=e.getId();void 0!==t&&(this.overlayIdIndex_[t.toString()]=e),e.setMap(this)},v.prototype.disposeInternal=function(){this.mapBrowserEventHandler_.dispose(),(0,_.unlisten)(this.viewport_,E.default.CONTEXTMENU,this.handleBrowserEvent,this),(0,_.unlisten)(this.viewport_,E.default.WHEEL,this.handleBrowserEvent,this),(0,_.unlisten)(this.viewport_,E.default.MOUSEWHEEL,this.handleBrowserEvent,this),void 0!==this.handleResize_&&(removeEventListener(E.default.RESIZE,this.handleResize_,!1),this.handleResize_=void 0),this.animationDelayKey_&&(cancelAnimationFrame(this.animationDelayKey_),this.animationDelayKey_=void 0),this.setTarget(null),y.prototype.disposeInternal.call(this)},v.prototype.forEachFeatureAtPixel=function(e,t,i){if(this.frameState_){var r=this.getCoordinateFromPixel(e),n=void 0!==(i=void 0!==i?i:{}).hitTolerance?i.hitTolerance*this.frameState_.pixelRatio:0,s=void 0!==i.layerFilter?i.layerFilter:T.TRUE;return this.renderer_.forEachFeatureAtCoordinate(r,this.frameState_,n,t,null,s,null)}},v.prototype.getFeaturesAtPixel=function(e,t){var i=null;return this.forEachFeatureAtPixel(e,function(e){i||(i=[]),i.push(e)},t),i},v.prototype.forEachLayerAtPixel=function(e,t,i){if(this.frameState_){var r=i||{},n=void 0!==r.hitTolerance?i.hitTolerance*this.frameState_.pixelRatio:0,s=r.layerFilter||T.TRUE;return this.renderer_.forEachLayerAtPixel(e,this.frameState_,n,t,null,s,null)}},v.prototype.hasFeatureAtPixel=function(e,t){if(!this.frameState_)return!1;var i=this.getCoordinateFromPixel(e),r=void 0!==(t=void 0!==t?t:{}).layerFilter?t.layerFilter:T.TRUE,n=void 0!==t.hitTolerance?t.hitTolerance*this.frameState_.pixelRatio:0;return this.renderer_.hasFeatureAtCoordinate(i,this.frameState_,n,r,null)},v.prototype.getEventCoordinate=function(e){return this.getCoordinateFromPixel(this.getEventPixel(e))},v.prototype.getEventPixel=function(e){var t=this.viewport_.getBoundingClientRect(),i="changedTouches"in e?e.changedTouches[0]:e;return[i.clientX-t.left,i.clientY-t.top]},v.prototype.getTarget=function(){return this.get(l.default.TARGET)},v.prototype.getTargetElement=function(){var e=this.getTarget();return void 0!==e?"string"==typeof e?document.getElementById(e):e:null},v.prototype.getCoordinateFromPixel=function(e){var t=this.frameState_;return t?(0,S.apply)(t.pixelToCoordinateTransform,e.slice()):null},v.prototype.getControls=function(){return this.controls},v.prototype.getOverlays=function(){return this.overlays_},v.prototype.getOverlayById=function(e){var t=this.overlayIdIndex_[e.toString()];return void 0!==t?t:null},v.prototype.getInteractions=function(){return this.interactions},v.prototype.getLayerGroup=function(){return this.get(l.default.LAYERGROUP)},v.prototype.getLayers=function(){return this.getLayerGroup().getLayers()},v.prototype.getPixelFromCoordinate=function(e){var t=this.frameState_;return t?(0,S.apply)(t.coordinateToPixelTransform,e.slice(0,2)):null},v.prototype.getRenderer=function(){return this.renderer_},v.prototype.getSize=function(){return this.get(l.default.SIZE)},v.prototype.getView=function(){return this.get(l.default.VIEW)},v.prototype.getViewport=function(){return this.viewport_},v.prototype.getOverlayContainer=function(){return this.overlayContainer_},v.prototype.getOverlayContainerStopEvent=function(){return this.overlayContainerStopEvent_},v.prototype.getTilePriority=function(e,t,i,r){var n=this.frameState_;if(!(n&&t in n.wantedTiles))return L.DROP;if(!n.wantedTiles[t][e.getKey()])return L.DROP;var s=i[0]-n.focus[0],o=i[1]-n.focus[1];return 65536*Math.log(r)+Math.sqrt(s*s+o*o)/r},v.prototype.handleBrowserEvent=function(e,t){var i=t||e.type,n=new r.default(i,this,e);this.handleMapBrowserEvent(n)},v.prototype.handleMapBrowserEvent=function(e){if(this.frameState_){this.focus_=e.coordinate,e.frameState=this.frameState_;var t=this.getInteractions().getArray();if(!1!==this.dispatchEvent(e))for(var i=t.length-1;i>=0;i--){var r=t[i];if(r.getActive())if(!r.handleEvent(e))break}}},v.prototype.handlePostRender=function(){var e=this.frameState_,t=this.tileQueue_;if(!t.isEmpty()){var i=this.maxTilesLoading_,r=i;if(e){var n=e.viewHints;n[f.default.ANIMATING]&&(i=this.loadTilesWhileAnimating_?8:0,r=2),n[f.default.INTERACTING]&&(i=this.loadTilesWhileInteracting_?8:0,r=2)}t.getTilesLoading()<i&&(t.reprioritize(),t.loadMoreTiles(i,r))}!e||!this.hasListener(h.default.RENDERCOMPLETE)||e.animate||this.tileQueue_.getTilesLoading()||F(this.getLayers().getArray())||this.renderer_.dispatchRenderEvent(h.default.RENDERCOMPLETE,e);for(var s=this.postRenderFunctions_,o=0,a=s.length;o<a;++o)s[o](this,e);s.length=0},v.prototype.handleSizeChanged_=function(){this.render()},v.prototype.handleTargetChanged_=function(){var e;if(this.getTarget()&&(e=this.getTargetElement()),this.keyHandlerKeys_){for(var t=0,i=this.keyHandlerKeys_.length;t<i;++t)(0,_.unlistenByKey)(this.keyHandlerKeys_[t]);this.keyHandlerKeys_=null}if(e){e.appendChild(this.viewport_);var r=this.keyboardEventTarget_?this.keyboardEventTarget_:e;this.keyHandlerKeys_=[(0,_.listen)(r,E.default.KEYDOWN,this.handleBrowserEvent,this),(0,_.listen)(r,E.default.KEYPRESS,this.handleBrowserEvent,this)],this.handleResize_||(this.handleResize_=this.updateSize.bind(this),addEventListener(E.default.RESIZE,this.handleResize_,!1))}else this.renderer_.removeLayerRenderers(),(0,c.removeNode)(this.viewport_),void 0!==this.handleResize_&&(removeEventListener(E.default.RESIZE,this.handleResize_,!1),this.handleResize_=void 0);this.updateSize()},v.prototype.handleTileChange_=function(){this.render()},v.prototype.handleViewPropertyChanged_=function(){this.render()},v.prototype.handleViewChanged_=function(){this.viewPropertyListenerKey_&&((0,_.unlistenByKey)(this.viewPropertyListenerKey_),this.viewPropertyListenerKey_=null),this.viewChangeListenerKey_&&((0,_.unlistenByKey)(this.viewChangeListenerKey_),this.viewChangeListenerKey_=null);var t=this.getView();t&&(this.viewport_.setAttribute("data-view",(0,e.getUid)(t)),this.viewPropertyListenerKey_=(0,_.listen)(t,u.default.PROPERTYCHANGE,this.handleViewPropertyChanged_,this),this.viewChangeListenerKey_=(0,_.listen)(t,E.default.CHANGE,this.handleViewPropertyChanged_,this)),this.render()},v.prototype.handleLayerGroupChanged_=function(){this.layerGroupPropertyListenerKeys_&&(this.layerGroupPropertyListenerKeys_.forEach(_.unlistenByKey),this.layerGroupPropertyListenerKeys_=null);var e=this.getLayerGroup();e&&(this.layerGroupPropertyListenerKeys_=[(0,_.listen)(e,u.default.PROPERTYCHANGE,this.render,this),(0,_.listen)(e,E.default.CHANGE,this.render,this)]),this.render()},v.prototype.isRendered=function(){return!!this.frameState_},v.prototype.renderSync=function(){this.animationDelayKey_&&cancelAnimationFrame(this.animationDelayKey_),this.animationDelay_()},v.prototype.render=function(){void 0===this.animationDelayKey_&&(this.animationDelayKey_=requestAnimationFrame(this.animationDelay_))},v.prototype.removeControl=function(e){return this.getControls().remove(e)},v.prototype.removeInteraction=function(e){return this.getInteractions().remove(e)},v.prototype.removeLayer=function(e){return this.getLayerGroup().getLayers().remove(e)},v.prototype.removeOverlay=function(e){return this.getOverlays().remove(e)},v.prototype.renderFrame_=function(t){var i,r=this.getSize(),n=this.getView(),s=(0,m.createEmpty)(),l=this.frameState_,h=null;if(void 0!==r&&(0,C.hasArea)(r)&&n&&n.isDef()){for(var d=n.getHints(this.frameState_?this.frameState_.viewHints:void 0),u=this.getLayerGroup().getLayerStatesArray(),p={},y=0,v=u.length;y<v;++y)p[(0,e.getUid)(u[y].layer)]=u[y];i=n.getState(this.pixelRatio_),h={animate:!1,coordinateToPixelTransform:this.coordinateToPixelTransform_,extent:s,focus:this.focus_?this.focus_:i.center,index:this.frameIndex_++,layerStates:p,layerStatesArray:u,pixelRatio:this.pixelRatio_,pixelToCoordinateTransform:this.pixelToCoordinateTransform_,postRenderFunctions:[],size:r,skippedFeatureUids:this.skippedFeatureUids_,tileQueue:this.tileQueue_,time:t,usedTiles:{},viewState:i,viewHints:d,wantedTiles:{}}}if(h&&(h.extent=(0,m.getForViewAndSize)(i.center,i.resolution,i.rotation,h.size,s)),this.frameState_=h,this.renderer_.renderFrame(h),h){if(h.animate&&this.render(),Array.prototype.push.apply(this.postRenderFunctions_,h.postRenderFunctions),l)(!this.previousExtent_||!(0,m.isEmpty)(this.previousExtent_)&&!(0,m.equals)(h.extent,this.previousExtent_))&&(this.dispatchEvent(new o.default(a.default.MOVESTART,this,l)),this.previousExtent_=(0,m.createOrUpdateEmpty)(this.previousExtent_));this.previousExtent_&&!h.viewHints[f.default.ANIMATING]&&!h.viewHints[f.default.INTERACTING]&&!(0,m.equals)(h.extent,this.previousExtent_)&&(this.dispatchEvent(new o.default(a.default.MOVEEND,this,h)),(0,m.clone)(h.extent,this.previousExtent_))}this.dispatchEvent(new o.default(a.default.POSTRENDER,this,h)),setTimeout(this.handlePostRender.bind(this),0)},v.prototype.setLayerGroup=function(e){this.set(l.default.LAYERGROUP,e)},v.prototype.setSize=function(e){this.set(l.default.SIZE,e)},v.prototype.setTarget=function(e){this.set(l.default.TARGET,e)},v.prototype.setView=function(e){this.set(l.default.VIEW,e)},v.prototype.skipFeature=function(t){this.skippedFeatureUids_[(0,e.getUid)(t)]=!0,this.render()},v.prototype.updateSize=function(){var e=this.getTargetElement();if(e){var t=getComputedStyle(e);this.setSize([e.offsetWidth-parseFloat(t.borderLeftWidth)-parseFloat(t.paddingLeft)-parseFloat(t.paddingRight)-parseFloat(t.borderRightWidth),e.offsetHeight-parseFloat(t.borderTopWidth)-parseFloat(t.paddingTop)-parseFloat(t.paddingBottom)-parseFloat(t.borderBottomWidth)])}else this.setSize(void 0)},v.prototype.unskipFeature=function(t){delete this.skippedFeatureUids_[(0,e.getUid)(t)],this.render()},v}(d.default);function I(e){var i=null;void 0!==e.keyboardEventTarget&&(i="string"==typeof e.keyboardEventTarget?document.getElementById(e.keyboardEventTarget):e.keyboardEventTarget);var r,n,s,o={},a=e.layers&&"function"==typeof e.layers.getLayers?e.layers:new R.default({layers:e.layers});return o[l.default.LAYERGROUP]=a,o[l.default.TARGET]=e.target,o[l.default.VIEW]=void 0!==e.view?e.view:new y.default,void 0!==e.controls&&(Array.isArray(e.controls)?r=new t.default(e.controls.slice()):((0,v.assert)("function"==typeof e.controls.getArray,47),r=e.controls)),void 0!==e.interactions&&(Array.isArray(e.interactions)?n=new t.default(e.interactions.slice()):((0,v.assert)("function"==typeof e.interactions.getArray,48),n=e.interactions)),void 0!==e.overlays?Array.isArray(e.overlays)?s=new t.default(e.overlays.slice()):((0,v.assert)("function"==typeof e.overlays.getArray,49),s=e.overlays):s=new t.default,{controls:r,interactions:n,keyboardEventTarget:i,overlays:s,values:o}}var O=x;function F(e){for(var t=0,i=e.length;t<i;++t){var r=e[t];if("function"==typeof r.getLayers)return F(r.getLayers().getArray());var n=r.getSource();if(n&&n.loading)return!0}return!1}exports.default=O;
},{"./util.js":"KniQ","./Collection.js":"FnDa","./CollectionEventType.js":"BTrx","./MapBrowserEvent.js":"HMLS","./MapBrowserEventHandler.js":"ohHk","./MapBrowserEventType.js":"Yh/D","./MapEvent.js":"vFcA","./MapEventType.js":"xLGm","./MapProperty.js":"zlNQ","./render/EventType.js":"z39m","./Object.js":"PhPh","./ObjectEventType.js":"zehl","./TileQueue.js":"0tHO","./View.js":"hNqE","./ViewHint.js":"cuLW","./asserts.js":"fLG6","./dom.js":"Xno5","./events.js":"55Uq","./events/Event.js":"fKNg","./events/EventType.js":"C8cu","./extent.js":"QDir","./functions.js":"RgA2","./has.js":"f3Nv","./layer/Group.js":"q0nK","./size.js":"TAHd","./structs/PriorityQueue.js":"RQLY","./transform.js":"P4eA"}],"+/xx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../functions.js"),t=i(require("../MapEventType.js")),r=i(require("../Object.js")),s=require("../dom.js"),n=require("../events.js");function i(e){return e&&e.__esModule?e:{default:e}}var o=function(r){function i(t){r.call(this),this.element=t.element?t.element:null,this.target_=null,this.map_=null,this.listenerKeys=[],this.render=t.render?t.render:e.VOID,t.target&&this.setTarget(t.target)}return r&&(i.__proto__=r),i.prototype=Object.create(r&&r.prototype),i.prototype.constructor=i,i.prototype.disposeInternal=function(){(0,s.removeNode)(this.element),r.prototype.disposeInternal.call(this)},i.prototype.getMap=function(){return this.map_},i.prototype.setMap=function(r){this.map_&&(0,s.removeNode)(this.element);for(var i=0,o=this.listenerKeys.length;i<o;++i)(0,n.unlistenByKey)(this.listenerKeys[i]);(this.listenerKeys.length=0,this.map_=r,this.map_)&&((this.target_?this.target_:r.getOverlayContainerStopEvent()).appendChild(this.element),this.render!==e.VOID&&this.listenerKeys.push((0,n.listen)(r,t.default.POSTRENDER,this.render,this)),r.render())},i.prototype.setTarget=function(e){this.target_="string"==typeof e?document.getElementById(e):e},i}(r.default),l=o;exports.default=l;
},{"../functions.js":"RgA2","../MapEventType.js":"xLGm","../Object.js":"PhPh","../dom.js":"Xno5","../events.js":"55Uq"}],"HgMV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getFontFamilies=exports.CLASS_COLLAPSED=exports.CLASS_CONTROL=exports.CLASS_UNSUPPORTED=exports.CLASS_UNSELECTABLE=exports.CLASS_SELECTABLE=exports.CLASS_HIDDEN=void 0;var e="ol-hidden";exports.CLASS_HIDDEN=e;var t="ol-selectable";exports.CLASS_SELECTABLE=t;var o="ol-unselectable";exports.CLASS_UNSELECTABLE=o;var r="ol-unsupported";exports.CLASS_UNSUPPORTED=r;var S="ol-control";exports.CLASS_CONTROL=S;var s="ol-collapsed";exports.CLASS_COLLAPSED=s;var L=function(){var e,t={};return function(o){if(e||(e=document.createElement("div").style),!(o in t)){e.font=o;var r=e.fontFamily;if(e.font="",!r)return null;t[o]=r.split(/,\s?/)}return t[o]}}();exports.getFontFamilies=L;
},{}],"GCgv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.visibleAtResolution=l,exports.default=void 0;var e=require("../events.js"),t=h(require("../events/EventType.js")),r=require("../util.js"),s=require("../Object.js"),n=h(require("./Base.js")),o=h(require("./Property.js")),a=require("../obj.js"),i=h(require("../render/EventType.js")),u=h(require("../source/State.js"));function h(e){return e&&e.__esModule?e:{default:e}}var p=function(n){function h(t){var r=(0,a.assign)({},t);delete r.source,n.call(this,r),this.mapPrecomposeKey_=null,this.mapRenderKey_=null,this.sourceChangeKey_=null,t.map&&this.setMap(t.map),(0,e.listen)(this,(0,s.getChangeEventType)(o.default.SOURCE),this.handleSourcePropertyChange_,this);var i=t.source?t.source:null;this.setSource(i)}return n&&(h.__proto__=n),h.prototype=Object.create(n&&n.prototype),h.prototype.constructor=h,h.prototype.getLayersArray=function(e){var t=e||[];return t.push(this),t},h.prototype.getLayerStatesArray=function(e){var t=e||[];return t.push(this.getLayerState()),t},h.prototype.getSource=function(){return this.get(o.default.SOURCE)||null},h.prototype.getSourceState=function(){var e=this.getSource();return e?e.getState():u.default.UNDEFINED},h.prototype.handleSourceChange_=function(){this.changed()},h.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&((0,e.unlistenByKey)(this.sourceChangeKey_),this.sourceChangeKey_=null);var r=this.getSource();r&&(this.sourceChangeKey_=(0,e.listen)(r,t.default.CHANGE,this.handleSourceChange_,this)),this.changed()},h.prototype.setMap=function(s){this.mapPrecomposeKey_&&((0,e.unlistenByKey)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),s||this.changed(),this.mapRenderKey_&&((0,e.unlistenByKey)(this.mapRenderKey_),this.mapRenderKey_=null),s&&(this.mapPrecomposeKey_=(0,e.listen)(s,i.default.PRECOMPOSE,function(e){var t=e,s=this.getLayerState();s.managed=!1,void 0===this.getZIndex()&&(s.zIndex=1/0),t.frameState.layerStatesArray.push(s),t.frameState.layerStates[(0,r.getUid)(this)]=s},this),this.mapRenderKey_=(0,e.listen)(this,t.default.CHANGE,s.render,s),this.changed())},h.prototype.setSource=function(e){this.set(o.default.SOURCE,e)},h}(n.default);function l(e,t){return e.visible&&t>=e.minResolution&&t<e.maxResolution}var c=p;exports.default=c;
},{"../events.js":"55Uq","../events/EventType.js":"C8cu","../util.js":"KniQ","../Object.js":"PhPh","./Base.js":"T6DQ","./Property.js":"1Hbe","../obj.js":"mH6q","../render/EventType.js":"z39m","../source/State.js":"iC8j"}],"Q4Cf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.render=p,exports.default=void 0;var e=require("../array.js"),t=a(require("./Control.js")),l=require("../css.js"),i=require("../dom.js"),s=require("../events.js"),o=a(require("../events/EventType.js")),r=require("../layer/Layer.js");function a(e){return e&&e.__esModule?e:{default:e}}var n=function(t){function a(e){var i=e||{};t.call(this,{element:document.createElement("div"),render:i.render||p,target:i.target}),this.ulElement_=document.createElement("ul"),this.collapsed_=void 0===i.collapsed||i.collapsed,this.overrideCollapsible_=void 0!==i.collapsible,this.collapsible_=void 0===i.collapsible||i.collapsible,this.collapsible_||(this.collapsed_=!1);var r=void 0!==i.className?i.className:"ol-attribution",a=void 0!==i.tipLabel?i.tipLabel:"Attributions",n=void 0!==i.collapseLabel?i.collapseLabel:"»";"string"==typeof n?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=n):this.collapseLabel_=n;var c=void 0!==i.label?i.label:"i";"string"==typeof c?(this.label_=document.createElement("span"),this.label_.textContent=c):this.label_=c;var d=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,h=document.createElement("button");h.setAttribute("type","button"),h.title=a,h.appendChild(d),(0,s.listen)(h,o.default.CLICK,this.handleClick_,this);var u=r+" "+l.CLASS_UNSELECTABLE+" "+l.CLASS_CONTROL+(this.collapsed_&&this.collapsible_?" "+l.CLASS_COLLAPSED:"")+(this.collapsible_?"":" ol-uncollapsible"),_=this.element;_.className=u,_.appendChild(this.ulElement_),_.appendChild(h),this.renderedAttributions_=[],this.renderedVisible_=!0}return t&&(a.__proto__=t),a.prototype=Object.create(t&&t.prototype),a.prototype.constructor=a,a.prototype.collectSourceAttributions_=function(e){for(var t={},l=[],i=e.layerStatesArray,s=e.viewState.resolution,o=0,a=i.length;o<a;++o){var n=i[o];if((0,r.visibleAtResolution)(n,s)){var p=n.layer.getSource();if(p){var c=p.getAttributions();if(c){var d=c(e);if(d)if(this.overrideCollapsible_||!1!==p.getAttributionsCollapsible()||this.setCollapsible(!1),Array.isArray(d))for(var h=0,u=d.length;h<u;++h)d[h]in t||(l.push(d[h]),t[d[h]]=!0);else d in t||(l.push(d),t[d]=!0)}}}}return l},a.prototype.updateElement_=function(t){if(t){var l=this.collectSourceAttributions_(t),s=l.length>0;if(this.renderedVisible_!=s&&(this.element.style.display=s?"":"none",this.renderedVisible_=s),!(0,e.equals)(l,this.renderedAttributions_)){(0,i.removeChildren)(this.ulElement_);for(var o=0,r=l.length;o<r;++o){var a=document.createElement("li");a.innerHTML=l[o],this.ulElement_.appendChild(a)}this.renderedAttributions_=l}}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},a.prototype.handleClick_=function(e){e.preventDefault(),this.handleToggle_()},a.prototype.handleToggle_=function(){this.element.classList.toggle(l.CLASS_COLLAPSED),this.collapsed_?(0,i.replaceNode)(this.collapseLabel_,this.label_):(0,i.replaceNode)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_},a.prototype.getCollapsible=function(){return this.collapsible_},a.prototype.setCollapsible=function(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),!e&&this.collapsed_&&this.handleToggle_())},a.prototype.setCollapsed=function(e){this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()},a.prototype.getCollapsed=function(){return this.collapsed_},a}(t.default);function p(e){this.updateElement_(e.frameState)}var c=n;exports.default=c;
},{"../array.js":"luEr","./Control.js":"+/xx","../css.js":"HgMV","../dom.js":"Xno5","../events.js":"55Uq","../events/EventType.js":"C8cu","../layer/Layer.js":"GCgv"}],"sCgw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.render=l,exports.default=void 0;var t=r(require("./Control.js")),e=require("../css.js"),s=require("../easing.js"),a=require("../events.js"),i=r(require("../events/EventType.js"));function r(t){return t&&t.__esModule?t:{default:t}}var o=function(t){function r(s){var r=s||{};t.call(this,{element:document.createElement("div"),render:r.render||l,target:r.target});var o=void 0!==r.className?r.className:"ol-rotate",n=void 0!==r.label?r.label:"⇧";this.label_=null,"string"==typeof n?(this.label_=document.createElement("span"),this.label_.className="ol-compass",this.label_.textContent=n):(this.label_=n,this.label_.classList.add("ol-compass"));var d=r.tipLabel?r.tipLabel:"Reset rotation",h=document.createElement("button");h.className=o+"-reset",h.setAttribute("type","button"),h.title=d,h.appendChild(this.label_),(0,a.listen)(h,i.default.CLICK,this.handleClick_,this);var u=o+" "+e.CLASS_UNSELECTABLE+" "+e.CLASS_CONTROL,_=this.element;_.className=u,_.appendChild(h),this.callResetNorth_=r.resetNorth?r.resetNorth:void 0,this.duration_=void 0!==r.duration?r.duration:250,this.autoHide_=void 0===r.autoHide||r.autoHide,this.rotation_=void 0,this.autoHide_&&this.element.classList.add(e.CLASS_HIDDEN)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.handleClick_=function(t){t.preventDefault(),void 0!==this.callResetNorth_?this.callResetNorth_():this.resetNorth_()},r.prototype.resetNorth_=function(){var t=this.getMap().getView();t&&void 0!==t.getRotation()&&(this.duration_>0?t.animate({rotation:0,duration:this.duration_,easing:s.easeOut}):t.setRotation(0))},r}(t.default);function l(t){var s=t.frameState;if(s){var a=s.viewState.rotation;if(a!=this.rotation_){var i="rotate("+a+"rad)";if(this.autoHide_){var r=this.element.classList.contains(e.CLASS_HIDDEN);r||0!==a?r&&0!==a&&this.element.classList.remove(e.CLASS_HIDDEN):this.element.classList.add(e.CLASS_HIDDEN)}this.label_.style.msTransform=i,this.label_.style.webkitTransform=i,this.label_.style.transform=i}this.rotation_=a}}var n=o;exports.default=n;
},{"./Control.js":"+/xx","../css.js":"HgMV","../easing.js":"IeCz","../events.js":"55Uq","../events/EventType.js":"C8cu"}],"L3+c":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../events.js"),t=a(require("../events/EventType.js")),o=a(require("./Control.js")),i=require("../css.js"),n=require("../easing.js");function a(e){return e&&e.__esModule?e:{default:e}}var r=function(o){function a(n){var a=n||{};o.call(this,{element:document.createElement("div"),target:a.target});var r=void 0!==a.className?a.className:"ol-zoom",l=void 0!==a.delta?a.delta:1,s=void 0!==a.zoomInLabel?a.zoomInLabel:"+",u=void 0!==a.zoomOutLabel?a.zoomOutLabel:"−",d=void 0!==a.zoomInTipLabel?a.zoomInTipLabel:"Zoom in",c=void 0!==a.zoomOutTipLabel?a.zoomOutTipLabel:"Zoom out",p=document.createElement("button");p.className=r+"-in",p.setAttribute("type","button"),p.title=d,p.appendChild("string"==typeof s?document.createTextNode(s):s),(0,e.listen)(p,t.default.CLICK,this.handleClick_.bind(this,l));var m=document.createElement("button");m.className=r+"-out",m.setAttribute("type","button"),m.title=c,m.appendChild("string"==typeof u?document.createTextNode(u):u),(0,e.listen)(m,t.default.CLICK,this.handleClick_.bind(this,-l));var v=r+" "+i.CLASS_UNSELECTABLE+" "+i.CLASS_CONTROL,b=this.element;b.className=v,b.appendChild(p),b.appendChild(m),this.duration_=void 0!==a.duration?a.duration:250}return o&&(a.__proto__=o),a.prototype=Object.create(o&&o.prototype),a.prototype.constructor=a,a.prototype.handleClick_=function(e,t){t.preventDefault(),this.zoomByDelta_(e)},a.prototype.zoomByDelta_=function(e){var t=this.getMap().getView();if(t){var o=t.getResolution();if(o){var i=t.constrainResolution(o,e);this.duration_>0?(t.getAnimating()&&t.cancelAnimations(),t.animate({resolution:i,duration:this.duration_,easing:n.easeOut})):t.setResolution(i)}}},a}(o.default),l=r;exports.default=l;
},{"../events.js":"55Uq","../events/EventType.js":"C8cu","./Control.js":"+/xx","../css.js":"HgMV","../easing.js":"IeCz"}],"uzb+":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaults=i;var t=u(require("../Collection.js")),e=u(require("./Attribution.js")),o=u(require("./Rotate.js")),r=u(require("./Zoom.js"));function u(t){return t&&t.__esModule?t:{default:t}}function i(u){var i=u||{},n=new t.default;return(void 0===i.zoom||i.zoom)&&n.push(new r.default(i.zoomOptions)),(void 0===i.rotate||i.rotate)&&n.push(new o.default(i.rotateOptions)),(void 0===i.attribution||i.attribution)&&n.push(new e.default(i.attributionOptions)),n}
},{"../Collection.js":"FnDa","./Attribution.js":"Q4Cf","./Rotate.js":"sCgw","./Zoom.js":"L3+c"}],"caOi":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={ACTIVE:"active"};exports.default=e;
},{}],"jB2p":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.pan=a,exports.rotate=s,exports.rotateWithoutConstraints=u,exports.zoom=c,exports.zoomByDelta=l,exports.zoomWithoutConstraints=p,exports.default=void 0;var t=r(require("../Object.js")),e=require("../easing.js"),o=r(require("./Property.js")),n=require("../math.js");function r(t){return t&&t.__esModule?t:{default:t}}var i=function(t){function e(e){t.call(this),e.handleEvent&&(this.handleEvent=e.handleEvent),this.map_=null,this.setActive(!0)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getActive=function(){return this.get(o.default.ACTIVE)},e.prototype.getMap=function(){return this.map_},e.prototype.handleEvent=function(t){return!0},e.prototype.setActive=function(t){this.set(o.default.ACTIVE,t)},e.prototype.setMap=function(t){this.map_=t},e}(t.default);function a(t,o,n){var r=t.getCenter();if(r){var i=t.constrainCenter([r[0]+o[0],r[1]+o[1]]);n?t.animate({duration:n,easing:e.linear,center:i}):t.setCenter(i)}}function s(t,e,o,n){e=t.constrainRotation(e,0),u(t,e,o,n)}function u(t,o,n,r){if(void 0!==o){var i=t.getRotation(),a=t.getCenter();void 0!==i&&a&&r>0?t.animate({rotation:o,anchor:n,duration:r,easing:e.easeOut}):t.rotate(o,n)}}function c(t,e,o,n,r){e=t.constrainResolution(e,0,r),p(t,e,o,n)}function l(t,e,o,r){var i=t.getResolution(),a=t.constrainResolution(i,e,0);if(void 0!==a){var s=t.getResolutions();a=(0,n.clamp)(a,t.getMinResolution()||s[s.length-1],t.getMaxResolution()||s[0])}if(o&&void 0!==a&&a!==i){var u=t.getCenter(),c=t.calculateCenterZoom(a,o);c=t.constrainCenter(c),o=[(a*u[0]-i*c[0])/(a-i),(a*u[1]-i*c[1])/(a-i)]}p(t,a,o,r)}function p(t,o,n,r){if(o){var i=t.getResolution(),a=t.getCenter();if(void 0!==i&&a&&o!==i&&r)t.animate({resolution:o,anchor:n,duration:r,easing:e.easeOut});else{if(n){var s=t.calculateCenterZoom(o,n);t.setCenter(s)}t.setResolution(o)}}}var f=i;exports.default=f;
},{"../Object.js":"PhPh","../easing.js":"IeCz","./Property.js":"caOi","../math.js":"B96G"}],"2NSa":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=o(require("../MapBrowserEventType.js")),e=r(require("./Interaction.js"));function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};o.get||o.set?Object.defineProperty(e,r,o):e[r]=t[r]}return e.default=t,e}function o(t){return t&&t.__esModule?t:{default:t}}var a=function(t){function e(e){t.call(this,{handleEvent:n});var r=e||{};this.delta_=r.delta?r.delta:1,this.duration_=void 0!==r.duration?r.duration:250}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(e.default);function n(r){var o=!1;if(r.type==t.default.DBLCLICK){var a=r.originalEvent,n=r.map,i=r.coordinate,u=a.shiftKey?-this.delta_:this.delta_,d=n.getView();(0,e.zoomByDelta)(d,u,i,this.duration_),r.preventDefault(),o=!0}return!o}var i=a;exports.default=i;
},{"../MapBrowserEventType.js":"Yh/D","./Interaction.js":"jB2p"}],"YcID":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.primaryAction=exports.mouseOnly=exports.targetNotEditable=exports.shiftKeyOnly=exports.platformModifierKeyOnly=exports.noModifierKeys=exports.doubleClick=exports.singleClick=exports.pointerMove=exports.never=exports.mouseActionButton=exports.click=exports.always=exports.focus=exports.altShiftKeysOnly=exports.altKeyOnly=void 0;var e=n(require("../MapBrowserEventType.js")),t=require("../asserts.js"),r=require("../functions.js"),o=require("../has.js");function n(e){return e&&e.__esModule?e:{default:e}}var i=function(e){var t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey};exports.altKeyOnly=i;var a=function(e){var t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey};exports.altShiftKeysOnly=a;var s=function(e){return e.target.getTargetElement()===document.activeElement};exports.focus=s;var l=r.TRUE;exports.always=l;var u=function(t){return t.type==e.default.CLICK};exports.click=u;var y=function(e){var t=e.originalEvent;return 0==t.button&&!(o.WEBKIT&&o.MAC&&t.ctrlKey)};exports.mouseActionButton=y;var p=r.FALSE;exports.never=p;var v=function(e){return"pointermove"==e.type};exports.pointerMove=v;var c=function(t){return t.type==e.default.SINGLECLICK};exports.singleClick=c;var f=function(t){return t.type==e.default.DBLCLICK};exports.doubleClick=f;var K=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey};exports.noModifierKeys=K;var x=function(e){var t=e.originalEvent;return!t.altKey&&(o.MAC?t.metaKey:t.ctrlKey)&&!t.shiftKey};exports.platformModifierKeyOnly=x;var E=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey};exports.shiftKeyOnly=E;var m=function(e){var t=e.originalEvent.target.tagName;return"INPUT"!==t&&"SELECT"!==t&&"TEXTAREA"!==t};exports.targetNotEditable=m;var d=function(e){var r=e.pointerEvent;return(0,t.assert)(void 0!==r,56),"mouse"==r.pointerType};exports.mouseOnly=d;var g=function(e){var r=e.pointerEvent;return(0,t.assert)(void 0!==r,56),r.isPrimary&&0===r.button};exports.primaryAction=g;
},{"../MapBrowserEventType.js":"Yh/D","../asserts.js":"fLG6","../functions.js":"RgA2","../has.js":"f3Nv"}],"dnA2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.centroid=a,exports.default=void 0;var e=r(require("../MapBrowserEventType.js")),t=r(require("./Interaction.js")),n=require("../obj.js");function r(e){return e&&e.__esModule?e:{default:e}}var o=function(t){function r(e){var n=e||{};t.call(this,n),n.handleDownEvent&&(this.handleDownEvent=n.handleDownEvent),n.handleDragEvent&&(this.handleDragEvent=n.handleDragEvent),n.handleMoveEvent&&(this.handleMoveEvent=n.handleMoveEvent),n.handleUpEvent&&(this.handleUpEvent=n.handleUpEvent),n.stopDown&&(this.stopDown=n.stopDown),this.handlingDownUpSequence=!1,this.trackedPointers_={},this.targetPointers=[]}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.handleDownEvent=function(e){return!1},r.prototype.handleDragEvent=function(e){},r.prototype.handleEvent=function(t){if(!t.pointerEvent)return!0;var n=!1;if(this.updateTrackedPointers_(t),this.handlingDownUpSequence){if(t.type==e.default.POINTERDRAG)this.handleDragEvent(t);else if(t.type==e.default.POINTERUP){var r=this.handleUpEvent(t);this.handlingDownUpSequence=r&&this.targetPointers.length>0}}else if(t.type==e.default.POINTERDOWN){var o=this.handleDownEvent(t);o&&t.preventDefault(),this.handlingDownUpSequence=o,n=this.stopDown(o)}else t.type==e.default.POINTERMOVE&&this.handleMoveEvent(t);return!n},r.prototype.handleMoveEvent=function(e){},r.prototype.handleUpEvent=function(e){return!1},r.prototype.stopDown=function(e){return e},r.prototype.updateTrackedPointers_=function(t){if(i(t)){var r=t.pointerEvent,o=r.pointerId.toString();t.type==e.default.POINTERUP?delete this.trackedPointers_[o]:t.type==e.default.POINTERDOWN?this.trackedPointers_[o]=r:o in this.trackedPointers_&&(this.trackedPointers_[o]=r),this.targetPointers=(0,n.getValues)(this.trackedPointers_)}},r}(t.default);function a(e){for(var t=e.length,n=0,r=0,o=0;o<t;o++)n+=e[o].clientX,r+=e[o].clientY;return[n/t,r/t]}function i(t){var n=t.type;return n===e.default.POINTERDOWN||n===e.default.POINTERDRAG||n===e.default.POINTERUP}var s=o;exports.default=s;
},{"../MapBrowserEventType.js":"Yh/D","./Interaction.js":"jB2p","../obj.js":"mH6q"}],"N4gU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=a(require("../ViewHint.js")),e=require("../coordinate.js"),i=require("../easing.js"),n=require("../events/condition.js"),r=require("../functions.js"),o=s(require("./Pointer.js"));function s(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};n.get||n.set?Object.defineProperty(e,i,n):e[i]=t[i]}return e.default=t,e}function a(t){return t&&t.__esModule?t:{default:t}}var c=function(s){function a(t){s.call(this,{stopDown:r.FALSE});var e=t||{};this.kinetic_=e.kinetic,this.lastCentroid=null,this.lastPointersCount_,this.panning_=!1,this.condition_=e.condition?e.condition:n.noModifierKeys,this.noKinetic_=!1}return s&&(a.__proto__=s),a.prototype=Object.create(s&&s.prototype),a.prototype.constructor=a,a.prototype.handleDragEvent=function(i){this.panning_||(this.panning_=!0,this.getMap().getView().setHint(t.default.INTERACTING,1));var n=this.targetPointers,r=(0,o.centroid)(n);if(n.length==this.lastPointersCount_){if(this.kinetic_&&this.kinetic_.update(r[0],r[1]),this.lastCentroid){var s=this.lastCentroid[0]-r[0],a=r[1]-this.lastCentroid[1],c=i.map.getView(),h=[s,a];(0,e.scale)(h,c.getResolution()),(0,e.rotate)(h,c.getRotation()),(0,e.add)(h,c.getCenter()),h=c.constrainCenter(h),c.setCenter(h)}}else this.kinetic_&&this.kinetic_.begin();this.lastCentroid=r,this.lastPointersCount_=n.length},a.prototype.handleUpEvent=function(e){var n=e.map,r=n.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var o=this.kinetic_.getDistance(),s=this.kinetic_.getAngle(),a=r.getCenter(),c=n.getPixelFromCoordinate(a),h=n.getCoordinateFromPixel([c[0]-o*Math.cos(s),c[1]-o*Math.sin(s)]);r.animate({center:r.constrainCenter(h),duration:500,easing:i.easeOut})}return this.panning_&&(this.panning_=!1,r.setHint(t.default.INTERACTING,-1)),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},a.prototype.handleDownEvent=function(t){if(this.targetPointers.length>0&&this.condition_(t)){var e=t.map.getView();return this.lastCentroid=null,e.getAnimating()&&e.setCenter(t.frameState.viewState.center),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=this.targetPointers.length>1,!0}return!1},a}(o.default),h=c;exports.default=h;
},{"../ViewHint.js":"cuLW","../coordinate.js":"nGsj","../easing.js":"IeCz","../events/condition.js":"YcID","../functions.js":"RgA2","./Pointer.js":"dnA2"}],"PgBj":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../rotationconstraint.js"),e=a(require("../ViewHint.js")),o=require("../events/condition.js"),n=require("../functions.js"),i=require("./Interaction.js"),r=a(require("./Pointer.js"));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(r){function a(t){var e=t||{};r.call(this,{stopDown:n.FALSE}),this.condition_=e.condition?e.condition:o.altShiftKeysOnly,this.lastAngle_=void 0,this.duration_=void 0!==e.duration?e.duration:250}return r&&(a.__proto__=r),a.prototype=Object.create(r&&r.prototype),a.prototype.constructor=a,a.prototype.handleDragEvent=function(e){if((0,o.mouseOnly)(e)){var n=e.map,r=n.getView();if(r.getConstraints().rotation!==t.disable){var a=n.getSize(),s=e.pixel,u=Math.atan2(a[1]/2-s[1],s[0]-a[0]/2);if(void 0!==this.lastAngle_){var l=u-this.lastAngle_,d=r.getRotation();(0,i.rotateWithoutConstraints)(r,d-l)}this.lastAngle_=u}}},a.prototype.handleUpEvent=function(t){if(!(0,o.mouseOnly)(t))return!0;var n=t.map.getView();n.setHint(e.default.INTERACTING,-1);var r=n.getRotation();return(0,i.rotate)(n,r,void 0,this.duration_),!1},a.prototype.handleDownEvent=function(t){return!!(0,o.mouseOnly)(t)&&(!(!(0,o.mouseActionButton)(t)||!this.condition_(t))&&(t.map.getView().setHint(e.default.INTERACTING,1),this.lastAngle_=void 0,!0))},a}(r.default),u=s;exports.default=u;
},{"../rotationconstraint.js":"9EKd","../ViewHint.js":"cuLW","../events/condition.js":"YcID","../functions.js":"RgA2","./Interaction.js":"jB2p","./Pointer.js":"dnA2"}],"bMDg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("../Disposable.js")),e=i(require("../geom/Polygon.js"));function i(t){return t&&t.__esModule?t:{default:t}}var o=function(t){function i(e){t.call(this),this.geometry_=null,this.element_=document.createElement("div"),this.element_.style.position="absolute",this.element_.className="ol-box "+e,this.map_=null,this.startPixel_=null,this.endPixel_=null}return t&&(i.__proto__=t),i.prototype=Object.create(t&&t.prototype),i.prototype.constructor=i,i.prototype.disposeInternal=function(){this.setMap(null)},i.prototype.render_=function(){var t=this.startPixel_,e=this.endPixel_,i=this.element_.style;i.left=Math.min(t[0],e[0])+"px",i.top=Math.min(t[1],e[1])+"px",i.width=Math.abs(e[0]-t[0])+"px",i.height=Math.abs(e[1]-t[1])+"px"},i.prototype.setMap=function(t){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var e=this.element_.style;e.left=e.top=e.width=e.height="inherit"}this.map_=t,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},i.prototype.setPixels=function(t,e){this.startPixel_=t,this.endPixel_=e,this.createOrUpdateGeometry(),this.render_()},i.prototype.createOrUpdateGeometry=function(){var t=this.startPixel_,i=this.endPixel_,o=[t,[t[0],i[1]],i,[i[0],t[1]]].map(this.map_.getCoordinateFromPixel,this.map_);o[4]=o[0].slice(),this.geometry_?this.geometry_.setCoordinates([o]):this.geometry_=new e.default([o])},i.prototype.getGeometry=function(){return this.geometry_},i}(t.default),s=o;exports.default=s;
},{"../Disposable.js":"DDda","../geom/Polygon.js":"6Nww"}],"AQ/R":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("../events/Event.js")),o=require("../events/condition.js"),e=require("../functions.js"),n=r(require("./Pointer.js")),i=r(require("../render/Box.js"));function r(t){return t&&t.__esModule?t:{default:t}}var s={BOXSTART:"boxstart",BOXDRAG:"boxdrag",BOXEND:"boxend"},a=function(t){function o(o,e,n){t.call(this,o),this.coordinate=e,this.mapBrowserEvent=n}return t&&(o.__proto__=t),o.prototype=Object.create(t&&t.prototype),o.prototype.constructor=o,o}(t.default),d=function(t){function n(n){t.call(this);var r=n||{};this.box_=new i.default(r.className||"ol-dragbox"),this.minArea_=void 0!==r.minArea?r.minArea:64,this.onBoxEnd_=r.onBoxEnd?r.onBoxEnd:e.VOID,this.startPixel_=null,this.condition_=r.condition?r.condition:o.always,this.boxEndCondition_=r.boxEndCondition?r.boxEndCondition:this.defaultBoxEndCondition}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.defaultBoxEndCondition=function(t,o,e){var n=e[0]-o[0],i=e[1]-o[1];return n*n+i*i>=this.minArea_},n.prototype.getGeometry=function(){return this.box_.getGeometry()},n.prototype.handleDragEvent=function(t){(0,o.mouseOnly)(t)&&(this.box_.setPixels(this.startPixel_,t.pixel),this.dispatchEvent(new a(s.BOXDRAG,t.coordinate,t)))},n.prototype.handleUpEvent=function(t){return!(0,o.mouseOnly)(t)||(this.box_.setMap(null),this.boxEndCondition_(t,this.startPixel_,t.pixel)&&(this.onBoxEnd_(t),this.dispatchEvent(new a(s.BOXEND,t.coordinate,t))),!1)},n.prototype.handleDownEvent=function(t){return!!(0,o.mouseOnly)(t)&&(!(!(0,o.mouseActionButton)(t)||!this.condition_(t))&&(this.startPixel_=t.pixel,this.box_.setMap(t.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new a(s.BOXSTART,t.coordinate,t)),!0))},n}(n.default),u=d;exports.default=u;
},{"../events/Event.js":"fKNg","../events/condition.js":"YcID","../functions.js":"RgA2","./Pointer.js":"dnA2","../render/Box.js":"bMDg"}],"pTqW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../easing.js"),e=require("../events/condition.js"),o=require("../extent.js"),r=i(require("./DragBox.js"));function i(t){return t&&t.__esModule?t:{default:t}}var n=function(t){function o(o){var r=o||{},i=r.condition?r.condition:e.shiftKeyOnly;t.call(this,{condition:i,className:r.className||"ol-dragzoom",onBoxEnd:a}),this.duration_=void 0!==r.duration?r.duration:200,this.out_=void 0!==r.out&&r.out}return t&&(o.__proto__=t),o.prototype=Object.create(t&&t.prototype),o.prototype.constructor=o,o}(r.default);function a(){var e=this.getMap(),r=e.getView(),i=e.getSize(),n=this.getGeometry().getExtent();if(this.out_){var a=r.calculateExtent(i),s=(0,o.createOrUpdateFromCoordinates)([e.getPixelFromCoordinate((0,o.getBottomLeft)(n)),e.getPixelFromCoordinate((0,o.getTopRight)(n))]),u=r.getResolutionForExtent(s,i);(0,o.scaleFromCenter)(a,1/u),n=a}var d=r.constrainResolution(r.getResolutionForExtent(n,i)),c=(0,o.getCenter)(n);c=r.constrainCenter(c),r.animate({resolution:d,center:c,duration:this.duration_,easing:t.easeOut})}var s=n;exports.default=s;
},{"../easing.js":"IeCz","../events/condition.js":"YcID","../extent.js":"QDir","./DragBox.js":"AQ/R"}],"mmJk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={LEFT:37,UP:38,RIGHT:39,DOWN:40};exports.default=e;
},{}],"CFRo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../coordinate.js"),t=a(require("../events/EventType.js")),r=a(require("../events/KeyCode.js")),o=require("../events/condition.js"),i=n(require("./Interaction.js"));function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};o.get||o.set?Object.defineProperty(t,r,o):t[r]=e[r]}return t.default=e,t}function a(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(t){e.call(this,{handleEvent:d});var r=t||{};this.defaultCondition_=function(e){return(0,o.noModifierKeys)(e)&&(0,o.targetNotEditable)(e)},this.condition_=void 0!==r.condition?r.condition:this.defaultCondition_,this.duration_=void 0!==r.duration?r.duration:100,this.pixelDelta_=void 0!==r.pixelDelta?r.pixelDelta:128}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(i.default);function d(o){var n=!1;if(o.type==t.default.KEYDOWN){var a=o.originalEvent.keyCode;if(this.condition_(o)&&(a==r.default.DOWN||a==r.default.LEFT||a==r.default.RIGHT||a==r.default.UP)){var u=o.map.getView(),d=u.getResolution()*this.pixelDelta_,l=0,f=0;a==r.default.DOWN?f=-d:a==r.default.LEFT?l=-d:a==r.default.RIGHT?l=d:f=d;var s=[l,f];(0,e.rotate)(s,u.getRotation()),(0,i.pan)(u,s,this.duration_),o.preventDefault(),n=!0}}return!n}var l=u;exports.default=l;
},{"../coordinate.js":"nGsj","../events/EventType.js":"C8cu","../events/KeyCode.js":"mmJk","../events/condition.js":"YcID","./Interaction.js":"jB2p"}],"7S8w":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=i(require("../events/EventType.js")),e=require("../events/condition.js"),r=o(require("./Interaction.js"));function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};o.get||o.set?Object.defineProperty(e,r,o):e[r]=t[r]}return e.default=t,e}function i(t){return t&&t.__esModule?t:{default:t}}var n=function(t){function r(r){t.call(this,{handleEvent:a});var o=r||{};this.condition_=o.condition?o.condition:e.targetNotEditable,this.delta_=o.delta?o.delta:1,this.duration_=void 0!==o.duration?o.duration:100}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r}(r.default);function a(e){var o=!1;if(e.type==t.default.KEYDOWN||e.type==t.default.KEYPRESS){var i=e.originalEvent.charCode;if(this.condition_(e)&&(i=="+".charCodeAt(0)||i=="-".charCodeAt(0))){var n=e.map,a=i=="+".charCodeAt(0)?this.delta_:-this.delta_,d=n.getView();(0,r.zoomByDelta)(d,a,void 0,this.duration_),e.preventDefault(),o=!0}}return!o}var d=n;exports.default=d;
},{"../events/EventType.js":"C8cu","../events/condition.js":"YcID","./Interaction.js":"jB2p"}],"kPt6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.Mode=void 0;var t=h(require("../ViewHint.js")),e=require("../events/condition.js"),i=require("../easing.js"),o=h(require("../events/EventType.js")),r=require("../has.js"),a=s(require("./Interaction.js")),n=require("../math.js");function s(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};o.get||o.set?Object.defineProperty(e,i,o):e[i]=t[i]}return e.default=t,e}function h(t){return t&&t.__esModule?t:{default:t}}var u=1,d={TRACKPAD:"trackpad",WHEEL:"wheel"};exports.Mode=d;var c=function(s){function h(t){var i=t||{};s.call(this,i),this.delta_=0,this.duration_=void 0!==i.duration?i.duration:250,this.timeout_=void 0!==i.timeout?i.timeout:80,this.useAnchor_=void 0===i.useAnchor||i.useAnchor,this.constrainResolution_=i.constrainResolution||!1,this.condition_=i.condition?i.condition:e.always,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_,this.mode_=void 0,this.trackpadEventGap_=400,this.trackpadTimeoutId_,this.trackpadDeltaPerZoom_=300,this.trackpadZoomBuffer_=1.5}return s&&(h.__proto__=s),h.prototype=Object.create(s&&s.prototype),h.prototype.constructor=h,h.prototype.decrementInteractingHint_=function(){this.trackpadTimeoutId_=void 0,this.getMap().getView().setHint(t.default.INTERACTING,-1)},h.prototype.handleEvent=function(e){if(!this.condition_(e))return!0;var a=e.type;if(a!==o.default.WHEEL&&a!==o.default.MOUSEWHEEL)return!0;e.preventDefault();var n,s=e.map,h=e.originalEvent;if(this.useAnchor_&&(this.lastAnchor_=e.coordinate),e.type==o.default.WHEEL?(n=h.deltaY,r.FIREFOX&&h.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(n/=r.DEVICE_PIXEL_RATIO),h.deltaMode===WheelEvent.DOM_DELTA_LINE&&(n*=40)):e.type==o.default.MOUSEWHEEL&&(n=-h.wheelDeltaY,r.SAFARI&&(n/=3)),0===n)return!1;var u=Date.now();if(void 0===this.startTime_&&(this.startTime_=u),(!this.mode_||u-this.startTime_>this.trackpadEventGap_)&&(this.mode_=Math.abs(n)<4?d.TRACKPAD:d.WHEEL),this.mode_===d.TRACKPAD){var c=s.getView();this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):c.setHint(t.default.INTERACTING,1),this.trackpadTimeoutId_=setTimeout(this.decrementInteractingHint_.bind(this),this.trackpadEventGap_);var l=c.getResolution()*Math.pow(2,n/this.trackpadDeltaPerZoom_),_=c.getMinResolution(),p=c.getMaxResolution(),m=0;if(l<_?(l=Math.max(l,_/this.trackpadZoomBuffer_),m=1):l>p&&(l=Math.min(l,p*this.trackpadZoomBuffer_),m=-1),this.lastAnchor_){var v=c.calculateCenterZoom(l,this.lastAnchor_);c.setCenter(c.constrainCenter(v))}return c.setResolution(l),0===m&&this.constrainResolution_&&c.animate({resolution:c.constrainResolution(l,n>0?-1:1),easing:i.easeOut,anchor:this.lastAnchor_,duration:this.duration_}),m>0?c.animate({resolution:_,easing:i.easeOut,anchor:this.lastAnchor_,duration:500}):m<0&&c.animate({resolution:p,easing:i.easeOut,anchor:this.lastAnchor_,duration:500}),this.startTime_=u,!1}this.delta_+=n;var f=Math.max(this.timeout_-(u-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,s),f),!1},h.prototype.handleWheelZoom_=function(t){var e=t.getView();e.getAnimating()&&e.cancelAnimations();var i=u,o=(0,n.clamp)(this.delta_,-i,i);(0,a.zoomByDelta)(e,-o,this.lastAnchor_,this.duration_),this.mode_=void 0,this.delta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},h.prototype.setMouseAnchor=function(t){this.useAnchor_=t,t||(this.lastAnchor_=null)},h}(a.default),l=c;exports.default=l;
},{"../ViewHint.js":"cuLW","../events/condition.js":"YcID","../easing.js":"IeCz","../events/EventType.js":"C8cu","../has.js":"f3Nv","./Interaction.js":"jB2p","../math.js":"B96G"}],"8hbG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=a(require("../ViewHint.js")),e=require("../functions.js"),r=require("./Interaction.js"),i=n(require("./Pointer.js")),o=require("../rotationconstraint.js");function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,r):{};i.get||i.set?Object.defineProperty(e,r,i):e[r]=t[r]}return e.default=t,e}function a(t){return t&&t.__esModule?t:{default:t}}var s=function(n){function a(t){var r=t||{},i=r;i.stopDown||(i.stopDown=e.FALSE),n.call(this,i),this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.threshold_=void 0!==r.threshold?r.threshold:.3,this.duration_=void 0!==r.duration?r.duration:250}return n&&(a.__proto__=n),a.prototype=Object.create(n&&n.prototype),a.prototype.constructor=a,a.prototype.handleDragEvent=function(t){var e=0,n=this.targetPointers[0],a=this.targetPointers[1],s=Math.atan2(a.clientY-n.clientY,a.clientX-n.clientX);if(void 0!==this.lastAngle_){var h=s-this.lastAngle_;this.rotationDelta_+=h,!this.rotating_&&Math.abs(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),e=h}this.lastAngle_=s;var l=t.map,u=l.getView();if(u.getConstraints().rotation!==o.disable){var c=l.getViewport().getBoundingClientRect(),d=(0,i.centroid)(this.targetPointers);if(d[0]-=c.left,d[1]-=c.top,this.anchor_=l.getCoordinateFromPixel(d),this.rotating_){var p=u.getRotation();l.render(),(0,r.rotateWithoutConstraints)(u,p+e,this.anchor_)}}},a.prototype.handleUpEvent=function(e){if(this.targetPointers.length<2){var i=e.map.getView();if(i.setHint(t.default.INTERACTING,-1),this.rotating_){var o=i.getRotation();(0,r.rotate)(i,o,this.anchor_,this.duration_)}return!1}return!0},a.prototype.handleDownEvent=function(e){if(this.targetPointers.length>=2){var r=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||r.getView().setHint(t.default.INTERACTING,1),!0}return!1},a}(i.default),h=s;exports.default=h;
},{"../ViewHint.js":"cuLW","../functions.js":"RgA2","./Interaction.js":"jB2p","./Pointer.js":"dnA2","../rotationconstraint.js":"9EKd"}],"rcXm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("../ViewHint.js")),e=require("../functions.js"),i=require("./Interaction.js"),n=o(require("./Pointer.js"));function o(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};n.get||n.set?Object.defineProperty(e,i,n):e[i]=t[i]}return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}var s=function(o){function r(t){var i=t||{},n=i;n.stopDown||(n.stopDown=e.FALSE),o.call(this,n),this.constrainResolution_=i.constrainResolution||!1,this.anchor_=null,this.duration_=void 0!==i.duration?i.duration:400,this.lastDistance_=void 0,this.lastScaleDelta_=1}return o&&(r.__proto__=o),r.prototype=Object.create(o&&o.prototype),r.prototype.constructor=r,r.prototype.handleDragEvent=function(t){var e=1,o=this.targetPointers[0],r=this.targetPointers[1],s=o.clientX-r.clientX,a=o.clientY-r.clientY,l=Math.sqrt(s*s+a*a);void 0!==this.lastDistance_&&(e=this.lastDistance_/l),this.lastDistance_=l;var u=t.map,c=u.getView(),h=c.getResolution(),p=c.getMaxResolution(),d=c.getMinResolution(),_=h*e;_>p?(e=p/h,_=p):_<d&&(e=d/h,_=d),1!=e&&(this.lastScaleDelta_=e);var f=u.getViewport().getBoundingClientRect(),g=(0,n.centroid)(this.targetPointers);g[0]-=f.left,g[1]-=f.top,this.anchor_=u.getCoordinateFromPixel(g),u.render(),(0,i.zoomWithoutConstraints)(c,_,this.anchor_)},r.prototype.handleUpEvent=function(e){if(this.targetPointers.length<2){var n=e.map.getView();n.setHint(t.default.INTERACTING,-1);var o=n.getResolution();if(this.constrainResolution_||o<n.getMinResolution()||o>n.getMaxResolution()){var r=this.lastScaleDelta_-1;(0,i.zoom)(n,o,this.anchor_,this.duration_,r)}return!1}return!0},r.prototype.handleDownEvent=function(e){if(this.targetPointers.length>=2){var i=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||i.getView().setHint(t.default.INTERACTING,1),!0}return!1},r}(n.default),a=s;exports.default=a;
},{"../ViewHint.js":"cuLW","../functions.js":"RgA2","./Interaction.js":"jB2p","./Pointer.js":"dnA2"}],"IYO6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../functions.js"),e=require("../events.js"),r=n(require("../events/Event.js")),s=n(require("../events/EventType.js")),i=n(require("./Interaction.js")),o=require("../proj.js");function n(t){return t&&t.__esModule?t:{default:t}}var a={ADD_FEATURES:"addfeatures"},u=function(t){function e(e,r,s,i){t.call(this,e),this.features=s,this.file=r,this.projection=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r.default),p=function(r){function i(e){var s=e||{};r.call(this,{handleEvent:t.TRUE}),this.formatConstructors_=s.formatConstructors?s.formatConstructors:[],this.projection_=s.projection?(0,o.get)(s.projection):null,this.dropListenKeys_=null,this.source_=s.source||null,this.target=s.target?s.target:null}return r&&(i.__proto__=r),i.prototype=Object.create(r&&r.prototype),i.prototype.constructor=i,i.prototype.handleResult_=function(t,e){var r=e.target.result,s=this.getMap(),i=this.projection_;i||(i=s.getView().getProjection());for(var o=this.formatConstructors_,n=[],p=0,c=o.length;p<c;++p){var l=new o[p];if((n=this.tryReadFeatures_(l,r,{featureProjection:i}))&&n.length>0)break}this.source_&&(this.source_.clear(),this.source_.addFeatures(n)),this.dispatchEvent(new u(a.ADD_FEATURES,t,n,i))},i.prototype.registerListeners_=function(){var t=this.getMap();if(t){var r=this.target?this.target:t.getViewport();this.dropListenKeys_=[(0,e.listen)(r,s.default.DROP,c,this),(0,e.listen)(r,s.default.DRAGENTER,l,this),(0,e.listen)(r,s.default.DRAGOVER,l,this),(0,e.listen)(r,s.default.DROP,l,this)]}},i.prototype.setActive=function(t){r.prototype.setActive.call(this,t),t?this.registerListeners_():this.unregisterListeners_()},i.prototype.setMap=function(t){this.unregisterListeners_(),r.prototype.setMap.call(this,t),this.getActive()&&this.registerListeners_()},i.prototype.tryReadFeatures_=function(t,e,r){try{return t.readFeatures(e,r)}catch(s){return null}},i.prototype.unregisterListeners_=function(){this.dropListenKeys_&&(this.dropListenKeys_.forEach(e.unlistenByKey),this.dropListenKeys_=null)},i}(i.default);function c(t){for(var e=t.dataTransfer.files,r=0,i=e.length;r<i;++r){var o=e.item(r),n=new FileReader;n.addEventListener(s.default.LOAD,this.handleResult_.bind(this,o)),n.readAsText(o)}}function l(t){t.stopPropagation(),t.preventDefault(),t.dataTransfer.dropEffect="copy"}var h=p;exports.default=h;
},{"../functions.js":"RgA2","../events.js":"55Uq","../events/Event.js":"fKNg","../events/EventType.js":"C8cu","./Interaction.js":"jB2p","../proj.js":"Diht"}],"0/IT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../rotationconstraint.js"),e=a(require("../ViewHint.js")),i=require("../events/condition.js"),o=require("./Interaction.js"),n=a(require("./Pointer.js"));function a(t){return t&&t.__esModule?t:{default:t}}var s=function(n){function a(t){var e=t||{};n.call(this,e),this.condition_=e.condition?e.condition:i.shiftKeyOnly,this.lastAngle_=void 0,this.lastMagnitude_=void 0,this.lastScaleDelta_=0,this.duration_=void 0!==e.duration?e.duration:400}return n&&(a.__proto__=n),a.prototype=Object.create(n&&n.prototype),a.prototype.constructor=a,a.prototype.handleDragEvent=function(e){if((0,i.mouseOnly)(e)){var n=e.map,a=n.getSize(),s=e.pixel,r=s[0]-a[0]/2,l=a[1]/2-s[1],u=Math.atan2(l,r),d=Math.sqrt(r*r+l*l),h=n.getView();if(h.getConstraints().rotation!==t.disable&&void 0!==this.lastAngle_){var _=u-this.lastAngle_;(0,o.rotateWithoutConstraints)(h,h.getRotation()-_)}if(this.lastAngle_=u,void 0!==this.lastMagnitude_){var c=this.lastMagnitude_*(h.getResolution()/d);(0,o.zoomWithoutConstraints)(h,c)}void 0!==this.lastMagnitude_&&(this.lastScaleDelta_=this.lastMagnitude_/d),this.lastMagnitude_=d}},a.prototype.handleUpEvent=function(t){if(!(0,i.mouseOnly)(t))return!0;var n=t.map.getView();n.setHint(e.default.INTERACTING,-1);var a=this.lastScaleDelta_-1;return(0,o.rotate)(n,n.getRotation()),(0,o.zoom)(n,n.getResolution(),void 0,this.duration_,a),this.lastScaleDelta_=0,!1},a.prototype.handleDownEvent=function(t){return!!(0,i.mouseOnly)(t)&&(!!this.condition_(t)&&(t.map.getView().setHint(e.default.INTERACTING,1),this.lastAngle_=void 0,this.lastMagnitude_=void 0,!0))},a}(n.default),r=s;exports.default=r;
},{"../rotationconstraint.js":"9EKd","../ViewHint.js":"cuLW","../events/condition.js":"YcID","./Interaction.js":"jB2p","./Pointer.js":"dnA2"}],"AyCw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../extent.js"),e=i(require("./GeometryType.js")),r=i(require("./SimpleGeometry.js")),o=require("./flat/deflate.js");function i(t){return t&&t.__esModule?t:{default:t}}var s=function(r){function i(t,e,o){if(r.call(this),void 0!==o&&void 0===e)this.setFlatCoordinates(o,t);else{var i=e||0;this.setCenterAndRadius(t,i,o)}}return r&&(i.__proto__=r),i.prototype=Object.create(r&&r.prototype),i.prototype.constructor=i,i.prototype.clone=function(){return new i(this.flatCoordinates.slice(),void 0,this.layout)},i.prototype.closestPointXY=function(t,e,r,o){var i=this.flatCoordinates,s=t-i[0],n=e-i[1],a=s*s+n*n;if(a<o){if(0===a)for(var d=0;d<this.stride;++d)r[d]=i[d];else{var u=this.getRadius()/Math.sqrt(a);r[0]=i[0]+u*s,r[1]=i[1]+u*n;for(var f=2;f<this.stride;++f)r[f]=i[f]}return r.length=this.stride,a}return o},i.prototype.containsXY=function(t,e){var r=this.flatCoordinates,o=t-r[0],i=e-r[1];return o*o+i*i<=this.getRadiusSquared_()},i.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},i.prototype.computeExtent=function(e){var r=this.flatCoordinates,o=r[this.stride]-r[0];return(0,t.createOrUpdate)(r[0]-o,r[1]-o,r[0]+o,r[1]+o,e)},i.prototype.getRadius=function(){return Math.sqrt(this.getRadiusSquared_())},i.prototype.getRadiusSquared_=function(){var t=this.flatCoordinates[this.stride]-this.flatCoordinates[0],e=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return t*t+e*e},i.prototype.getType=function(){return e.default.CIRCLE},i.prototype.intersectsExtent=function(e){var r=this.getExtent();if((0,t.intersects)(e,r)){var o=this.getCenter();return e[0]<=o[0]&&e[2]>=o[0]||(e[1]<=o[1]&&e[3]>=o[1]||(0,t.forEachCorner)(e,this.intersectsCoordinate,this))}return!1},i.prototype.setCenter=function(t){var e=this.stride,r=this.flatCoordinates[e]-this.flatCoordinates[0],o=t.slice();o[e]=o[0]+r;for(var i=1;i<e;++i)o[e+i]=t[i];this.setFlatCoordinates(this.layout,o),this.changed()},i.prototype.setCenterAndRadius=function(t,e,r){this.setLayout(r,t,0),this.flatCoordinates||(this.flatCoordinates=[]);var i=this.flatCoordinates,s=(0,o.deflateCoordinate)(i,0,t,this.stride);i[s++]=i[0]+e;for(var n=1,a=this.stride;n<a;++n)i[s++]=i[n];i.length=s,this.changed()},i.prototype.getCoordinates=function(){return null},i.prototype.setCoordinates=function(t,e){},i.prototype.setRadius=function(t){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+t,this.changed()},i}(r.default);s.prototype.transform;var n=s;exports.default=n;
},{"../extent.js":"QDir","./GeometryType.js":"lmV0","./SimpleGeometry.js":"pnrv","./flat/deflate.js":"1FNh"}],"4fbC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../array.js"),e=require("../extent.js"),i=f(require("./GeometryLayout.js")),s=f(require("./GeometryType.js")),r=f(require("./LineString.js")),n=f(require("./SimpleGeometry.js")),o=require("./flat/closest.js"),a=require("./flat/deflate.js"),l=require("./flat/inflate.js"),d=require("./flat/interpolate.js"),h=require("./flat/intersectsextent.js"),u=require("./flat/simplify.js");function f(t){return t&&t.__esModule?t:{default:t}}var p=function(n){function f(e,i,s){if(n.call(this),this.ends_=[],this.maxDelta_=-1,this.maxDeltaRevision_=-1,Array.isArray(e[0]))this.setCoordinates(e,i);else if(void 0!==i&&s)this.setFlatCoordinates(i,e),this.ends_=s;else{for(var r=this.getLayout(),o=e,a=[],l=[],d=0,h=o.length;d<h;++d){var u=o[d];0===d&&(r=u.getLayout()),(0,t.extend)(a,u.getFlatCoordinates()),l.push(a.length)}this.setFlatCoordinates(r,a),this.ends_=l}}return n&&(f.__proto__=n),f.prototype=Object.create(n&&n.prototype),f.prototype.constructor=f,f.prototype.appendLineString=function(e){this.flatCoordinates?(0,t.extend)(this.flatCoordinates,e.getFlatCoordinates().slice()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},f.prototype.clone=function(){return new f(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},f.prototype.closestPointXY=function(t,i,s,r){return r<(0,e.closestSquaredDistanceXY)(this.getExtent(),t,i)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,o.arrayMaxSquaredDelta)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,o.assignClosestArrayPoint)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,t,i,s,r))},f.prototype.getCoordinateAtM=function(t,e,s){if(this.layout!=i.default.XYM&&this.layout!=i.default.XYZM||0===this.flatCoordinates.length)return null;var r=void 0!==e&&e,n=void 0!==s&&s;return(0,d.lineStringsCoordinateAtM)(this.flatCoordinates,0,this.ends_,this.stride,t,r,n)},f.prototype.getCoordinates=function(){return(0,l.inflateCoordinatesArray)(this.flatCoordinates,0,this.ends_,this.stride)},f.prototype.getEnds=function(){return this.ends_},f.prototype.getLineString=function(t){return t<0||this.ends_.length<=t?null:new r.default(this.flatCoordinates.slice(0===t?0:this.ends_[t-1],this.ends_[t]),this.layout)},f.prototype.getLineStrings=function(){for(var t=this.flatCoordinates,e=this.ends_,i=this.layout,s=[],n=0,o=0,a=e.length;o<a;++o){var l=e[o],d=new r.default(t.slice(n,l),i);s.push(d),n=l}return s},f.prototype.getFlatMidpoints=function(){for(var e=[],i=this.flatCoordinates,s=0,r=this.ends_,n=this.stride,o=0,a=r.length;o<a;++o){var l=r[o],h=(0,d.interpolatePoint)(i,s,l,n,.5);(0,t.extend)(e,h),s=l}return e},f.prototype.getSimplifiedGeometryInternal=function(t){var e=[],s=[];return e.length=(0,u.douglasPeuckerArray)(this.flatCoordinates,0,this.ends_,this.stride,t,e,0,s),new f(e,i.default.XY,s)},f.prototype.getType=function(){return s.default.MULTI_LINE_STRING},f.prototype.intersectsExtent=function(t){return(0,h.intersectsLineStringArray)(this.flatCoordinates,0,this.ends_,this.stride,t)},f.prototype.setCoordinates=function(t,e){this.setLayout(e,t,2),this.flatCoordinates||(this.flatCoordinates=[]);var i=(0,a.deflateCoordinatesArray)(this.flatCoordinates,0,t,this.stride,this.ends_);this.flatCoordinates.length=0===i.length?0:i[i.length-1],this.changed()},f}(n.default),y=p;exports.default=y;
},{"../array.js":"luEr","../extent.js":"QDir","./GeometryLayout.js":"1Utv","./GeometryType.js":"lmV0","./LineString.js":"DfxW","./SimpleGeometry.js":"pnrv","./flat/closest.js":"rMra","./flat/deflate.js":"1FNh","./flat/inflate.js":"znXl","./flat/interpolate.js":"rDTq","./flat/intersectsextent.js":"GZir","./flat/simplify.js":"IEpt"}],"dNu5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../array.js"),e=require("../extent.js"),r=l(require("./GeometryType.js")),o=l(require("./Point.js")),i=l(require("./SimpleGeometry.js")),s=require("./flat/deflate.js"),n=require("./flat/inflate.js"),a=require("../math.js");function l(t){return t&&t.__esModule?t:{default:t}}var d=function(i){function l(t,e){i.call(this),e&&!Array.isArray(t[0])?this.setFlatCoordinates(e,t):this.setCoordinates(t,e)}return i&&(l.__proto__=i),l.prototype=Object.create(i&&i.prototype),l.prototype.constructor=l,l.prototype.appendPoint=function(e){this.flatCoordinates?(0,t.extend)(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.changed()},l.prototype.clone=function(){return new l(this.flatCoordinates.slice(),this.layout)},l.prototype.closestPointXY=function(t,r,o,i){if(i<(0,e.closestSquaredDistanceXY)(this.getExtent(),t,r))return i;for(var s=this.flatCoordinates,n=this.stride,l=0,d=s.length;l<d;l+=n){var u=(0,a.squaredDistance)(t,r,s[l],s[l+1]);if(u<i){i=u;for(var f=0;f<n;++f)o[f]=s[l+f];o.length=n}}return i},l.prototype.getCoordinates=function(){return(0,n.inflateCoordinates)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},l.prototype.getPoint=function(t){var e=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return t<0||e<=t?null:new o.default(this.flatCoordinates.slice(t*this.stride,(t+1)*this.stride),this.layout)},l.prototype.getPoints=function(){for(var t=this.flatCoordinates,e=this.layout,r=this.stride,i=[],s=0,n=t.length;s<n;s+=r){var a=new o.default(t.slice(s,s+r),e);i.push(a)}return i},l.prototype.getType=function(){return r.default.MULTI_POINT},l.prototype.intersectsExtent=function(t){for(var r=this.flatCoordinates,o=this.stride,i=0,s=r.length;i<s;i+=o){var n=r[i],a=r[i+1];if((0,e.containsXY)(t,n,a))return!0}return!1},l.prototype.setCoordinates=function(t,e){this.setLayout(e,t,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=(0,s.deflateCoordinates)(this.flatCoordinates,0,t,this.stride),this.changed()},l}(i.default),u=d;exports.default=u;
},{"../array.js":"luEr","../extent.js":"QDir","./GeometryType.js":"lmV0","./Point.js":"gLcY","./SimpleGeometry.js":"pnrv","./flat/deflate.js":"1FNh","./flat/inflate.js":"znXl","../math.js":"B96G"}],"VjQP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.linearRingss=r;var e=require("../../extent.js");function r(r,t,a,n){for(var s=[],o=(0,e.createEmpty)(),i=0,u=a.length;i<u;++i){var l=a[i];o=(0,e.createOrUpdateFromFlatCoordinates)(r,t,l[0],n),s.push((o[0]+o[2])/2,(o[1]+o[3])/2),t=l[l.length-1]}return s}
},{"../../extent.js":"QDir"}],"6ouh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../array.js"),e=require("../extent.js"),i=y(require("./GeometryLayout.js")),s=y(require("./GeometryType.js")),r=y(require("./MultiPoint.js")),n=y(require("./Polygon.js")),o=y(require("./SimpleGeometry.js")),a=require("./flat/area.js"),l=require("./flat/center.js"),h=require("./flat/closest.js"),d=require("./flat/contains.js"),u=require("./flat/deflate.js"),f=require("./flat/inflate.js"),g=require("./flat/interiorpoint.js"),p=require("./flat/intersectsextent.js"),_=require("./flat/orient.js"),c=require("./flat/simplify.js");function y(t){return t&&t.__esModule?t:{default:t}}var v=function(o){function y(e,i,s){if(o.call(this),this.endss_=[],this.flatInteriorPointsRevision_=-1,this.flatInteriorPoints_=null,this.maxDelta_=-1,this.maxDeltaRevision_=-1,this.orientedRevision_=-1,this.orientedFlatCoordinates_=null,!s&&!Array.isArray(e[0])){for(var r=this.getLayout(),n=e,a=[],l=[],h=0,d=n.length;h<d;++h){var u=n[h];0===h&&(r=u.getLayout());for(var f=a.length,g=u.getEnds(),p=0,_=g.length;p<_;++p)g[p]+=f;(0,t.extend)(a,u.getFlatCoordinates()),l.push(g)}i=r,e=a,s=l}void 0!==i&&s?(this.setFlatCoordinates(i,e),this.endss_=s):this.setCoordinates(e,i)}return o&&(y.__proto__=o),y.prototype=Object.create(o&&o.prototype),y.prototype.constructor=y,y.prototype.appendPolygon=function(e){var i;if(this.flatCoordinates){var s=this.flatCoordinates.length;(0,t.extend)(this.flatCoordinates,e.getFlatCoordinates());for(var r=0,n=(i=e.getEnds().slice()).length;r<n;++r)i[r]+=s}else this.flatCoordinates=e.getFlatCoordinates().slice(),i=e.getEnds().slice(),this.endss_.push();this.endss_.push(i),this.changed()},y.prototype.clone=function(){for(var t=this.endss_.length,e=new Array(t),i=0;i<t;++i)e[i]=this.endss_[i].slice();return new y(this.flatCoordinates.slice(),this.layout,e)},y.prototype.closestPointXY=function(t,i,s,r){return r<(0,e.closestSquaredDistanceXY)(this.getExtent(),t,i)?r:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=Math.sqrt((0,h.multiArrayMaxSquaredDelta)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),(0,h.assignClosestMultiArrayPoint)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,t,i,s,r))},y.prototype.containsXY=function(t,e){return(0,d.linearRingssContainsXY)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t,e)},y.prototype.getArea=function(){return(0,a.linearRingss)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},y.prototype.getCoordinates=function(t){var e;return void 0!==t?(e=this.getOrientedFlatCoordinates().slice(),(0,_.orientLinearRingsArray)(e,0,this.endss_,this.stride,t)):e=this.flatCoordinates,(0,f.inflateMultiCoordinatesArray)(e,0,this.endss_,this.stride)},y.prototype.getEndss=function(){return this.endss_},y.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var t=(0,l.linearRingss)(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=(0,g.getInteriorPointsOfMultiArray)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},y.prototype.getInteriorPoints=function(){return new r.default(this.getFlatInteriorPoints().slice(),i.default.XYM)},y.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var t=this.flatCoordinates;(0,_.linearRingsAreOriented)(t,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=t:(this.orientedFlatCoordinates_=t.slice(),this.orientedFlatCoordinates_.length=(0,_.orientLinearRingsArray)(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},y.prototype.getSimplifiedGeometryInternal=function(t){var e=[],s=[];return e.length=(0,c.quantizeMultiArray)(this.flatCoordinates,0,this.endss_,this.stride,Math.sqrt(t),e,0,s),new y(e,i.default.XY,s)},y.prototype.getPolygon=function(t){if(t<0||this.endss_.length<=t)return null;var e;if(0===t)e=0;else{var i=this.endss_[t-1];e=i[i.length-1]}var s=this.endss_[t].slice(),r=s[s.length-1];if(0!==e)for(var o=0,a=s.length;o<a;++o)s[o]-=e;return new n.default(this.flatCoordinates.slice(e,r),this.layout,s)},y.prototype.getPolygons=function(){for(var t=this.layout,e=this.flatCoordinates,i=this.endss_,s=[],r=0,o=0,a=i.length;o<a;++o){var l=i[o].slice(),h=l[l.length-1];if(0!==r)for(var d=0,u=l.length;d<u;++d)l[d]-=r;var f=new n.default(e.slice(r,h),t,l);s.push(f),r=h}return s},y.prototype.getType=function(){return s.default.MULTI_POLYGON},y.prototype.intersectsExtent=function(t){return(0,p.intersectsLinearRingMultiArray)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,t)},y.prototype.setCoordinates=function(t,e){this.setLayout(e,t,3),this.flatCoordinates||(this.flatCoordinates=[]);var i=(0,u.deflateMultiCoordinatesArray)(this.flatCoordinates,0,t,this.stride,this.endss_);if(0===i.length)this.flatCoordinates.length=0;else{var s=i[i.length-1];this.flatCoordinates.length=0===s.length?0:s[s.length-1]}this.changed()},y}(o.default),C=v;exports.default=C;
},{"../array.js":"luEr","../extent.js":"QDir","./GeometryLayout.js":"1Utv","./GeometryType.js":"lmV0","./MultiPoint.js":"dNu5","./Polygon.js":"6Nww","./SimpleGeometry.js":"pnrv","./flat/area.js":"EOSm","./flat/center.js":"VjQP","./flat/closest.js":"rMra","./flat/contains.js":"dzdN","./flat/deflate.js":"1FNh","./flat/inflate.js":"znXl","./flat/interiorpoint.js":"UDvN","./flat/intersectsextent.js":"GZir","./flat/orient.js":"2/8c","./flat/simplify.js":"IEpt"}],"8+bQ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={IMAGE:"IMAGE",TILE:"TILE",VECTOR_TILE:"VECTOR_TILE",VECTOR:"VECTOR"};exports.default=e;
},{}],"oqAD":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={IMAGE:"image",VECTOR:"vector"};exports.default=e;
},{}],"V5+X":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.asColorLike=e;var r=require("./color.js");function e(e){return Array.isArray(e)?(0,r.toString)(e):e}
},{"./color.js":"eucy"}],"oMDz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../asserts.js"),t=s(require("../events/Target.js")),r=s(require("../events/EventType.js"));function s(e){return e&&e.__esModule?e:{default:e}}var n=function(t){function s(e){t.call(this),this.highWaterMark=void 0!==e?e:2048,this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null}return t&&(s.__proto__=t),s.prototype=Object.create(t&&t.prototype),s.prototype.constructor=s,s.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},s.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null,this.dispatchEvent(r.default.CLEAR)},s.prototype.containsKey=function(e){return this.entries_.hasOwnProperty(e)},s.prototype.forEach=function(e,t){for(var r=this.oldest_;r;)e.call(t,r.value_,r.key_,this),r=r.newer},s.prototype.get=function(t){var r=this.entries_[t];return(0,e.assert)(void 0!==r,15),r===this.newest_?r.value_:(r===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(r.newer.older=r.older,r.older.newer=r.newer),r.newer=null,r.older=this.newest_,this.newest_.newer=r,this.newest_=r,r.value_)},s.prototype.remove=function(t){var r=this.entries_[t];return(0,e.assert)(void 0!==r,15),r===this.newest_?(this.newest_=r.older,this.newest_&&(this.newest_.newer=null)):r===this.oldest_?(this.oldest_=r.newer,this.oldest_&&(this.oldest_.older=null)):(r.newer.older=r.older,r.older.newer=r.newer),delete this.entries_[t],--this.count_,r.value_},s.prototype.getCount=function(){return this.count_},s.prototype.getKeys=function(){var e,t=new Array(this.count_),r=0;for(e=this.newest_;e;e=e.older)t[r++]=e.key_;return t},s.prototype.getValues=function(){var e,t=new Array(this.count_),r=0;for(e=this.newest_;e;e=e.older)t[r++]=e.value_;return t},s.prototype.peekLast=function(){return this.oldest_.value_},s.prototype.peekLastKey=function(){return this.oldest_.key_},s.prototype.peekFirstKey=function(){return this.newest_.key_},s.prototype.pop=function(){var e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_},s.prototype.replace=function(e,t){this.get(e),this.entries_[e].value_=t},s.prototype.set=function(t,r){(0,e.assert)(!(t in this.entries_),16);var s={key_:t,newer:null,older:this.newest_,value_:r};this.newest_?this.newest_.newer=s:this.oldest_=s,this.newest_=s,this.entries_[t]=s,++this.count_},s.prototype.setSize=function(e){this.highWaterMark=e},s.prototype.prune=function(){for(;this.canExpireCache();)this.pop()},s}(t.default),o=n;exports.default=o;
},{"../asserts.js":"fLG6","../events/Target.js":"8CR4","../events/EventType.js":"C8cu"}],"iAG7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.measureTextWidth=j,exports.rotateAtOffset=w,exports.drawImage=A,exports.resetTransform=exports.measureTextHeight=exports.checkFont=exports.textHeights=exports.checkedFonts=exports.labelCache=exports.defaultLineWidth=exports.defaultPadding=exports.defaultTextBaseline=exports.defaultTextAlign=exports.defaultStrokeStyle=exports.defaultMiterLimit=exports.defaultLineJoin=exports.defaultLineDashOffset=exports.defaultLineDash=exports.defaultLineCap=exports.defaultFillStyle=exports.defaultFont=void 0;var e=require("../css.js"),t=require("../dom.js"),r=require("../obj.js"),a=s(require("../structs/LRUCache.js")),o=require("../transform.js");function s(e){return e&&e.__esModule?e:{default:e}}var n="10px sans-serif";exports.defaultFont=n;var l=[0,0,0,1];exports.defaultFillStyle=l;var i="round";exports.defaultLineCap=i;var u=[];exports.defaultLineDash=u;var f=0;exports.defaultLineDashOffset=f;var p="round";exports.defaultLineJoin=p;var d=10;exports.defaultMiterLimit=d;var x=[0,0,0,1];exports.defaultStrokeStyle=x;var v="center";exports.defaultTextAlign=v;var c="middle";exports.defaultTextBaseline=c;var h=[0,0,0,0];exports.defaultPadding=h;var m=1;exports.defaultLineWidth=m;var g=new a.default;exports.labelCache=g;var y={};exports.checkedFonts=y;var T=null,L={};exports.textHeights=L;var b=function(){var t,a,o=60,s=y,n="32px ",l=["monospace","serif"],i=l.length,u="wmytzilWMYTZIL@#/&?$%10";function f(e){for(var t=C(),r=100;r<=700;r+=300){for(var o=r+" ",s=!0,f=0;f<i;++f){var p=l[f];if(t.font=o+n+p,a=t.measureText(u).width,e!=p){t.font=o+n+e+","+p;var d=t.measureText(u).width;s=s&&d!=a}}if(s)return!0}return!1}function p(){var e=!0;for(var a in s)s[a]<o&&(f(a)?(s[a]=o,(0,r.clear)(L),T=null,g.clear()):(++s[a],e=!1));e&&(clearInterval(t),t=void 0)}return function(r){var a=(0,e.getFontFamilies)(r);if(a)for(var n=0,l=a.length;n<l;++n){var i=a[n];i in s||(s[i]=o,f(i)||(s[i]=0,void 0===t&&(t=setInterval(p,32))))}}}();function C(){return T||(T=(0,t.createCanvasContext2D)(1,1)),T}exports.checkFont=b;var F=function(){var e,t=L;return function(r){var a=t[r];return null==a&&(e||((e=document.createElement("span")).textContent="M",e.style.margin=e.style.padding="0 !important",e.style.position="absolute !important",e.style.left="-99999px !important"),e.style.font=r,document.body.appendChild(e),a=t[r]=e.offsetHeight,document.body.removeChild(e)),a}}();function j(e,t){var r=C();return e!=r.font&&(r.font=e),r.measureText(t).width}function w(e,t,r,a){0!==t&&(e.translate(r,a),e.rotate(t),e.translate(-r,-a))}exports.measureTextHeight=F;var k=(0,o.create)();function A(e,t,r,a,o,s,n,l,i,u,f){var p;1!=r&&(p=e.globalAlpha,e.globalAlpha=p*r),t&&e.setTransform.apply(e,t),e.drawImage(a,o,s,n,l,i,u,n*f,l*f),p&&(e.globalAlpha=p),t&&e.setTransform.apply(e,k)}exports.resetTransform=k;
},{"../css.js":"HgMV","../dom.js":"Xno5","../obj.js":"mH6q","../structs/LRUCache.js":"oMDz","../transform.js":"P4eA"}],"S8ow":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../util.js"),e=function(t){this.opacity_=t.opacity,this.rotateWithView_=t.rotateWithView,this.rotation_=t.rotation,this.scale_=t.scale};e.prototype.clone=function(){return new e({opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},e.prototype.getOpacity=function(){return this.opacity_},e.prototype.getRotateWithView=function(){return this.rotateWithView_},e.prototype.getRotation=function(){return this.rotation_},e.prototype.getScale=function(){return this.scale_},e.prototype.getSnapToPixel=function(){return!1},e.prototype.getAnchor=function(){return(0,t.abstract)()},e.prototype.getImage=function(e){return(0,t.abstract)()},e.prototype.getHitDetectionImage=function(e){return(0,t.abstract)()},e.prototype.getImageState=function(){return(0,t.abstract)()},e.prototype.getImageSize=function(){return(0,t.abstract)()},e.prototype.getHitDetectionImageSize=function(){return(0,t.abstract)()},e.prototype.getOrigin=function(){return(0,t.abstract)()},e.prototype.getSize=function(){return(0,t.abstract)()},e.prototype.setOpacity=function(t){this.opacity_=t},e.prototype.setRotateWithView=function(t){this.rotateWithView_=t},e.prototype.setRotation=function(t){this.rotation_=t},e.prototype.setScale=function(t){this.scale_=t},e.prototype.setSnapToPixel=function(t){},e.prototype.listenImageChange=function(e,o){return(0,t.abstract)()},e.prototype.load=function(){(0,t.abstract)()},e.prototype.unlistenImageChange=function(e,o){(0,t.abstract)()};var o=e;exports.default=o;
},{"../util.js":"KniQ"}],"il3X":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../color.js"),i=require("../colorlike.js"),e=require("../dom.js"),s=require("../has.js"),a=r(require("../ImageState.js")),n=require("../render/canvas.js"),o=r(require("./Image.js"));function r(t){return t&&t.__esModule?t:{default:t}}var h=function(o){function r(t){var i=void 0!==t.rotateWithView&&t.rotateWithView;o.call(this,{opacity:1,rotateWithView:i,rotation:void 0!==t.rotation?t.rotation:0,scale:1}),this.checksums_=null,this.canvas_=null,this.hitDetectionCanvas_=null,this.fill_=void 0!==t.fill?t.fill:null,this.origin_=[0,0],this.points_=t.points,this.radius_=void 0!==t.radius?t.radius:t.radius1,this.radius2_=t.radius2,this.angle_=void 0!==t.angle?t.angle:0,this.stroke_=void 0!==t.stroke?t.stroke:null,this.anchor_=null,this.size_=null,this.imageSize_=null,this.hitDetectionImageSize_=null,this.atlasManager_=t.atlasManager,this.render_(this.atlasManager_)}return o&&(r.__proto__=o),r.prototype=Object.create(o&&o.prototype),r.prototype.constructor=r,r.prototype.clone=function(){var t=new r({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},r.prototype.getAnchor=function(){return this.anchor_},r.prototype.getAngle=function(){return this.angle_},r.prototype.getFill=function(){return this.fill_},r.prototype.getHitDetectionImage=function(t){return this.hitDetectionCanvas_},r.prototype.getImage=function(t){return this.canvas_},r.prototype.getImageSize=function(){return this.imageSize_},r.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},r.prototype.getImageState=function(){return a.default.LOADED},r.prototype.getOrigin=function(){return this.origin_},r.prototype.getPoints=function(){return this.points_},r.prototype.getRadius=function(){return this.radius_},r.prototype.getRadius2=function(){return this.radius2_},r.prototype.getSize=function(){return this.size_},r.prototype.getStroke=function(){return this.stroke_},r.prototype.listenImageChange=function(t,i){},r.prototype.load=function(){},r.prototype.unlistenImageChange=function(t,i){},r.prototype.render_=function(t){var a,o,r="",h="",l=0,u=null,_=0,c=0;this.stroke_&&(null===(o=this.stroke_.getColor())&&(o=n.defaultStrokeStyle),o=(0,i.asColorLike)(o),void 0===(c=this.stroke_.getWidth())&&(c=n.defaultLineWidth),u=this.stroke_.getLineDash(),_=this.stroke_.getLineDashOffset(),s.CANVAS_LINE_DASH||(u=null,_=0),void 0===(h=this.stroke_.getLineJoin())&&(h=n.defaultLineJoin),void 0===(r=this.stroke_.getLineCap())&&(r=n.defaultLineCap),void 0===(l=this.stroke_.getMiterLimit())&&(l=n.defaultMiterLimit));var d=2*(this.radius_+c)+1,g={strokeStyle:o,strokeWidth:c,size:d,lineCap:r,lineDash:u,lineDashOffset:_,lineJoin:h,miterLimit:l};if(void 0===t){var f=(0,e.createCanvasContext2D)(d,d);this.canvas_=f.canvas,a=d=this.canvas_.width,this.draw_(g,f,0,0),this.createHitDetectionCanvas_(g)}else{d=Math.round(d);var p,v=!this.fill_;v&&(p=this.drawHitDetectionCanvas_.bind(this,g));var k=this.getChecksum(),m=t.add(k,d,d,this.draw_.bind(this,g),p);this.canvas_=m.image,this.origin_=[m.offsetX,m.offsetY],a=m.image.width,v?(this.hitDetectionCanvas_=m.hitImage,this.hitDetectionImageSize_=[m.hitImage.width,m.hitImage.height]):(this.hitDetectionCanvas_=this.canvas_,this.hitDetectionImageSize_=[a,a])}this.anchor_=[d/2,d/2],this.size_=[d,d],this.imageSize_=[a,a]},r.prototype.draw_=function(t,e,s,a){var o,r,h;e.setTransform(1,0,0,1,0,0),e.translate(s,a),e.beginPath();var l=this.points_;if(l===1/0)e.arc(t.size/2,t.size/2,this.radius_,0,2*Math.PI,!0);else{var u=void 0!==this.radius2_?this.radius2_:this.radius_;for(u!==this.radius_&&(l*=2),o=0;o<=l;o++)r=2*o*Math.PI/l-Math.PI/2+this.angle_,h=o%2==0?this.radius_:u,e.lineTo(t.size/2+h*Math.cos(r),t.size/2+h*Math.sin(r))}if(this.fill_){var _=this.fill_.getColor();null===_&&(_=n.defaultFillStyle),e.fillStyle=(0,i.asColorLike)(_),e.fill()}this.stroke_&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.strokeWidth,t.lineDash&&(e.setLineDash(t.lineDash),e.lineDashOffset=t.lineDashOffset),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},r.prototype.createHitDetectionCanvas_=function(t){if(this.hitDetectionImageSize_=[t.size,t.size],this.fill_)this.hitDetectionCanvas_=this.canvas_;else{var i=(0,e.createCanvasContext2D)(t.size,t.size);this.hitDetectionCanvas_=i.canvas,this.drawHitDetectionCanvas_(t,i,0,0)}},r.prototype.drawHitDetectionCanvas_=function(i,e,s,a){e.setTransform(1,0,0,1,0,0),e.translate(s,a),e.beginPath();var o=this.points_;if(o===1/0)e.arc(i.size/2,i.size/2,this.radius_,0,2*Math.PI,!0);else{var r,h,l,u=void 0!==this.radius2_?this.radius2_:this.radius_;for(u!==this.radius_&&(o*=2),r=0;r<=o;r++)l=2*r*Math.PI/o-Math.PI/2+this.angle_,h=r%2==0?this.radius_:u,e.lineTo(i.size/2+h*Math.cos(l),i.size/2+h*Math.sin(l))}e.fillStyle=(0,t.asString)(n.defaultFillStyle),e.fill(),this.stroke_&&(e.strokeStyle=i.strokeStyle,e.lineWidth=i.strokeWidth,i.lineDash&&(e.setLineDash(i.lineDash),e.lineDashOffset=i.lineDashOffset),e.stroke()),e.closePath()},r.prototype.getChecksum=function(){var t=this.stroke_?this.stroke_.getChecksum():"-",i=this.fill_?this.fill_.getChecksum():"-";if(!this.checksums_||t!=this.checksums_[1]||i!=this.checksums_[2]||this.radius_!=this.checksums_[3]||this.radius2_!=this.checksums_[4]||this.angle_!=this.checksums_[5]||this.points_!=this.checksums_[6]){var e="r"+t+i+(void 0!==this.radius_?this.radius_.toString():"-")+(void 0!==this.radius2_?this.radius2_.toString():"-")+(void 0!==this.angle_?this.angle_.toString():"-")+(void 0!==this.points_?this.points_.toString():"-");this.checksums_=[e,t,i,this.radius_,this.radius2_,this.angle_,this.points_]}return this.checksums_[0]},r}(o.default),l=h;exports.default=l;
},{"../color.js":"eucy","../colorlike.js":"V5+X","../dom.js":"Xno5","../has.js":"f3Nv","../ImageState.js":"u3k+","../render/canvas.js":"iAG7","./Image.js":"S8ow"}],"cdf1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("./RegularShape.js"));function e(t){return t&&t.__esModule?t:{default:t}}var r=function(t){function e(e){var r=e||{};t.call(this,{points:1/0,fill:r.fill,radius:r.radius,stroke:r.stroke,atlasManager:r.atlasManager})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){var t=new e({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius(),atlasManager:this.atlasManager_});return t.setOpacity(this.getOpacity()),t.setScale(this.getScale()),t},e.prototype.setRadius=function(t){this.radius_=t,this.render_(this.atlasManager_)},e}(t.default),a=r;exports.default=a;
},{"./RegularShape.js":"il3X"}],"1he4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.toFunction=l,exports.createDefaultStyle=f,exports.createEditingStyle=d,exports.default=void 0;var e=require("../asserts.js"),t=i(require("../geom/GeometryType.js")),o=i(require("./Circle.js")),r=i(require("./Fill.js")),n=i(require("./Stroke.js"));function i(e){return e&&e.__esModule?e:{default:e}}var u=function(e){var t=e||{};this.geometry_=null,this.geometryFunction_=a,void 0!==t.geometry&&this.setGeometry(t.geometry),this.fill_=void 0!==t.fill?t.fill:null,this.image_=void 0!==t.image?t.image:null,this.renderer_=void 0!==t.renderer?t.renderer:null,this.stroke_=void 0!==t.stroke?t.stroke:null,this.text_=void 0!==t.text?t.text:null,this.zIndex_=t.zIndex};function l(t){var o;if("function"==typeof t)o=t;else{var r;if(Array.isArray(t))r=t;else(0,e.assert)("function"==typeof t.getZIndex,41),r=[t];o=function(){return r}}return o}u.prototype.clone=function(){var e=this.getGeometry();return e&&"object"==typeof e&&(e=e.clone()),new u({geometry:e,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},u.prototype.getRenderer=function(){return this.renderer_},u.prototype.setRenderer=function(e){this.renderer_=e},u.prototype.getGeometry=function(){return this.geometry_},u.prototype.getGeometryFunction=function(){return this.geometryFunction_},u.prototype.getFill=function(){return this.fill_},u.prototype.setFill=function(e){this.fill_=e},u.prototype.getImage=function(){return this.image_},u.prototype.setImage=function(e){this.image_=e},u.prototype.getStroke=function(){return this.stroke_},u.prototype.setStroke=function(e){this.stroke_=e},u.prototype.getText=function(){return this.text_},u.prototype.setText=function(e){this.text_=e},u.prototype.getZIndex=function(){return this.zIndex_},u.prototype.setGeometry=function(e){"function"==typeof e?this.geometryFunction_=e:"string"==typeof e?this.geometryFunction_=function(t){return t.get(e)}:e?void 0!==e&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=a,this.geometry_=e},u.prototype.setZIndex=function(e){this.zIndex_=e};var s=null;function f(e,t){if(!s){var i=new r.default({color:"rgba(255,255,255,0.4)"}),l=new n.default({color:"#3399CC",width:1.25});s=[new u({image:new o.default({fill:i,stroke:l,radius:5}),fill:i,stroke:l})]}return s}function d(){var e={},i=[255,255,255,1],l=[0,153,255,1];return e[t.default.POLYGON]=[new u({fill:new r.default({color:[255,255,255,.5]})})],e[t.default.MULTI_POLYGON]=e[t.default.POLYGON],e[t.default.LINE_STRING]=[new u({stroke:new n.default({color:i,width:5})}),new u({stroke:new n.default({color:l,width:3})})],e[t.default.MULTI_LINE_STRING]=e[t.default.LINE_STRING],e[t.default.CIRCLE]=e[t.default.POLYGON].concat(e[t.default.LINE_STRING]),e[t.default.POINT]=[new u({image:new o.default({radius:6,fill:new r.default({color:l}),stroke:new n.default({color:i,width:1.5})}),zIndex:1/0})],e[t.default.MULTI_POINT]=e[t.default.POINT],e[t.default.GEOMETRY_COLLECTION]=e[t.default.POLYGON].concat(e[t.default.LINE_STRING],e[t.default.POINT]),e}function a(e){return e.getGeometry()}var c=u;exports.default=c;
},{"../asserts.js":"fLG6","../geom/GeometryType.js":"lmV0","./Circle.js":"cdf1","./Fill.js":"AFcg","./Stroke.js":"TXDt"}],"dflx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("../LayerType.js")),t=o(require("./Layer.js")),r=o(require("./VectorRenderType.js")),n=require("../obj.js"),i=require("../style/Style.js");function o(e){return e&&e.__esModule?e:{default:e}}var u={RENDER_ORDER:"renderOrder"},d=function(t){function o(i){var o=i||{},u=(0,n.assign)({},o);delete u.style,delete u.renderBuffer,delete u.updateWhileAnimating,delete u.updateWhileInteracting,t.call(this,u),this.declutter_=void 0!==o.declutter&&o.declutter,this.renderBuffer_=void 0!==o.renderBuffer?o.renderBuffer:100,this.style_=null,this.styleFunction_=void 0,this.setStyle(o.style),this.updateWhileAnimating_=void 0!==o.updateWhileAnimating&&o.updateWhileAnimating,this.updateWhileInteracting_=void 0!==o.updateWhileInteracting&&o.updateWhileInteracting,this.renderMode_=o.renderMode||r.default.VECTOR,this.type=e.default.VECTOR}return t&&(o.__proto__=t),o.prototype=Object.create(t&&t.prototype),o.prototype.constructor=o,o.prototype.getDeclutter=function(){return this.declutter_},o.prototype.setDeclutter=function(e){this.declutter_=e},o.prototype.getRenderBuffer=function(){return this.renderBuffer_},o.prototype.getRenderOrder=function(){return this.get(u.RENDER_ORDER)},o.prototype.getStyle=function(){return this.style_},o.prototype.getStyleFunction=function(){return this.styleFunction_},o.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},o.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},o.prototype.setRenderOrder=function(e){this.set(u.RENDER_ORDER,e)},o.prototype.setStyle=function(e){this.style_=void 0!==e?e:i.createDefaultStyle,this.styleFunction_=null===e?void 0:(0,i.toFunction)(this.style_),this.changed()},o.prototype.getRenderMode=function(){return this.renderMode_},o}(t.default);d.prototype.getSource;var l=d;exports.default=l;
},{"../LayerType.js":"8+bQ","./Layer.js":"GCgv","./VectorRenderType.js":"oqAD","../obj.js":"mH6q","../style/Style.js":"1he4"}],"AbO3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={ARRAY_BUFFER:"arraybuffer",JSON:"json",TEXT:"text",XML:"xml"};exports.default=e;
},{}],"U3JP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.loadFeaturesXhr=s,exports.xhr=n;var e=require("./functions.js"),t=r(require("./format/FormatType.js"));function r(e){return e&&e.__esModule?e:{default:e}}function s(e,r,s,n){return function(a,o,u){var i=new XMLHttpRequest;i.open("GET","function"==typeof e?e(a,o,u):e,!0),r.getType()==t.default.ARRAY_BUFFER&&(i.responseType="arraybuffer"),i.onload=function(e){if(!i.status||i.status>=200&&i.status<300){var a,o=r.getType();o==t.default.JSON||o==t.default.TEXT?a=i.responseText:o==t.default.XML?(a=i.responseXML)||(a=(new DOMParser).parseFromString(i.responseText,"application/xml")):o==t.default.ARRAY_BUFFER&&(a=i.response),a?s.call(this,r.readFeatures(a,{featureProjection:u}),r.readProjection(a),r.getLastExtent()):n.call(this)}else n.call(this)}.bind(this),i.onerror=function(){n.call(this)}.bind(this),i.send()}}function n(t,r){return s(t,r,function(e,t){"function"==typeof this.addFeatures&&this.addFeatures(e)},e.VOID)}
},{"./functions.js":"RgA2","./format/FormatType.js":"AbO3"}],"JpXE":[function(require,module,exports) {
"use strict";function e(e,t){return[[-1/0,-1/0,1/0,1/0]]}function t(e,t){return[e]}function r(e){return function(t,r){var n=e.getZForResolution(r),o=e.getTileRangeForExtentAndZ(t,n),u=[],i=[n,0,0];for(i[1]=o.minX;i[1]<=o.maxX;++i[1])for(i[2]=o.minY;i[2]<=o.maxY;++i[2])u.push(e.getTileCoordExtent(i));return u}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.all=e,exports.bbox=t,exports.tile=r;
},{}],"H38a":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../util.js"),e=i(require("../Object.js")),o=require("../proj.js"),r=i(require("./State.js"));function i(t){return t&&t.__esModule?t:{default:t}}var n=function(e){function i(t){e.call(this),this.projection_=(0,o.get)(t.projection),this.attributions_=s(t.attributions),this.attributionsCollapsible_=void 0===t.attributionsCollapsible||t.attributionsCollapsible,this.loading=!1,this.state_=void 0!==t.state?t.state:r.default.READY,this.wrapX_=void 0!==t.wrapX&&t.wrapX}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.getAttributions=function(){return this.attributions_},i.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},i.prototype.getProjection=function(){return this.projection_},i.prototype.getResolutions=function(){return(0,t.abstract)()},i.prototype.getState=function(){return this.state_},i.prototype.getWrapX=function(){return this.wrapX_},i.prototype.refresh=function(){this.changed()},i.prototype.setAttributions=function(t){this.attributions_=s(t),this.changed()},i.prototype.setState=function(t){this.state_=t,this.changed()},i}(e.default);function s(t){return t?Array.isArray(t)?function(e){return t}:"function"==typeof t?t:function(e){return[t]}:null}var u=n;exports.default=u;
},{"../util.js":"KniQ","../Object.js":"PhPh","../proj.js":"Diht","./State.js":"iC8j"}],"s8Fc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={ADDFEATURE:"addfeature",CHANGEFEATURE:"changefeature",CLEAR:"clear",REMOVEFEATURE:"removefeature"};exports.default=e;
},{}],"+5J5":[function(require,module,exports) {
var define;
var global = arguments[3];
var t,o=arguments[3];!function(o,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof t&&t.amd?t(n):o.quickselect=n()}(this,function(){"use strict";function t(t,o,n){var r=t[o];t[o]=t[n],t[n]=r}function o(t,o){return t<o?-1:t>o?1:0}return function(n,r,e,f,u){!function o(n,r,e,f,u){for(;f>e;){if(f-e>600){var a=f-e+1,i=r-e+1,c=Math.log(a),h=.5*Math.exp(2*c/3),s=.5*Math.sqrt(c*h*(a-h)/a)*(i-a/2<0?-1:1),l=Math.max(e,Math.floor(r-i*h/a+s)),M=Math.min(f,Math.floor(r+(a-i)*h/a+s));o(n,r,l,M,u)}var m=n[r],p=e,d=f;for(t(n,e,r),u(n[f],m)>0&&t(n,e,f);p<d;){for(t(n,p,d),p++,d--;u(n[p],m)<0;)p++;for(;u(n[d],m)>0;)d--}0===u(n[e],m)?t(n,e,d):t(n,++d,f),d<=r&&(e=d+1),r<=d&&(f=d-1)}}(n,r,e||0,f||n.length-1,u||o)}});
},{}],"y0Xa":[function(require,module,exports) {
"use strict";module.exports=i,module.exports.default=i;var t=require("quickselect");function i(t,n){if(!(this instanceof i))return new i(t,n);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),n&&this._initFormat(n),this.clear()}function n(t,i,n){if(!n)return i.indexOf(t);for(var a=0;a<i.length;a++)if(n(t,i[a]))return a;return-1}function a(t,i){h(t,0,t.children.length,i,t)}function h(t,i,n,a,h){h||(h=x(null)),h.minX=1/0,h.minY=1/0,h.maxX=-1/0,h.maxY=-1/0;for(var r,o=i;o<n;o++)r=t.children[o],e(h,t.leaf?a(r):r);return h}function e(t,i){return t.minX=Math.min(t.minX,i.minX),t.minY=Math.min(t.minY,i.minY),t.maxX=Math.max(t.maxX,i.maxX),t.maxY=Math.max(t.maxY,i.maxY),t}function r(t,i){return t.minX-i.minX}function o(t,i){return t.minY-i.minY}function s(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function l(t){return t.maxX-t.minX+(t.maxY-t.minY)}function u(t,i){return(Math.max(i.maxX,t.maxX)-Math.min(i.minX,t.minX))*(Math.max(i.maxY,t.maxY)-Math.min(i.minY,t.minY))}function m(t,i){var n=Math.max(t.minX,i.minX),a=Math.max(t.minY,i.minY),h=Math.min(t.maxX,i.maxX),e=Math.min(t.maxY,i.maxY);return Math.max(0,h-n)*Math.max(0,e-a)}function c(t,i){return t.minX<=i.minX&&t.minY<=i.minY&&i.maxX<=t.maxX&&i.maxY<=t.maxY}function f(t,i){return i.minX<=t.maxX&&i.minY<=t.maxY&&i.maxX>=t.minX&&i.maxY>=t.minY}function x(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function d(i,n,a,h,e){for(var r,o=[n,a];o.length;)(a=o.pop())-(n=o.pop())<=h||(r=n+Math.ceil((a-n)/h/2)*h,t(i,r,n,a,e),o.push(n,r,r,a))}i.prototype={all:function(){return this._all(this.data,[])},search:function(t){var i=this.data,n=[],a=this.toBBox;if(!f(t,i))return n;for(var h,e,r,o,s=[];i;){for(h=0,e=i.children.length;h<e;h++)r=i.children[h],f(t,o=i.leaf?a(r):r)&&(i.leaf?n.push(r):c(t,o)?this._all(r,n):s.push(r));i=s.pop()}return n},collides:function(t){var i=this.data,n=this.toBBox;if(!f(t,i))return!1;for(var a,h,e,r,o=[];i;){for(a=0,h=i.children.length;a<h;a++)if(e=i.children[a],f(t,r=i.leaf?n(e):e)){if(i.leaf||c(t,r))return!0;o.push(e)}i=o.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var i=0,n=t.length;i<n;i++)this.insert(t[i]);return this}var a=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===a.height)this._splitRoot(this.data,a);else{if(this.data.height<a.height){var h=this.data;this.data=a,a=h}this._insert(a,this.data.height-a.height-1,!0)}else this.data=a;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=x([]),this},remove:function(t,i){if(!t)return this;for(var a,h,e,r,o=this.data,s=this.toBBox(t),l=[],u=[];o||l.length;){if(o||(o=l.pop(),h=l[l.length-1],a=u.pop(),r=!0),o.leaf&&-1!==(e=n(t,o.children,i)))return o.children.splice(e,1),l.push(o),this._condense(l),this;r||o.leaf||!c(o,s)?h?(a++,o=h.children[a],r=!1):o=null:(l.push(o),u.push(a),a=0,h=o,o=o.children[0])}return this},toBBox:function(t){return t},compareMinX:r,compareMinY:o,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,i){for(var n=[];t;)t.leaf?i.push.apply(i,t.children):n.push.apply(n,t.children),t=n.pop();return i},_build:function(t,i,n,h){var e,r=n-i+1,o=this._maxEntries;if(r<=o)return a(e=x(t.slice(i,n+1)),this.toBBox),e;h||(h=Math.ceil(Math.log(r)/Math.log(o)),o=Math.ceil(r/Math.pow(o,h-1))),(e=x([])).leaf=!1,e.height=h;var s,l,u,m,c=Math.ceil(r/o),f=c*Math.ceil(Math.sqrt(o));for(d(t,i,n,f,this.compareMinX),s=i;s<=n;s+=f)for(d(t,s,u=Math.min(s+f-1,n),c,this.compareMinY),l=s;l<=u;l+=c)m=Math.min(l+c-1,u),e.children.push(this._build(t,l,m,h-1));return a(e,this.toBBox),e},_chooseSubtree:function(t,i,n,a){for(var h,e,r,o,l,m,c,f;a.push(i),!i.leaf&&a.length-1!==n;){for(c=f=1/0,h=0,e=i.children.length;h<e;h++)l=s(r=i.children[h]),(m=u(t,r)-l)<f?(f=m,c=l<c?l:c,o=r):m===f&&l<c&&(c=l,o=r);i=o||i.children[0]}return i},_insert:function(t,i,n){var a=this.toBBox,h=n?t:a(t),r=[],o=this._chooseSubtree(h,this.data,i,r);for(o.children.push(t),e(o,h);i>=0&&r[i].children.length>this._maxEntries;)this._split(r,i),i--;this._adjustParentBBoxes(h,r,i)},_split:function(t,i){var n=t[i],h=n.children.length,e=this._minEntries;this._chooseSplitAxis(n,e,h);var r=this._chooseSplitIndex(n,e,h),o=x(n.children.splice(r,n.children.length-r));o.height=n.height,o.leaf=n.leaf,a(n,this.toBBox),a(o,this.toBBox),i?t[i-1].children.push(o):this._splitRoot(n,o)},_splitRoot:function(t,i){this.data=x([t,i]),this.data.height=t.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},_chooseSplitIndex:function(t,i,n){var a,e,r,o,l,u,c,f;for(u=c=1/0,a=i;a<=n-i;a++)o=m(e=h(t,0,a,this.toBBox),r=h(t,a,n,this.toBBox)),l=s(e)+s(r),o<u?(u=o,f=a,c=l<c?l:c):o===u&&l<c&&(c=l,f=a);return f},_chooseSplitAxis:function(t,i,n){var a=t.leaf?this.compareMinX:r,h=t.leaf?this.compareMinY:o;this._allDistMargin(t,i,n,a)<this._allDistMargin(t,i,n,h)&&t.children.sort(a)},_allDistMargin:function(t,i,n,a){t.children.sort(a);var r,o,s=this.toBBox,u=h(t,0,i,s),m=h(t,n-i,n,s),c=l(u)+l(m);for(r=i;r<n-i;r++)o=t.children[r],e(u,t.leaf?s(o):o),c+=l(u);for(r=n-i-1;r>=i;r--)o=t.children[r],e(m,t.leaf?s(o):o),c+=l(m);return c},_adjustParentBBoxes:function(t,i,n){for(var a=n;a>=0;a--)e(i[a],t)},_condense:function(t){for(var i,n=t.length-1;n>=0;n--)0===t[n].children.length?n>0?(i=t[n-1].children).splice(i.indexOf(t[n]),1):this.clear():a(t[n],this.toBBox)},_initFormat:function(t){var i=["return a"," - b",";"];this.compareMinX=new Function("a","b",i.join(t[0])),this.compareMinY=new Function("a","b",i.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}};
},{"quickselect":"+5J5"}],"MiUH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../util.js"),e=n(require("rbush")),r=require("../extent.js"),i=require("../obj.js");function n(t){return t&&t.__esModule?t:{default:t}}var o=function(t){this.rbush_=(0,e.default)(t,void 0),this.items_={}};o.prototype.insert=function(e,r){var i={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:r};this.rbush_.insert(i),this.items_[(0,t.getUid)(r)]=i},o.prototype.load=function(e,r){for(var i=new Array(r.length),n=0,o=r.length;n<o;n++){var s=e[n],u=r[n],a={minX:s[0],minY:s[1],maxX:s[2],maxY:s[3],value:u};i[n]=a,this.items_[(0,t.getUid)(u)]=a}this.rbush_.load(i)},o.prototype.remove=function(e){var r=(0,t.getUid)(e),i=this.items_[r];return delete this.items_[r],null!==this.rbush_.remove(i)},o.prototype.update=function(e,i){var n=this.items_[(0,t.getUid)(i)],o=[n.minX,n.minY,n.maxX,n.maxY];(0,r.equals)(o,e)||(this.remove(i),this.insert(e,i))},o.prototype.getAll=function(){return this.rbush_.all().map(function(t){return t.value})},o.prototype.getInExtent=function(t){var e={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3]};return this.rbush_.search(e).map(function(t){return t.value})},o.prototype.forEach=function(t,e){return this.forEach_(this.getAll(),t,e)},o.prototype.forEachInExtent=function(t,e,r){return this.forEach_(this.getInExtent(t),e,r)},o.prototype.forEach_=function(t,e,r){for(var i,n=0,o=t.length;n<o;n++)if(i=e.call(r,t[n]))return i;return i},o.prototype.isEmpty=function(){return(0,i.isEmpty)(this.items_)},o.prototype.clear=function(){this.rbush_.clear(),this.items_={}},o.prototype.getExtent=function(t){var e=this.rbush_.toJSON();return(0,r.createOrUpdate)(e.minX,e.minY,e.maxX,e.maxY,t)},o.prototype.concat=function(t){for(var e in this.rbush_.load(t.rbush_.all()),t.items_)this.items_[e]=t.items_[e]};var s=o;exports.default=s;
},{"../util.js":"KniQ","rbush":"y0Xa","../extent.js":"QDir","../obj.js":"mH6q"}],"ZS12":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.VectorSourceEvent=void 0;var e=require("../util.js"),t=E(require("../Collection.js")),r=E(require("../CollectionEventType.js")),n=E(require("../ObjectEventType.js")),i=require("../array.js"),s=require("../asserts.js"),o=require("../events.js"),a=E(require("../events/Event.js")),u=E(require("../events/EventType.js")),h=require("../extent.js"),d=require("../featureloader.js"),l=require("../functions.js"),f=require("../loadingstrategy.js"),_=require("../obj.js"),c=E(require("./Source.js")),p=E(require("./State.js")),v=E(require("./VectorEventType.js")),y=E(require("../structs/RBush.js"));function E(e){return e&&e.__esModule?e:{default:e}}var g=function(e){function t(t,r){e.call(this,t),this.feature=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(a.default);exports.VectorSourceEvent=g;var I=function(a){function c(e){var r=e||{};a.call(this,{attributions:r.attributions,projection:void 0,state:p.default.READY,wrapX:void 0===r.wrapX||r.wrapX}),this.loader_=l.VOID,this.format_=r.format,this.overlaps_=null==r.overlaps||r.overlaps,this.url_=r.url,void 0!==r.loader?this.loader_=r.loader:void 0!==this.url_&&((0,s.assert)(this.format_,7),this.loader_=(0,d.xhr)(this.url_,this.format_)),this.strategy_=void 0!==r.strategy?r.strategy:f.all;var n,i,o=void 0===r.useSpatialIndex||r.useSpatialIndex;this.featuresRtree_=o?new y.default:null,this.loadedExtentsRtree_=new y.default,this.nullGeometryFeatures_={},this.idIndex_={},this.undefIdIndex_={},this.featureChangeKeys_={},this.featuresCollection_=null,Array.isArray(r.features)?i=r.features:r.features&&(i=(n=r.features).getArray()),o||void 0!==n||(n=new t.default(i)),void 0!==i&&this.addFeaturesInternal(i),void 0!==n&&this.bindFeaturesCollection_(n)}return a&&(c.__proto__=a),c.prototype=Object.create(a&&a.prototype),c.prototype.constructor=c,c.prototype.addFeature=function(e){this.addFeatureInternal(e),this.changed()},c.prototype.addFeatureInternal=function(t){var r=(0,e.getUid)(t);if(this.addToIndex_(r,t)){this.setupChangeEvents_(r,t);var n=t.getGeometry();if(n){var i=n.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(i,t)}else this.nullGeometryFeatures_[r]=t;this.dispatchEvent(new g(v.default.ADDFEATURE,t))}},c.prototype.setupChangeEvents_=function(e,t){this.featureChangeKeys_[e]=[(0,o.listen)(t,u.default.CHANGE,this.handleFeatureChange_,this),(0,o.listen)(t,n.default.PROPERTYCHANGE,this.handleFeatureChange_,this)]},c.prototype.addToIndex_=function(e,t){var r=!0,n=t.getId();return void 0!==n?n.toString()in this.idIndex_?r=!1:this.idIndex_[n.toString()]=t:((0,s.assert)(!(e in this.undefIdIndex_),30),this.undefIdIndex_[e]=t),r},c.prototype.addFeatures=function(e){this.addFeaturesInternal(e),this.changed()},c.prototype.addFeaturesInternal=function(t){for(var r=[],n=[],i=[],s=0,o=t.length;s<o;s++){var a=t[s],u=(0,e.getUid)(a);this.addToIndex_(u,a)&&n.push(a)}for(var h=0,d=n.length;h<d;h++){var l=n[h],f=(0,e.getUid)(l);this.setupChangeEvents_(f,l);var _=l.getGeometry();if(_){var c=_.getExtent();r.push(c),i.push(l)}else this.nullGeometryFeatures_[f]=l}this.featuresRtree_&&this.featuresRtree_.load(r,i);for(var p=0,y=n.length;p<y;p++)this.dispatchEvent(new g(v.default.ADDFEATURE,n[p]))},c.prototype.bindFeaturesCollection_=function(e){var t=!1;(0,o.listen)(this,v.default.ADDFEATURE,function(r){t||(t=!0,e.push(r.feature),t=!1)}),(0,o.listen)(this,v.default.REMOVEFEATURE,function(r){t||(t=!0,e.remove(r.feature),t=!1)}),(0,o.listen)(e,r.default.ADD,function(e){t||(t=!0,this.addFeature(e.element),t=!1)},this),(0,o.listen)(e,r.default.REMOVE,function(e){t||(t=!0,this.removeFeature(e.element),t=!1)},this),this.featuresCollection_=e},c.prototype.clear=function(e){if(e){for(var t in this.featureChangeKeys_){this.featureChangeKeys_[t].forEach(o.unlistenByKey)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.undefIdIndex_={})}else if(this.featuresRtree_)for(var r in this.featuresRtree_.forEach(this.removeFeatureInternal,this),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[r]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.loadedExtentsRtree_.clear(),this.nullGeometryFeatures_={};var n=new g(v.default.CLEAR);this.dispatchEvent(n),this.changed()},c.prototype.forEachFeature=function(e){if(this.featuresRtree_)return this.featuresRtree_.forEach(e);this.featuresCollection_&&this.featuresCollection_.forEach(e)},c.prototype.forEachFeatureAtCoordinateDirect=function(e,t){var r=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(r,function(r){return r.getGeometry().intersectsCoordinate(e)?t(r):void 0})},c.prototype.forEachFeatureInExtent=function(e,t){if(this.featuresRtree_)return this.featuresRtree_.forEachInExtent(e,t);this.featuresCollection_&&this.featuresCollection_.forEach(t)},c.prototype.forEachFeatureIntersectingExtent=function(e,t){return this.forEachFeatureInExtent(e,function(r){if(r.getGeometry().intersectsExtent(e)){var n=t(r);if(n)return n}})},c.prototype.getFeaturesCollection=function(){return this.featuresCollection_},c.prototype.getFeatures=function(){var e;return this.featuresCollection_?e=this.featuresCollection_.getArray():this.featuresRtree_&&(e=this.featuresRtree_.getAll(),(0,_.isEmpty)(this.nullGeometryFeatures_)||(0,i.extend)(e,(0,_.getValues)(this.nullGeometryFeatures_))),e},c.prototype.getFeaturesAtCoordinate=function(e){var t=[];return this.forEachFeatureAtCoordinateDirect(e,function(e){t.push(e)}),t},c.prototype.getFeaturesInExtent=function(e){return this.featuresRtree_.getInExtent(e)},c.prototype.getClosestFeatureToCoordinate=function(e,t){var r=e[0],n=e[1],i=null,s=[NaN,NaN],o=1/0,a=[-1/0,-1/0,1/0,1/0],u=t||l.TRUE;return this.featuresRtree_.forEachInExtent(a,function(e){if(u(e)){var t=e.getGeometry(),h=o;if((o=t.closestPointXY(r,n,s,o))<h){i=e;var d=Math.sqrt(o);a[0]=r-d,a[1]=n-d,a[2]=r+d,a[3]=n+d}}}),i},c.prototype.getExtent=function(e){return this.featuresRtree_.getExtent(e)},c.prototype.getFeatureById=function(e){var t=this.idIndex_[e.toString()];return void 0!==t?t:null},c.prototype.getFormat=function(){return this.format_},c.prototype.getOverlaps=function(){return this.overlaps_},c.prototype.getUrl=function(){return this.url_},c.prototype.handleFeatureChange_=function(t){var r=t.target,n=(0,e.getUid)(r),i=r.getGeometry();if(i){var s=i.getExtent();n in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[n],this.featuresRtree_&&this.featuresRtree_.insert(s,r)):this.featuresRtree_&&this.featuresRtree_.update(s,r)}else n in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(r),this.nullGeometryFeatures_[n]=r);var o=r.getId();if(void 0!==o){var a=o.toString();n in this.undefIdIndex_?(delete this.undefIdIndex_[n],this.idIndex_[a]=r):this.idIndex_[a]!==r&&(this.removeFromIdIndex_(r),this.idIndex_[a]=r)}else n in this.undefIdIndex_||(this.removeFromIdIndex_(r),this.undefIdIndex_[n]=r);this.changed(),this.dispatchEvent(new g(v.default.CHANGEFEATURE,r))},c.prototype.hasFeature=function(t){var r=t.getId();return void 0!==r?r in this.idIndex_:(0,e.getUid)(t)in this.undefIdIndex_},c.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&(0,_.isEmpty)(this.nullGeometryFeatures_)},c.prototype.loadFeatures=function(e,t,r){var n=this,i=this.loadedExtentsRtree_,s=this.strategy_(e,t);this.loading=!1;for(var o=function(e,o){var a=s[e];i.forEachInExtent(a,function(e){return(0,h.containsExtent)(e.extent,a)})||(n.loader_.call(n,a,t,r),i.insert(a,{extent:a.slice()}),n.loading=n.loader_!==l.VOID)},a=0,u=s.length;a<u;++a)o(a)},c.prototype.removeLoadedExtent=function(e){var t,r=this.loadedExtentsRtree_;r.forEachInExtent(e,function(r){if((0,h.equals)(r.extent,e))return t=r,!0}),t&&r.remove(t)},c.prototype.removeFeature=function(t){var r=(0,e.getUid)(t);r in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[r]:this.featuresRtree_&&this.featuresRtree_.remove(t),this.removeFeatureInternal(t),this.changed()},c.prototype.removeFeatureInternal=function(t){var r=(0,e.getUid)(t);this.featureChangeKeys_[r].forEach(o.unlistenByKey),delete this.featureChangeKeys_[r];var n=t.getId();void 0!==n?delete this.idIndex_[n.toString()]:delete this.undefIdIndex_[r],this.dispatchEvent(new g(v.default.REMOVEFEATURE,t))},c.prototype.removeFromIdIndex_=function(e){var t=!1;for(var r in this.idIndex_)if(this.idIndex_[r]===e){delete this.idIndex_[r],t=!0;break}return t},c.prototype.setLoader=function(e){this.loader_=e},c}(c.default),x=I;exports.default=x;
},{"../util.js":"KniQ","../Collection.js":"FnDa","../CollectionEventType.js":"BTrx","../ObjectEventType.js":"zehl","../array.js":"luEr","../asserts.js":"fLG6","../events.js":"55Uq","../events/Event.js":"fKNg","../events/EventType.js":"C8cu","../extent.js":"QDir","../featureloader.js":"U3JP","../functions.js":"RgA2","../loadingstrategy.js":"JpXE","../obj.js":"mH6q","./Source.js":"H38a","./State.js":"iC8j","./VectorEventType.js":"s8Fc","../structs/RBush.js":"MiUH"}],"5e7i":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createRegularPolygon=F,exports.createBox=R,exports.default=void 0;var t=N(require("../events/EventType.js")),e=N(require("../Feature.js")),i=N(require("../MapBrowserEventType.js")),s=N(require("../MapBrowserPointerEvent.js")),o=require("../Object.js"),r=require("../coordinate.js"),n=require("../events.js"),h=N(require("../events/Event.js")),a=require("../events/condition.js"),d=require("../extent.js"),u=require("../functions.js"),_=N(require("../geom/Circle.js")),l=N(require("../geom/GeometryType.js")),c=N(require("../geom/LineString.js")),f=N(require("../geom/MultiLineString.js")),p=N(require("../geom/MultiPoint.js")),y=N(require("../geom/MultiPolygon.js")),g=require("../pointer/MouseSource.js"),m=N(require("../geom/Point.js")),C=w(require("../geom/Polygon.js")),P=N(require("./Pointer.js")),k=N(require("./Property.js")),T=N(require("../layer/Vector.js")),v=N(require("../source/Vector.js")),O=require("../style/Style.js");function w(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};s.get||s.set?Object.defineProperty(e,i,s):e[i]=t[i]}return e.default=t,e}function N(t){return t&&t.__esModule?t:{default:t}}var L={POINT:"Point",LINE_STRING:"LineString",POLYGON:"Polygon",CIRCLE:"Circle"},I={DRAWSTART:"drawstart",DRAWEND:"drawend"},E=function(t){function e(e,i){t.call(this,e),this.feature=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(h.default),D=function(h){function d(t){var e=t;e.stopDown||(e.stopDown=u.FALSE),h.call(this,e),this.shouldHandle_=!1,this.downPx_=null,this.downTimeout_,this.lastDragTime_,this.freehand_=!1,this.source_=t.source?t.source:null,this.features_=t.features?t.features:null,this.snapTolerance_=t.snapTolerance?t.snapTolerance:12,this.type_=t.type,this.mode_=S(this.type_),this.stopClick_=!!t.stopClick,this.minPoints_=t.minPoints?t.minPoints:this.mode_===L.POLYGON?3:2,this.maxPoints_=t.maxPoints?t.maxPoints:1/0,this.finishCondition_=t.finishCondition?t.finishCondition:u.TRUE;var i=t.geometryFunction;if(!i)if(this.type_===l.default.CIRCLE)i=function(t,e){var i=e||new _.default([NaN,NaN]),s=(0,r.squaredDistance)(t[0],t[1]);return i.setCenterAndRadius(t[0],Math.sqrt(s)),i};else{var s,d=this.mode_;d===L.POINT?s=m.default:d===L.LINE_STRING?s=c.default:d===L.POLYGON&&(s=C.default),i=function(t,e){var i=e;return i?d===L.POLYGON?t[0].length?i.setCoordinates([t[0].concat([t[0][0]])]):i.setCoordinates([]):i.setCoordinates(t):i=new s(t),i}}this.geometryFunction_=i,this.dragVertexDelay_=void 0!==t.dragVertexDelay?t.dragVertexDelay:500,this.finishCoordinate_=null,this.sketchFeature_=null,this.sketchPoint_=null,this.sketchCoords_=null,this.sketchLine_=null,this.sketchLineCoords_=null,this.squaredClickTolerance_=t.clickTolerance?t.clickTolerance*t.clickTolerance:36,this.overlay_=new T.default({source:new v.default({useSpatialIndex:!1,wrapX:!!t.wrapX&&t.wrapX}),style:t.style?t.style:G(),updateWhileInteracting:!0}),this.geometryName_=t.geometryName,this.condition_=t.condition?t.condition:a.noModifierKeys,this.freehandCondition_,t.freehand?this.freehandCondition_=a.always:this.freehandCondition_=t.freehandCondition?t.freehandCondition:a.shiftKeyOnly,(0,n.listen)(this,(0,o.getChangeEventType)(k.default.ACTIVE),this.updateState_,this)}return h&&(d.__proto__=h),d.prototype=Object.create(h&&h.prototype),d.prototype.constructor=d,d.prototype.setMap=function(t){h.prototype.setMap.call(this,t),this.updateState_()},d.prototype.getOverlay=function(){return this.overlay_},d.prototype.handleEvent=function(e){e.originalEvent.type===t.default.CONTEXTMENU&&e.preventDefault(),this.freehand_=this.mode_!==L.POINT&&this.freehandCondition_(e);var s=e.type===i.default.POINTERMOVE,o=!0;!this.freehand_&&this.lastDragTime_&&e.type===i.default.POINTERDRAG&&(Date.now()-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=e.pixel,this.shouldHandle_=!this.freehand_,s=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0));return this.freehand_&&e.type===i.default.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(e),o=!1):this.freehand_&&e.type===i.default.POINTERDOWN?o=!1:s?(o=e.type===i.default.POINTERMOVE)&&this.freehand_?o=this.handlePointerMove_(e):(e.pointerEvent.pointerType==g.POINTER_TYPE||e.type===i.default.POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(e):e.type===i.default.DBLCLICK&&(o=!1),h.prototype.handleEvent.call(this,e)&&o},d.prototype.handleDownEvent=function(t){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=t.pixel,this.finishCoordinate_||this.startDrawing_(t),!0):!!this.condition_(t)&&(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new s.default(i.default.POINTERMOVE,t.map,t.pointerEvent,!1,t.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=t.pixel,!0)},d.prototype.handleUpEvent=function(t){var e=!0;this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(t);var i=this.mode_===L.CIRCLE;return this.shouldHandle_?(this.finishCoordinate_?this.freehand_||i?this.finishDrawing():this.atFinish_(t)?this.finishCondition_(t)&&this.finishDrawing():this.addToDrawing_(t):(this.startDrawing_(t),this.mode_===L.POINT&&this.finishDrawing()),e=!1):this.freehand_&&(this.finishCoordinate_=null,this.abortDrawing_()),!e&&this.stopClick_&&t.stopPropagation(),e},d.prototype.handlePointerMove_=function(t){if(this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var e=this.downPx_,i=t.pixel,s=e[0]-i[0],o=e[1]-i[1],r=s*s+o*o;if(this.shouldHandle_=this.freehand_?r>this.squaredClickTolerance_:r<=this.squaredClickTolerance_,!this.shouldHandle_)return!0}return this.finishCoordinate_?this.modifyDrawing_(t):this.createOrUpdateSketchPoint_(t),!0},d.prototype.atFinish_=function(t){var e=!1;if(this.sketchFeature_){var i=!1,s=[this.finishCoordinate_];if(this.mode_===L.LINE_STRING)i=this.sketchCoords_.length>this.minPoints_;else if(this.mode_===L.POLYGON){var o=this.sketchCoords_;i=o[0].length>this.minPoints_,s=[o[0][0],o[0][o[0].length-2]]}if(i)for(var r=t.map,n=0,h=s.length;n<h;n++){var a=s[n],d=r.getPixelFromCoordinate(a),u=t.pixel,_=u[0]-d[0],l=u[1]-d[1],c=this.freehand_?1:this.snapTolerance_;if(e=Math.sqrt(_*_+l*l)<=c){this.finishCoordinate_=a;break}}}return e},d.prototype.createOrUpdateSketchPoint_=function(t){var i=t.coordinate.slice();this.sketchPoint_?this.sketchPoint_.getGeometry().setCoordinates(i):(this.sketchPoint_=new e.default(new m.default(i)),this.updateSketchFeatures_())},d.prototype.startDrawing_=function(t){var i=t.coordinate;this.finishCoordinate_=i,this.mode_===L.POINT?this.sketchCoords_=i.slice():this.mode_===L.POLYGON?(this.sketchCoords_=[[i.slice(),i.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[i.slice(),i.slice()],this.sketchLineCoords_&&(this.sketchLine_=new e.default(new c.default(this.sketchLineCoords_)));var s=this.geometryFunction_(this.sketchCoords_);this.sketchFeature_=new e.default,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(s),this.updateSketchFeatures_(),this.dispatchEvent(new E(I.DRAWSTART,this.sketchFeature_))},d.prototype.modifyDrawing_=function(t){var i,s,o,r=t.coordinate,n=this.sketchFeature_.getGeometry();(this.mode_===L.POINT?s=this.sketchCoords_:this.mode_===L.POLYGON?(s=(i=this.sketchCoords_[0])[i.length-1],this.atFinish_(t)&&(r=this.finishCoordinate_.slice())):s=(i=this.sketchCoords_)[i.length-1],s[0]=r[0],s[1]=r[1],this.geometryFunction_(this.sketchCoords_,n),this.sketchPoint_)&&this.sketchPoint_.getGeometry().setCoordinates(r);if(n.getType()==l.default.POLYGON&&this.mode_!==L.POLYGON){this.sketchLine_||(this.sketchLine_=new e.default);var h=n.getLinearRing(0);(o=this.sketchLine_.getGeometry())?(o.setFlatCoordinates(h.getLayout(),h.getFlatCoordinates()),o.changed()):(o=new c.default(h.getFlatCoordinates(),h.getLayout()),this.sketchLine_.setGeometry(o))}else this.sketchLineCoords_&&(o=this.sketchLine_.getGeometry()).setCoordinates(this.sketchLineCoords_);this.updateSketchFeatures_()},d.prototype.addToDrawing_=function(t){var e,i,s=t.coordinate,o=this.sketchFeature_.getGeometry();this.mode_===L.LINE_STRING?(this.finishCoordinate_=s.slice(),(i=this.sketchCoords_).length>=this.maxPoints_&&(this.freehand_?i.pop():e=!0),i.push(s.slice()),this.geometryFunction_(i,o)):this.mode_===L.POLYGON&&((i=this.sketchCoords_[0]).length>=this.maxPoints_&&(this.freehand_?i.pop():e=!0),i.push(s.slice()),e&&(this.finishCoordinate_=i[0]),this.geometryFunction_(this.sketchCoords_,o)),this.updateSketchFeatures_(),e&&this.finishDrawing()},d.prototype.removeLastPoint=function(){if(this.sketchFeature_){var t,e=this.sketchFeature_.getGeometry();this.mode_===L.LINE_STRING?((t=this.sketchCoords_).splice(-2,1),this.geometryFunction_(t,e),t.length>=2&&(this.finishCoordinate_=t[t.length-2].slice())):this.mode_===L.POLYGON&&((t=this.sketchCoords_[0]).splice(-2,1),this.sketchLine_.getGeometry().setCoordinates(t),this.geometryFunction_(this.sketchCoords_,e)),0===t.length&&(this.finishCoordinate_=null),this.updateSketchFeatures_()}},d.prototype.finishDrawing=function(){var t=this.abortDrawing_();if(t){var e=this.sketchCoords_,i=t.getGeometry();this.mode_===L.LINE_STRING?(e.pop(),this.geometryFunction_(e,i)):this.mode_===L.POLYGON&&(e[0].pop(),this.geometryFunction_(e,i),e=i.getCoordinates()),this.type_===l.default.MULTI_POINT?t.setGeometry(new p.default([e])):this.type_===l.default.MULTI_LINE_STRING?t.setGeometry(new f.default([e])):this.type_===l.default.MULTI_POLYGON&&t.setGeometry(new y.default([e])),this.dispatchEvent(new E(I.DRAWEND,t)),this.features_&&this.features_.push(t),this.source_&&this.source_.addFeature(t)}},d.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var t=this.sketchFeature_;return t&&(this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0)),t},d.prototype.extend=function(t){var e=t.getGeometry();this.sketchFeature_=t,this.sketchCoords_=e.getCoordinates();var i=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=i.slice(),this.sketchCoords_.push(i.slice()),this.updateSketchFeatures_(),this.dispatchEvent(new E(I.DRAWSTART,this.sketchFeature_))},d.prototype.updateSketchFeatures_=function(){var t=[];this.sketchFeature_&&t.push(this.sketchFeature_),this.sketchLine_&&t.push(this.sketchLine_),this.sketchPoint_&&t.push(this.sketchPoint_);var e=this.overlay_.getSource();e.clear(!0),e.addFeatures(t)},d.prototype.updateState_=function(){var t=this.getMap(),e=this.getActive();t&&e||this.abortDrawing_(),this.overlay_.setMap(e?t:null)},d}(P.default);function G(){var t=(0,O.createEditingStyle)();return function(e,i){return t[e.getGeometry().getType()]}}function F(t,e){return function(i,s){var o=i[0],n=i[1],h=Math.sqrt((0,r.squaredDistance)(o,n)),a=s||(0,C.fromCircle)(new _.default(o),t),d=e;if(!e){var u=n[0]-o[0],l=n[1]-o[1];d=Math.atan(l/u)-(u<0?Math.PI:0)}return(0,C.makeRegular)(a,o,h,d),a}}function R(){return function(t,e){var i=(0,d.boundingExtent)(t),s=[[(0,d.getBottomLeft)(i),(0,d.getBottomRight)(i),(0,d.getTopRight)(i),(0,d.getTopLeft)(i),(0,d.getBottomLeft)(i)]],o=e;return o?o.setCoordinates(s):o=new C.default(s),o}}function S(t){var e;return t===l.default.POINT||t===l.default.MULTI_POINT?e=L.POINT:t===l.default.LINE_STRING||t===l.default.MULTI_LINE_STRING?e=L.LINE_STRING:t===l.default.POLYGON||t===l.default.MULTI_POLYGON?e=L.POLYGON:t===l.default.CIRCLE&&(e=L.CIRCLE),e}var j=D;exports.default=j;
},{"../events/EventType.js":"C8cu","../Feature.js":"mYW9","../MapBrowserEventType.js":"Yh/D","../MapBrowserPointerEvent.js":"J1WQ","../Object.js":"PhPh","../coordinate.js":"nGsj","../events.js":"55Uq","../events/Event.js":"fKNg","../events/condition.js":"YcID","../extent.js":"QDir","../functions.js":"RgA2","../geom/Circle.js":"AyCw","../geom/GeometryType.js":"lmV0","../geom/LineString.js":"DfxW","../geom/MultiLineString.js":"4fbC","../geom/MultiPoint.js":"dNu5","../geom/MultiPolygon.js":"6ouh","../pointer/MouseSource.js":"Plx9","../geom/Point.js":"gLcY","../geom/Polygon.js":"6Nww","./Pointer.js":"dnA2","./Property.js":"caOi","../layer/Vector.js":"dflx","../source/Vector.js":"ZS12","../style/Style.js":"1he4"}],"1o7b":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=c(require("../Feature.js")),t=c(require("../MapBrowserEventType.js")),r=require("../coordinate.js"),n=c(require("../events/Event.js")),o=require("../extent.js"),i=c(require("../geom/GeometryType.js")),a=c(require("../geom/Point.js")),u=require("../geom/Polygon.js"),l=c(require("./Pointer.js")),s=c(require("../layer/Vector.js")),p=c(require("../source/Vector.js")),d=require("../style/Style.js");function c(e){return e&&e.__esModule?e:{default:e}}var h={EXTENTCHANGED:"extentchanged"},x=function(e){function t(t){e.call(this,h.EXTENTCHANGED),this.extent=t}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(n.default),_=function(n){function i(e){var t=e||{};n.call(this,t),this.extent_=null,this.pointerHandler_=null,this.pixelTolerance_=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.snappedToVertex_=!1,this.extentFeature_=null,this.vertexFeature_=null,e||(e={}),this.extentOverlay_=new s.default({source:new p.default({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.boxStyle?e.boxStyle:f(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.vertexOverlay_=new s.default({source:new p.default({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.pointerStyle?e.pointerStyle:v(),updateWhileAnimating:!0,updateWhileInteracting:!0}),e.extent&&this.setExtent(e.extent)}return n&&(i.__proto__=n),i.prototype=Object.create(n&&n.prototype),i.prototype.constructor=i,i.prototype.snapToVertex_=function(e,t){var n=t.getCoordinateFromPixel(e),o=this.getExtent();if(o){var i=g(o);i.sort(function(e,t){return(0,r.squaredDistanceToSegment)(n,e)-(0,r.squaredDistanceToSegment)(n,t)});var a=i[0],u=(0,r.closestOnSegment)(n,a),l=t.getPixelFromCoordinate(u);if((0,r.distance)(e,l)<=this.pixelTolerance_){var s=t.getPixelFromCoordinate(a[0]),p=t.getPixelFromCoordinate(a[1]),d=(0,r.squaredDistance)(l,s),c=(0,r.squaredDistance)(l,p),h=Math.sqrt(Math.min(d,c));return this.snappedToVertex_=h<=this.pixelTolerance_,this.snappedToVertex_&&(u=d>c?a[1]:a[0]),u}}return null},i.prototype.handlePointerMove_=function(e){var t=e.pixel,r=e.map,n=this.snapToVertex_(t,r);n||(n=r.getCoordinateFromPixel(t)),this.createOrUpdatePointerFeature_(n)},i.prototype.createOrUpdateExtentFeature_=function(t){var r=this.extentFeature_;return r?t?r.setGeometry((0,u.fromExtent)(t)):r.setGeometry(void 0):(r=t?new e.default((0,u.fromExtent)(t)):new e.default({}),this.extentFeature_=r,this.extentOverlay_.getSource().addFeature(r)),r},i.prototype.createOrUpdatePointerFeature_=function(t){var r=this.vertexFeature_;r?r.getGeometry().setCoordinates(t):(r=new e.default(new a.default(t)),this.vertexFeature_=r,this.vertexOverlay_.getSource().addFeature(r));return r},i.prototype.handleEvent=function(e){return!e.pointerEvent||(e.type!=t.default.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(e),n.prototype.handleEvent.call(this,e),!1)},i.prototype.handleDownEvent=function(e){var t=e.pixel,r=e.map,n=this.getExtent(),o=this.snapToVertex_(t,r),i=function(e){var t=null,r=null;return e[0]==n[0]?t=n[2]:e[0]==n[2]&&(t=n[0]),e[1]==n[1]?r=n[3]:e[1]==n[3]&&(r=n[1]),null!==t&&null!==r?[t,r]:null};if(o&&n){var a=o[0]==n[0]||o[0]==n[2]?o[0]:null,u=o[1]==n[1]||o[1]==n[3]?o[1]:null;null!==a&&null!==u?this.pointerHandler_=y(i(o)):null!==a?this.pointerHandler_=E(i([a,n[1]]),i([a,n[3]])):null!==u&&(this.pointerHandler_=E(i([n[0],u]),i([n[2],u])))}else o=r.getCoordinateFromPixel(t),this.setExtent([o[0],o[1],o[0],o[1]]),this.pointerHandler_=y(o);return!0},i.prototype.handleDragEvent=function(e){if(this.pointerHandler_){var t=e.coordinate;this.setExtent(this.pointerHandler_(t)),this.createOrUpdatePointerFeature_(t)}return!0},i.prototype.handleUpEvent=function(e){this.pointerHandler_=null;var t=this.getExtent();return t&&0!==(0,o.getArea)(t)||this.setExtent(null),!1},i.prototype.setMap=function(e){this.extentOverlay_.setMap(e),this.vertexOverlay_.setMap(e),n.prototype.setMap.call(this,e)},i.prototype.getExtent=function(){return this.extent_},i.prototype.setExtent=function(e){this.extent_=e||null,this.createOrUpdateExtentFeature_(e),this.dispatchEvent(new x(this.extent_))},i}(l.default);function f(){var e=(0,d.createEditingStyle)();return function(t,r){return e[i.default.POLYGON]}}function v(){var e=(0,d.createEditingStyle)();return function(t,r){return e[i.default.POINT]}}function y(e){return function(t){return(0,o.boundingExtent)([e,t])}}function E(e,t){return e[0]==t[0]?function(r){return(0,o.boundingExtent)([e,[r[0],t[1]]])}:e[1]==t[1]?function(r){return(0,o.boundingExtent)([e,[t[0],r[1]]])}:null}function g(e){return[[[e[0],e[1]],[e[0],e[3]]],[[e[0],e[3]],[e[2],e[3]]],[[e[2],e[3]],[e[2],e[1]]],[[e[2],e[1]],[e[0],e[1]]]]}var m=_;exports.default=m;
},{"../Feature.js":"mYW9","../MapBrowserEventType.js":"Yh/D","../coordinate.js":"nGsj","../events/Event.js":"fKNg","../extent.js":"QDir","../geom/GeometryType.js":"lmV0","../geom/Point.js":"gLcY","../geom/Polygon.js":"6Nww","./Pointer.js":"dnA2","../layer/Vector.js":"dflx","../source/Vector.js":"ZS12","../style/Style.js":"1he4"}],"qrxo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.ModifyEvent=void 0;var e=require("../util.js"),t=x(require("../Collection.js")),r=x(require("../CollectionEventType.js")),i=x(require("../Feature.js")),n=x(require("../MapBrowserEventType.js")),o=require("../array.js"),s=require("../coordinate.js"),a=require("../events.js"),u=x(require("../events/Event.js")),h=x(require("../events/EventType.js")),d=require("../events/condition.js"),l=require("../extent.js"),g=x(require("../geom/GeometryType.js")),_=x(require("../geom/Point.js")),p=x(require("./Pointer.js")),f=x(require("../layer/Vector.js")),c=x(require("../source/Vector.js")),m=x(require("../source/VectorEventType.js")),v=x(require("../structs/RBush.js")),y=require("../style/Style.js");function x(e){return e&&e.__esModule?e:{default:e}}var E=0,C=1,S={MODIFYSTART:"modifystart",MODIFYEND:"modifyend"},F=function(e){function t(t,r,i){e.call(this,t),this.features=r,this.mapBrowserEvent=i}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(u.default);exports.ModifyEvent=F;var T=function(u){function p(e){var i;if(u.call(this,e),this.condition_=e.condition?e.condition:d.primaryAction,this.defaultDeleteCondition_=function(e){return(0,d.altKeyOnly)(e)&&(0,d.singleClick)(e)},this.deleteCondition_=e.deleteCondition?e.deleteCondition:this.defaultDeleteCondition_,this.insertVertexCondition_=e.insertVertexCondition?e.insertVertexCondition:d.always,this.vertexFeature_=null,this.vertexSegments_=null,this.lastPixel_=[0,0],this.ignoreNextSingleClick_=!1,this.modified_=!1,this.rBush_=new v.default,this.pixelTolerance_=void 0!==e.pixelTolerance?e.pixelTolerance:10,this.snappedToVertex_=!1,this.changingFeature_=!1,this.dragSegments_=[],this.overlay_=new f.default({source:new c.default({useSpatialIndex:!1,wrapX:!!e.wrapX}),style:e.style?e.style:M(),updateWhileAnimating:!0,updateWhileInteracting:!0}),this.SEGMENT_WRITERS_={Point:this.writePointGeometry_,LineString:this.writeLineStringGeometry_,LinearRing:this.writeLineStringGeometry_,Polygon:this.writePolygonGeometry_,MultiPoint:this.writeMultiPointGeometry_,MultiLineString:this.writeMultiLineStringGeometry_,MultiPolygon:this.writeMultiPolygonGeometry_,Circle:this.writeCircleGeometry_,GeometryCollection:this.writeGeometryCollectionGeometry_},this.source_=null,e.source?(this.source_=e.source,i=new t.default(this.source_.getFeatures()),(0,a.listen)(this.source_,m.default.ADDFEATURE,this.handleSourceAdd_,this),(0,a.listen)(this.source_,m.default.REMOVEFEATURE,this.handleSourceRemove_,this)):i=e.features,!i)throw new Error("The modify interaction requires features or a source");this.features_=i,this.features_.forEach(this.addFeature_.bind(this)),(0,a.listen)(this.features_,r.default.ADD,this.handleFeatureAdd_,this),(0,a.listen)(this.features_,r.default.REMOVE,this.handleFeatureRemove_,this),this.lastPointerEvent_=null}return u&&(p.__proto__=u),p.prototype=Object.create(u&&u.prototype),p.prototype.constructor=p,p.prototype.addFeature_=function(e){var t=e.getGeometry();t&&t.getType()in this.SEGMENT_WRITERS_&&this.SEGMENT_WRITERS_[t.getType()].call(this,e,t);var r=this.getMap();r&&r.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,r),(0,a.listen)(e,h.default.CHANGE,this.handleFeatureChange_,this)},p.prototype.willModifyFeatures_=function(e){this.modified_||(this.modified_=!0,this.dispatchEvent(new F(S.MODIFYSTART,this.features_,e)))},p.prototype.removeFeature_=function(e){this.removeFeatureSegmentData_(e),this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),(0,a.unlisten)(e,h.default.CHANGE,this.handleFeatureChange_,this)},p.prototype.removeFeatureSegmentData_=function(e){var t=this.rBush_,r=[];t.forEach(function(t){e===t.feature&&r.push(t)});for(var i=r.length-1;i>=0;--i)t.remove(r[i])},p.prototype.setActive=function(e){this.vertexFeature_&&!e&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),u.prototype.setActive.call(this,e)},p.prototype.setMap=function(e){this.overlay_.setMap(e),u.prototype.setMap.call(this,e)},p.prototype.getOverlay=function(){return this.overlay_},p.prototype.handleSourceAdd_=function(e){e.feature&&this.features_.push(e.feature)},p.prototype.handleSourceRemove_=function(e){e.feature&&this.features_.remove(e.feature)},p.prototype.handleFeatureAdd_=function(e){this.addFeature_(e.element)},p.prototype.handleFeatureChange_=function(e){if(!this.changingFeature_){var t=e.target;this.removeFeature_(t),this.addFeature_(t)}},p.prototype.handleFeatureRemove_=function(e){var t=e.element;this.removeFeature_(t)},p.prototype.writePointGeometry_=function(e,t){var r=t.getCoordinates(),i={feature:e,geometry:t,segment:[r,r]};this.rBush_.insert(t.getExtent(),i)},p.prototype.writeMultiPointGeometry_=function(e,t){for(var r=t.getCoordinates(),i=0,n=r.length;i<n;++i){var o=r[i],s={feature:e,geometry:t,depth:[i],index:i,segment:[o,o]};this.rBush_.insert(t.getExtent(),s)}},p.prototype.writeLineStringGeometry_=function(e,t){for(var r=t.getCoordinates(),i=0,n=r.length-1;i<n;++i){var o=r.slice(i,i+2),s={feature:e,geometry:t,index:i,segment:o};this.rBush_.insert((0,l.boundingExtent)(o),s)}},p.prototype.writeMultiLineStringGeometry_=function(e,t){for(var r=t.getCoordinates(),i=0,n=r.length;i<n;++i)for(var o=r[i],s=0,a=o.length-1;s<a;++s){var u=o.slice(s,s+2),h={feature:e,geometry:t,depth:[i],index:s,segment:u};this.rBush_.insert((0,l.boundingExtent)(u),h)}},p.prototype.writePolygonGeometry_=function(e,t){for(var r=t.getCoordinates(),i=0,n=r.length;i<n;++i)for(var o=r[i],s=0,a=o.length-1;s<a;++s){var u=o.slice(s,s+2),h={feature:e,geometry:t,depth:[i],index:s,segment:u};this.rBush_.insert((0,l.boundingExtent)(u),h)}},p.prototype.writeMultiPolygonGeometry_=function(e,t){for(var r=t.getCoordinates(),i=0,n=r.length;i<n;++i)for(var o=r[i],s=0,a=o.length;s<a;++s)for(var u=o[s],h=0,d=u.length-1;h<d;++h){var g=u.slice(h,h+2),_={feature:e,geometry:t,depth:[s,i],index:h,segment:g};this.rBush_.insert((0,l.boundingExtent)(g),_)}},p.prototype.writeCircleGeometry_=function(e,t){var r=t.getCenter(),i={feature:e,geometry:t,index:E,segment:[r,r]},n={feature:e,geometry:t,index:C,segment:[r,r]},o=[i,n];i.featureSegments=n.featureSegments=o,this.rBush_.insert((0,l.createOrUpdateFromCoordinate)(r),i),this.rBush_.insert(t.getExtent(),n)},p.prototype.writeGeometryCollectionGeometry_=function(e,t){for(var r=t.getGeometriesArray(),i=0;i<r.length;++i)this.SEGMENT_WRITERS_[r[i].getType()].call(this,e,r[i])},p.prototype.createOrUpdateVertexFeature_=function(e){var t=this.vertexFeature_;t?t.getGeometry().setCoordinates(e):(t=new i.default(new _.default(e)),this.vertexFeature_=t,this.overlay_.getSource().addFeature(t));return t},p.prototype.handleEvent=function(e){return!e.pointerEvent||(this.lastPointerEvent_=e,e.map.getView().getInteracting()||e.type!=n.default.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(e),this.vertexFeature_&&this.deleteCondition_(e)&&(t=!(e.type!=n.default.SINGLECLICK||!this.ignoreNextSingleClick_)||this.removePoint()),e.type==n.default.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),u.prototype.handleEvent.call(this,e)&&!t);var t},p.prototype.handleDragEvent=function(e){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(e);for(var t=e.coordinate,r=0,i=this.dragSegments_.length;r<i;++r){for(var n=this.dragSegments_[r],o=n[0],a=o.depth,u=o.geometry,h=void 0,d=o.segment,l=n[1];t.length<u.getStride();)t.push(d[l][t.length]);switch(u.getType()){case g.default.POINT:h=t,d[0]=d[1]=t;break;case g.default.MULTI_POINT:(h=u.getCoordinates())[o.index]=t,d[0]=d[1]=t;break;case g.default.LINE_STRING:(h=u.getCoordinates())[o.index+l]=t,d[l]=t;break;case g.default.MULTI_LINE_STRING:case g.default.POLYGON:(h=u.getCoordinates())[a[0]][o.index+l]=t,d[l]=t;break;case g.default.MULTI_POLYGON:(h=u.getCoordinates())[a[1]][a[0]][o.index+l]=t,d[l]=t;break;case g.default.CIRCLE:d[0]=d[1]=t,o.index===E?(this.changingFeature_=!0,u.setCenter(t),this.changingFeature_=!1):(this.changingFeature_=!0,u.setRadius((0,s.distance)(u.getCenter(),t)),this.changingFeature_=!1)}h&&this.setGeometryCoordinates_(u,h)}this.createOrUpdateVertexFeature_(t)},p.prototype.handleDownEvent=function(t){if(!this.condition_(t))return!1;this.handlePointerAtPixel_(t.pixel,t.map);var r=t.map.getCoordinateFromPixel(t.pixel);this.dragSegments_.length=0,this.modified_=!1;var i=this.vertexFeature_;if(i){var n=[],o=i.getGeometry().getCoordinates(),a=(0,l.boundingExtent)([o]),u=this.rBush_.getInExtent(a),h={};u.sort(I);for(var d=0,_=u.length;d<_;++d){var p=u[d],f=p.segment,c=(0,e.getUid)(p.feature),m=p.depth;if(m&&(c+="-"+m.join("-")),h[c]||(h[c]=new Array(2)),p.geometry.getType()===g.default.CIRCLE&&p.index===C){var v=P(r,p);(0,s.equals)(v,o)&&!h[c][0]&&(this.dragSegments_.push([p,0]),h[c][0]=p)}else if((0,s.equals)(f[0],o)&&!h[c][0])this.dragSegments_.push([p,0]),h[c][0]=p;else if((0,s.equals)(f[1],o)&&!h[c][1]){if((p.geometry.getType()===g.default.LINE_STRING||p.geometry.getType()===g.default.MULTI_LINE_STRING)&&h[c][0]&&0===h[c][0].index)continue;this.dragSegments_.push([p,1]),h[c][1]=p}else this.insertVertexCondition_(t)&&(0,e.getUid)(f)in this.vertexSegments_&&!h[c][0]&&!h[c][1]&&n.push([p,o])}n.length&&this.willModifyFeatures_(t);for(var y=n.length-1;y>=0;--y)this.insertVertex_.apply(this,n[y])}return!!this.vertexFeature_},p.prototype.handleUpEvent=function(e){for(var t=this.dragSegments_.length-1;t>=0;--t){var r=this.dragSegments_[t][0],i=r.geometry;if(i.getType()===g.default.CIRCLE){var n=i.getCenter(),o=r.featureSegments[0],s=r.featureSegments[1];o.segment[0]=o.segment[1]=n,s.segment[0]=s.segment[1]=n,this.rBush_.update((0,l.createOrUpdateFromCoordinate)(n),o),this.rBush_.update(i.getExtent(),s)}else this.rBush_.update((0,l.boundingExtent)(r.segment),r)}return this.modified_&&(this.dispatchEvent(new F(S.MODIFYEND,this.features_,e)),this.modified_=!1),!1},p.prototype.handlePointerMove_=function(e){this.lastPixel_=e.pixel,this.handlePointerAtPixel_(e.pixel,e.map)},p.prototype.handlePointerAtPixel_=function(t,r){var i=r.getCoordinateFromPixel(t),n=(0,l.buffer)((0,l.createOrUpdateFromCoordinate)(i),r.getView().getResolution()*this.pixelTolerance_),o=this.rBush_.getInExtent(n);if(o.length>0){o.sort(function(e,t){return G(i,e)-G(i,t)});var a=o[0],u=a.segment,h=P(i,a),d=r.getPixelFromCoordinate(h),_=(0,s.distance)(t,d);if(_<=this.pixelTolerance_){var p={};if(a.geometry.getType()===g.default.CIRCLE&&a.index===C)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(h);else{var f=r.getPixelFromCoordinate(u[0]),c=r.getPixelFromCoordinate(u[1]),m=(0,s.squaredDistance)(d,f),v=(0,s.squaredDistance)(d,c);_=Math.sqrt(Math.min(m,v)),this.snappedToVertex_=_<=this.pixelTolerance_,this.snappedToVertex_&&(h=m>v?u[1]:u[0]),this.createOrUpdateVertexFeature_(h);for(var y=1,x=o.length;y<x;++y){var E=o[y].segment;if(!((0,s.equals)(u[0],E[0])&&(0,s.equals)(u[1],E[1])||(0,s.equals)(u[0],E[1])&&(0,s.equals)(u[1],E[0])))break;p[(0,e.getUid)(E)]=!0}}return p[(0,e.getUid)(u)]=!0,void(this.vertexSegments_=p)}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)},p.prototype.insertVertex_=function(e,t){for(var r,i=e.segment,n=e.feature,o=e.geometry,s=e.depth,a=e.index;t.length<o.getStride();)t.push(0);switch(o.getType()){case g.default.MULTI_LINE_STRING:case g.default.POLYGON:(r=o.getCoordinates())[s[0]].splice(a+1,0,t);break;case g.default.MULTI_POLYGON:(r=o.getCoordinates())[s[1]][s[0]].splice(a+1,0,t);break;case g.default.LINE_STRING:(r=o.getCoordinates()).splice(a+1,0,t);break;default:return}this.setGeometryCoordinates_(o,r);var u=this.rBush_;u.remove(e),this.updateSegmentIndices_(o,a,s,1);var h={segment:[i[0],t],feature:n,geometry:o,depth:s,index:a};u.insert((0,l.boundingExtent)(h.segment),h),this.dragSegments_.push([h,1]);var d={segment:[t,i[1]],feature:n,geometry:o,depth:s,index:a+1};u.insert((0,l.boundingExtent)(d.segment),d),this.dragSegments_.push([d,0]),this.ignoreNextSingleClick_=!0},p.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=n.default.POINTERDRAG){var e=this.lastPointerEvent_;return this.willModifyFeatures_(e),this.removeVertex_(),this.dispatchEvent(new F(S.MODIFYEND,this.features_,e)),this.modified_=!1,!0}return!1},p.prototype.removeVertex_=function(){var t,r,i,n,o,s,a,u,h,d,_,p=this.dragSegments_,f={},c=!1;for(o=p.length-1;o>=0;--o)d=(i=p[o])[0],_=(0,e.getUid)(d.feature),d.depth&&(_+="-"+d.depth.join("-")),_ in f||(f[_]={}),0===i[1]?(f[_].right=d,f[_].index=d.index):1==i[1]&&(f[_].left=d,f[_].index=d.index+1);for(_ in f){switch(h=f[_].right,a=f[_].left,(u=(s=f[_].index)-1)<0&&(u=0),t=r=(n=(d=void 0!==a?a:h).geometry).getCoordinates(),c=!1,n.getType()){case g.default.MULTI_LINE_STRING:r[d.depth[0]].length>2&&(r[d.depth[0]].splice(s,1),c=!0);break;case g.default.LINE_STRING:r.length>2&&(r.splice(s,1),c=!0);break;case g.default.MULTI_POLYGON:t=t[d.depth[1]];case g.default.POLYGON:(t=t[d.depth[0]]).length>4&&(s==t.length-1&&(s=0),t.splice(s,1),c=!0,0===s&&(t.pop(),t.push(t[0]),u=t.length-1))}if(c){this.setGeometryCoordinates_(n,r);var m=[];if(void 0!==a&&(this.rBush_.remove(a),m.push(a.segment[0])),void 0!==h&&(this.rBush_.remove(h),m.push(h.segment[1])),void 0!==a&&void 0!==h){var v={depth:d.depth,feature:d.feature,geometry:d.geometry,index:u,segment:m};this.rBush_.insert((0,l.boundingExtent)(v.segment),v)}this.updateSegmentIndices_(n,s,d.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),p.length=0}}return c},p.prototype.setGeometryCoordinates_=function(e,t){this.changingFeature_=!0,e.setCoordinates(t),this.changingFeature_=!1},p.prototype.updateSegmentIndices_=function(e,t,r,i){this.rBush_.forEachInExtent(e.getExtent(),function(n){n.geometry===e&&(void 0===r||void 0===n.depth||(0,o.equals)(n.depth,r))&&n.index>t&&(n.index+=i)})},p}(p.default);function I(e,t){return e.index-t.index}function G(e,t){var r=t.geometry;if(r.getType()===g.default.CIRCLE){var i=r;if(t.index===C){var n=(0,s.squaredDistance)(i.getCenter(),e),o=Math.sqrt(n)-i.getRadius();return o*o}}return(0,s.squaredDistanceToSegment)(e,t.segment)}function P(e,t){var r=t.geometry;return r.getType()===g.default.CIRCLE&&t.index===C?r.getClosestPoint(e):(0,s.closestOnSegment)(e,t.segment)}function M(){var e=(0,y.createEditingStyle)();return function(t,r){return e[g.default.POINT]}}var w=T;exports.default=w;
},{"../util.js":"KniQ","../Collection.js":"FnDa","../CollectionEventType.js":"BTrx","../Feature.js":"mYW9","../MapBrowserEventType.js":"Yh/D","../array.js":"luEr","../coordinate.js":"nGsj","../events.js":"55Uq","../events/Event.js":"fKNg","../events/EventType.js":"C8cu","../events/condition.js":"YcID","../extent.js":"QDir","../geom/GeometryType.js":"lmV0","../geom/Point.js":"gLcY","./Pointer.js":"dnA2","../layer/Vector.js":"dflx","../source/Vector.js":"ZS12","../source/VectorEventType.js":"s8Fc","../structs/RBush.js":"MiUH","../style/Style.js":"1he4"}],"6SMG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../util.js"),t=p(require("../CollectionEventType.js")),r=require("../array.js"),i=require("../events.js"),o=p(require("../events/Event.js")),n=require("../events/condition.js"),a=require("../functions.js"),s=p(require("../geom/GeometryType.js")),u=p(require("./Interaction.js")),l=p(require("../layer/Vector.js")),c=require("../obj.js"),h=p(require("../source/Vector.js")),d=require("../style/Style.js");function p(e){return e&&e.__esModule?e:{default:e}}var f={SELECT:"select"},y=function(e){function t(t,r,i,o){e.call(this,t),this.selected=r,this.deselected=i,this.mapBrowserEvent=o}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(o.default),_=function(o){function s(e){o.call(this,{handleEvent:v});var s=e||{};this.condition_=s.condition?s.condition:n.singleClick,this.addCondition_=s.addCondition?s.addCondition:n.never,this.removeCondition_=s.removeCondition?s.removeCondition:n.never,this.toggleCondition_=s.toggleCondition?s.toggleCondition:n.shiftKeyOnly,this.multi_=!!s.multi&&s.multi,this.filter_=s.filter?s.filter:a.TRUE,this.hitTolerance_=s.hitTolerance?s.hitTolerance:0;var u,c=new l.default({source:new h.default({useSpatialIndex:!1,features:s.features,wrapX:s.wrapX}),style:s.style?s.style:g(),updateWhileAnimating:!0,updateWhileInteracting:!0});if(this.featureOverlay_=c,s.layers)if("function"==typeof s.layers)u=s.layers;else{var d=s.layers;u=function(e){return(0,r.includes)(d,e)}}else u=a.TRUE;this.layerFilter_=u,this.featureLayerAssociation_={};var p=this.getFeatures();(0,i.listen)(p,t.default.ADD,this.addFeature_,this),(0,i.listen)(p,t.default.REMOVE,this.removeFeature_,this)}return o&&(s.__proto__=o),s.prototype=Object.create(o&&o.prototype),s.prototype.constructor=s,s.prototype.addFeatureLayerAssociation_=function(t,r){this.featureLayerAssociation_[(0,e.getUid)(t)]=r},s.prototype.getFeatures=function(){return this.featureOverlay_.getSource().getFeaturesCollection()},s.prototype.getHitTolerance=function(){return this.hitTolerance_},s.prototype.getLayer=function(t){return this.featureLayerAssociation_[(0,e.getUid)(t)]},s.prototype.getOverlay=function(){return this.featureOverlay_},s.prototype.setHitTolerance=function(e){this.hitTolerance_=e},s.prototype.setMap=function(e){var t=this.getMap(),r=this.getFeatures();t&&r.forEach(t.unskipFeature.bind(t)),o.prototype.setMap.call(this,e),this.featureOverlay_.setMap(e),e&&r.forEach(e.skipFeature.bind(e))},s.prototype.addFeature_=function(e){var t=this.getMap();t&&t.skipFeature(e.element)},s.prototype.removeFeature_=function(e){var t=this.getMap();t&&t.unskipFeature(e.element)},s.prototype.removeFeatureLayerAssociation_=function(t){delete this.featureLayerAssociation_[(0,e.getUid)(t)]},s}(u.default);function v(e){if(!this.condition_(e))return!0;var t=this.addCondition_(e),i=this.removeCondition_(e),o=this.toggleCondition_(e),a=!t&&!i&&!o,s=e.map,u=this.getFeatures(),l=[],h=[];if(a){(0,c.clear)(this.featureLayerAssociation_),s.forEachFeatureAtPixel(e.pixel,function(e,t){if(this.filter_(e,t))return h.push(e),this.addFeatureLayerAssociation_(e,t),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var d=u.getLength()-1;d>=0;--d){var p=u.item(d),_=h.indexOf(p);_>-1?h.splice(_,1):(u.remove(p),l.push(p))}0!==h.length&&u.extend(h)}else{s.forEachFeatureAtPixel(e.pixel,function(e,n){if(this.filter_(e,n))return!t&&!o||(0,r.includes)(u.getArray(),e)?(i||o)&&(0,r.includes)(u.getArray(),e)&&(l.push(e),this.removeFeatureLayerAssociation_(e)):(h.push(e),this.addFeatureLayerAssociation_(e,n)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var v=l.length-1;v>=0;--v)u.remove(l[v]);u.extend(h)}return(h.length>0||l.length>0)&&this.dispatchEvent(new y(f.SELECT,h,l,e)),(0,n.pointerMove)(e)}function g(){var e=(0,d.createEditingStyle)();return(0,r.extend)(e[s.default.POLYGON],e[s.default.LINE_STRING]),(0,r.extend)(e[s.default.GEOMETRY_COLLECTION],e[s.default.LINE_STRING]),function(t,r){return t.getGeometry()?e[t.getGeometry().getType()]:null}}var m=_;exports.default=m;
},{"../util.js":"KniQ","../CollectionEventType.js":"BTrx","../array.js":"luEr","../events.js":"55Uq","../events/Event.js":"fKNg","../events/condition.js":"YcID","../functions.js":"RgA2","../geom/GeometryType.js":"lmV0","./Interaction.js":"jB2p","../layer/Vector.js":"dflx","../obj.js":"mH6q","../source/Vector.js":"ZS12","../style/Style.js":"1he4"}],"NnGW":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../util.js"),t=p(require("../CollectionEventType.js")),r=require("../coordinate.js"),i=require("../events.js"),n=p(require("../events/EventType.js")),o=require("../extent.js"),s=require("../functions.js"),a=p(require("../geom/GeometryType.js")),u=require("../geom/Polygon.js"),h=p(require("./Pointer.js")),l=require("../obj.js"),d=p(require("../source/VectorEventType.js")),g=p(require("../structs/RBush.js"));function p(e){return e&&e.__esModule?e:{default:e}}function _(e){return e.feature?e.feature:e.element?e.element:void 0}var c=function(h){function p(e){var t=e||{},r=t;r.handleDownEvent||(r.handleDownEvent=s.TRUE),r.stopDown||(r.stopDown=s.FALSE),h.call(this,r),this.source_=t.source?t.source:null,this.vertex_=void 0===t.vertex||t.vertex,this.edge_=void 0===t.edge||t.edge,this.features_=t.features?t.features:null,this.featuresListenerKeys_=[],this.featureChangeListenerKeys_={},this.indexedFeaturesExtents_={},this.pendingFeatures_={},this.pixelCoordinate_=null,this.pixelTolerance_=void 0!==t.pixelTolerance?t.pixelTolerance:10,this.sortByDistance_=f.bind(this),this.rBush_=new g.default,this.SEGMENT_WRITERS_={Point:this.writePointGeometry_,LineString:this.writeLineStringGeometry_,LinearRing:this.writeLineStringGeometry_,Polygon:this.writePolygonGeometry_,MultiPoint:this.writeMultiPointGeometry_,MultiLineString:this.writeMultiLineStringGeometry_,MultiPolygon:this.writeMultiPolygonGeometry_,GeometryCollection:this.writeGeometryCollectionGeometry_,Circle:this.writeCircleGeometry_}}return h&&(p.__proto__=h),p.prototype=Object.create(h&&h.prototype),p.prototype.constructor=p,p.prototype.addFeature=function(t,r){var s=void 0===r||r,a=(0,e.getUid)(t),u=t.getGeometry();if(u){var h=this.SEGMENT_WRITERS_[u.getType()];h&&(this.indexedFeaturesExtents_[a]=u.getExtent((0,o.createEmpty)()),h.call(this,t,u))}s&&(this.featureChangeListenerKeys_[a]=(0,i.listen)(t,n.default.CHANGE,this.handleFeatureChange_,this))},p.prototype.forEachFeatureAdd_=function(e){this.addFeature(e)},p.prototype.forEachFeatureRemove_=function(e){this.removeFeature(e)},p.prototype.getFeatures_=function(){var e;return this.features_?e=this.features_:this.source_&&(e=this.source_.getFeatures()),e},p.prototype.handleEvent=function(e){var t=this.snapTo(e.pixel,e.coordinate,e.map);return t.snapped&&(e.coordinate=t.vertex.slice(0,2),e.pixel=t.vertexPixel),h.prototype.handleEvent.call(this,e)},p.prototype.handleFeatureAdd_=function(e){var t=_(e);this.addFeature(t)},p.prototype.handleFeatureRemove_=function(e){var t=_(e);this.removeFeature(t)},p.prototype.handleFeatureChange_=function(t){var r=t.target;if(this.handlingDownUpSequence){var i=(0,e.getUid)(r);i in this.pendingFeatures_||(this.pendingFeatures_[i]=r)}else this.updateFeature_(r)},p.prototype.handleUpEvent=function(e){var t=(0,l.getValues)(this.pendingFeatures_);return t.length&&(t.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={}),!1},p.prototype.removeFeature=function(t,r){var n=void 0===r||r,o=(0,e.getUid)(t),s=this.indexedFeaturesExtents_[o];if(s){var a=this.rBush_,u=[];a.forEachInExtent(s,function(e){t===e.feature&&u.push(e)});for(var h=u.length-1;h>=0;--h)a.remove(u[h])}n&&((0,i.unlistenByKey)(this.featureChangeListenerKeys_[o]),delete this.featureChangeListenerKeys_[o])},p.prototype.setMap=function(e){var r=this.getMap(),n=this.featuresListenerKeys_,o=this.getFeatures_();r&&(n.forEach(i.unlistenByKey),n.length=0,o.forEach(this.forEachFeatureRemove_.bind(this))),h.prototype.setMap.call(this,e),e&&(this.features_?n.push((0,i.listen)(this.features_,t.default.ADD,this.handleFeatureAdd_,this),(0,i.listen)(this.features_,t.default.REMOVE,this.handleFeatureRemove_,this)):this.source_&&n.push((0,i.listen)(this.source_,d.default.ADDFEATURE,this.handleFeatureAdd_,this),(0,i.listen)(this.source_,d.default.REMOVEFEATURE,this.handleFeatureRemove_,this)),o.forEach(this.forEachFeatureAdd_.bind(this)))},p.prototype.snapTo=function(e,t,i){var n=i.getCoordinateFromPixel([e[0]-this.pixelTolerance_,e[1]+this.pixelTolerance_]),s=i.getCoordinateFromPixel([e[0]+this.pixelTolerance_,e[1]-this.pixelTolerance_]),u=(0,o.boundingExtent)([n,s]),h=this.rBush_.getInExtent(u);this.vertex_&&!this.edge_&&(h=h.filter(function(e){return e.feature.getGeometry().getType()!==a.default.CIRCLE}));var l,d,g,p,_=!1,c=null,f=null;if(h.length>0){this.pixelCoordinate_=t,h.sort(this.sortByDistance_);var y=h[0].segment,v=h[0].feature.getGeometry().getType()===a.default.CIRCLE;this.vertex_&&!this.edge_?(l=i.getPixelFromCoordinate(y[0]),d=i.getPixelFromCoordinate(y[1]),g=(0,r.squaredDistance)(e,l),p=(0,r.squaredDistance)(e,d),Math.sqrt(Math.min(g,p))<=this.pixelTolerance_&&(_=!0,c=g>p?y[1]:y[0],f=i.getPixelFromCoordinate(c))):this.edge_&&(c=v?(0,r.closestOnCircle)(t,h[0].feature.getGeometry()):(0,r.closestOnSegment)(t,y),f=i.getPixelFromCoordinate(c),(0,r.distance)(e,f)<=this.pixelTolerance_&&(_=!0,this.vertex_&&!v&&(l=i.getPixelFromCoordinate(y[0]),d=i.getPixelFromCoordinate(y[1]),g=(0,r.squaredDistance)(f,l),p=(0,r.squaredDistance)(f,d),Math.sqrt(Math.min(g,p))<=this.pixelTolerance_&&(c=g>p?y[1]:y[0],f=i.getPixelFromCoordinate(c))))),_&&(f=[Math.round(f[0]),Math.round(f[1])])}return{snapped:_,vertex:c,vertexPixel:f}},p.prototype.updateFeature_=function(e){this.removeFeature(e,!1),this.addFeature(e,!1)},p.prototype.writeCircleGeometry_=function(e,t){for(var r=(0,u.fromCircle)(t).getCoordinates()[0],i=0,n=r.length-1;i<n;++i){var s=r.slice(i,i+2),a={feature:e,segment:s};this.rBush_.insert((0,o.boundingExtent)(s),a)}},p.prototype.writeGeometryCollectionGeometry_=function(e,t){for(var r=t.getGeometriesArray(),i=0;i<r.length;++i){var n=this.SEGMENT_WRITERS_[r[i].getType()];n&&n.call(this,e,r[i])}},p.prototype.writeLineStringGeometry_=function(e,t){for(var r=t.getCoordinates(),i=0,n=r.length-1;i<n;++i){var s=r.slice(i,i+2),a={feature:e,segment:s};this.rBush_.insert((0,o.boundingExtent)(s),a)}},p.prototype.writeMultiLineStringGeometry_=function(e,t){for(var r=t.getCoordinates(),i=0,n=r.length;i<n;++i)for(var s=r[i],a=0,u=s.length-1;a<u;++a){var h=s.slice(a,a+2),l={feature:e,segment:h};this.rBush_.insert((0,o.boundingExtent)(h),l)}},p.prototype.writeMultiPointGeometry_=function(e,t){for(var r=t.getCoordinates(),i=0,n=r.length;i<n;++i){var o=r[i],s={feature:e,segment:[o,o]};this.rBush_.insert(t.getExtent(),s)}},p.prototype.writeMultiPolygonGeometry_=function(e,t){for(var r=t.getCoordinates(),i=0,n=r.length;i<n;++i)for(var s=r[i],a=0,u=s.length;a<u;++a)for(var h=s[a],l=0,d=h.length-1;l<d;++l){var g=h.slice(l,l+2),p={feature:e,segment:g};this.rBush_.insert((0,o.boundingExtent)(g),p)}},p.prototype.writePointGeometry_=function(e,t){var r=t.getCoordinates(),i={feature:e,segment:[r,r]};this.rBush_.insert(t.getExtent(),i)},p.prototype.writePolygonGeometry_=function(e,t){for(var r=t.getCoordinates(),i=0,n=r.length;i<n;++i)for(var s=r[i],a=0,u=s.length-1;a<u;++a){var h=s.slice(a,a+2),l={feature:e,segment:h};this.rBush_.insert((0,o.boundingExtent)(h),l)}},p}(h.default);function f(e,t){return(0,r.squaredDistanceToSegment)(this.pixelCoordinate_,e.segment)-(0,r.squaredDistanceToSegment)(this.pixelCoordinate_,t.segment)}var y=c;exports.default=y;
},{"../util.js":"KniQ","../CollectionEventType.js":"BTrx","../coordinate.js":"nGsj","../events.js":"55Uq","../events/EventType.js":"C8cu","../extent.js":"QDir","../functions.js":"RgA2","../geom/GeometryType.js":"lmV0","../geom/Polygon.js":"6Nww","./Pointer.js":"dnA2","../obj.js":"mH6q","../source/VectorEventType.js":"s8Fc","../structs/RBush.js":"MiUH"}],"dAAZ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.TranslateEvent=void 0;var t=l(require("../Collection.js")),e=require("../Object.js"),r=require("../events.js"),a=l(require("../events/Event.js")),i=require("../functions.js"),o=require("../array.js"),s=l(require("./Pointer.js")),n=l(require("./Property.js"));function l(t){return t&&t.__esModule?t:{default:t}}var u={TRANSLATESTART:"translatestart",TRANSLATING:"translating",TRANSLATEEND:"translateend"},h=function(t){function e(e,r,a){t.call(this,e),this.features=r,this.coordinate=a}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(a.default);exports.TranslateEvent=h;var c=function(a){function s(t){var s,l=t||{};if(a.call(this,l),this.lastCoordinate_=null,this.features_=void 0!==l.features?l.features:null,l.layers)if("function"==typeof l.layers)s=l.layers;else{var u=l.layers;s=function(t){return(0,o.includes)(u,t)}}else s=i.TRUE;this.layerFilter_=s,this.hitTolerance_=l.hitTolerance?l.hitTolerance:0,this.lastFeature_=null,(0,r.listen)(this,(0,e.getChangeEventType)(n.default.ACTIVE),this.handleActiveChanged_,this)}return a&&(s.__proto__=a),s.prototype=Object.create(a&&a.prototype),s.prototype.constructor=s,s.prototype.handleDownEvent=function(e){if(this.lastFeature_=this.featuresAtPixel_(e.pixel,e.map),!this.lastCoordinate_&&this.lastFeature_){this.lastCoordinate_=e.coordinate,this.handleMoveEvent(e);var r=this.features_||new t.default([this.lastFeature_]);return this.dispatchEvent(new h(u.TRANSLATESTART,r,e.coordinate)),!0}return!1},s.prototype.handleUpEvent=function(e){if(this.lastCoordinate_){this.lastCoordinate_=null,this.handleMoveEvent(e);var r=this.features_||new t.default([this.lastFeature_]);return this.dispatchEvent(new h(u.TRANSLATEEND,r,e.coordinate)),!0}return!1},s.prototype.handleDragEvent=function(e){if(this.lastCoordinate_){var r=e.coordinate,a=r[0]-this.lastCoordinate_[0],i=r[1]-this.lastCoordinate_[1],o=this.features_||new t.default([this.lastFeature_]);o.forEach(function(t){var e=t.getGeometry();e.translate(a,i),t.setGeometry(e)}),this.lastCoordinate_=r,this.dispatchEvent(new h(u.TRANSLATING,o,r))}},s.prototype.handleMoveEvent=function(t){var e=t.map.getViewport();this.featuresAtPixel_(t.pixel,t.map)?(e.classList.remove(this.lastCoordinate_?"ol-grab":"ol-grabbing"),e.classList.add(this.lastCoordinate_?"ol-grabbing":"ol-grab")):e.classList.remove("ol-grab","ol-grabbing")},s.prototype.featuresAtPixel_=function(t,e){return e.forEachFeatureAtPixel(t,function(t){if(!this.features_||(0,o.includes)(this.features_.getArray(),t))return t}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})},s.prototype.getHitTolerance=function(){return this.hitTolerance_},s.prototype.setHitTolerance=function(t){this.hitTolerance_=t},s.prototype.setMap=function(t){var e=this.getMap();a.prototype.setMap.call(this,t),this.updateState_(e)},s.prototype.handleActiveChanged_=function(){this.updateState_(null)},s.prototype.updateState_=function(t){var e=this.getMap(),r=this.getActive();e&&r||(e=e||t)&&e.getViewport().classList.remove("ol-grab","ol-grabbing")},s}(s.default),p=c;exports.default=p;
},{"../Collection.js":"FnDa","../Object.js":"PhPh","../events.js":"55Uq","../events/Event.js":"fKNg","../functions.js":"RgA2","../array.js":"luEr","./Pointer.js":"dnA2","./Property.js":"caOi"}],"aMDX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaults=O,Object.defineProperty(exports,"DoubleClickZoom",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"DragPan",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"DragRotate",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"DragZoom",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(exports,"KeyboardPan",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"KeyboardZoom",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(exports,"MouseWheelZoom",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(exports,"PinchRotate",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(exports,"PinchZoom",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(exports,"DragAndDrop",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(exports,"DragBox",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(exports,"DragRotateAndZoom",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(exports,"Draw",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(exports,"Extent",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(exports,"Interaction",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(exports,"Modify",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(exports,"Pointer",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(exports,"Select",{enumerable:!0,get:function(){return D.default}}),Object.defineProperty(exports,"Snap",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(exports,"Translate",{enumerable:!0,get:function(){return h.default}});var e=q(require("./Collection.js")),t=q(require("./Kinetic.js")),r=q(require("./interaction/DoubleClickZoom.js")),n=q(require("./interaction/DragPan.js")),o=q(require("./interaction/DragRotate.js")),i=q(require("./interaction/DragZoom.js")),u=q(require("./interaction/KeyboardPan.js")),a=q(require("./interaction/KeyboardZoom.js")),c=q(require("./interaction/MouseWheelZoom.js")),d=q(require("./interaction/PinchRotate.js")),l=q(require("./interaction/PinchZoom.js")),f=require("./events/condition.js"),s=q(require("./interaction/DragAndDrop.js")),p=q(require("./interaction/DragBox.js")),b=q(require("./interaction/DragRotateAndZoom.js")),m=q(require("./interaction/Draw.js")),j=q(require("./interaction/Extent.js")),g=q(require("./interaction/Interaction.js")),P=q(require("./interaction/Modify.js")),y=q(require("./interaction/Pointer.js")),D=q(require("./interaction/Select.js")),x=q(require("./interaction/Snap.js")),h=q(require("./interaction/Translate.js"));function q(e){return e&&e.__esModule?e:{default:e}}function O(s){var p=s||{},b=new e.default,m=new t.default(-.005,.05,100);return(void 0===p.altShiftDragRotate||p.altShiftDragRotate)&&b.push(new o.default),(void 0===p.doubleClickZoom||p.doubleClickZoom)&&b.push(new r.default({delta:p.zoomDelta,duration:p.zoomDuration})),(void 0===p.dragPan||p.dragPan)&&b.push(new n.default({condition:p.onFocusOnly?f.focus:void 0,kinetic:m})),(void 0===p.pinchRotate||p.pinchRotate)&&b.push(new d.default),(void 0===p.pinchZoom||p.pinchZoom)&&b.push(new l.default({constrainResolution:p.constrainResolution,duration:p.zoomDuration})),(void 0===p.keyboard||p.keyboard)&&(b.push(new u.default),b.push(new a.default({delta:p.zoomDelta,duration:p.zoomDuration}))),(void 0===p.mouseWheelZoom||p.mouseWheelZoom)&&b.push(new c.default({condition:p.onFocusOnly?f.focus:void 0,constrainResolution:p.constrainResolution,duration:p.zoomDuration})),(void 0===p.shiftDragZoom||p.shiftDragZoom)&&b.push(new i.default({duration:p.zoomDuration})),b}
},{"./Collection.js":"FnDa","./Kinetic.js":"77gA","./interaction/DoubleClickZoom.js":"2NSa","./interaction/DragPan.js":"N4gU","./interaction/DragRotate.js":"PgBj","./interaction/DragZoom.js":"pTqW","./interaction/KeyboardPan.js":"CFRo","./interaction/KeyboardZoom.js":"7S8w","./interaction/MouseWheelZoom.js":"kPt6","./interaction/PinchRotate.js":"8hbG","./interaction/PinchZoom.js":"rcXm","./events/condition.js":"YcID","./interaction/DragAndDrop.js":"IYO6","./interaction/DragBox.js":"AQ/R","./interaction/DragRotateAndZoom.js":"0/IT","./interaction/Draw.js":"5e7i","./interaction/Extent.js":"1o7b","./interaction/Interaction.js":"jB2p","./interaction/Modify.js":"qrxo","./interaction/Pointer.js":"dnA2","./interaction/Select.js":"6SMG","./interaction/Snap.js":"NnGW","./interaction/Translate.js":"dAAZ"}],"7f+F":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ENABLE_RASTER_REPROJECTION=exports.ERROR_THRESHOLD=void 0;var R=.5;exports.ERROR_THRESHOLD=R;var E=!0;exports.ENABLE_RASTER_REPROJECTION=E;
},{}],"E+B6":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=e(require("../events/Event.js"));function e(t){return t&&t.__esModule?t:{default:t}}var o=function(t){function e(e,o,r,n,s){t.call(this,e),this.vectorContext=o,this.frameState=r,this.context=n,this.glContext=s}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(t.default),r=o;exports.default=r;
},{"../events/Event.js":"fKNg"}],"4LQ/":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(){};t.prototype.drawCustom=function(t,o,e){},t.prototype.drawGeometry=function(t){},t.prototype.setStyle=function(t){},t.prototype.drawCircle=function(t,o){},t.prototype.drawFeature=function(t,o){},t.prototype.drawGeometryCollection=function(t,o){},t.prototype.drawLineString=function(t,o){},t.prototype.drawMultiLineString=function(t,o){},t.prototype.drawMultiPoint=function(t,o){},t.prototype.drawMultiPolygon=function(t,o){},t.prototype.drawPoint=function(t,o){},t.prototype.drawPolygon=function(t,o){},t.prototype.drawText=function(t,o){},t.prototype.setFillStrokeStyle=function(t,o){},t.prototype.setImageStyle=function(t,o){},t.prototype.setTextStyle=function(t,o){};var o=t;exports.default=o;
},{}],"fo6K":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../array.js"),e=require("../../colorlike.js"),i=require("../../extent.js"),s=_(require("../../geom/GeometryType.js")),a=require("../../geom/SimpleGeometry.js"),o=require("../../geom/flat/transform.js"),l=require("../../has.js"),n=_(require("../VectorContext.js")),r=require("../canvas.js"),h=require("../../transform.js");function _(t){return t&&t.__esModule?t:{default:t}}var f=function(n){function _(t,e,i,s,a){n.call(this),this.context_=t,this.pixelRatio_=e,this.extent_=i,this.transform_=s,this.viewRotation_=a,this.contextFillState_=null,this.contextStrokeState_=null,this.contextTextState_=null,this.fillState_=null,this.strokeState_=null,this.image_=null,this.imageAnchorX_=0,this.imageAnchorY_=0,this.imageHeight_=0,this.imageOpacity_=0,this.imageOriginX_=0,this.imageOriginY_=0,this.imageRotateWithView_=!1,this.imageRotation_=0,this.imageScale_=0,this.imageWidth_=0,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=!1,this.textRotation_=0,this.textScale_=0,this.textFillState_=null,this.textStrokeState_=null,this.textState_=null,this.pixelCoordinates_=[],this.tmpLocalTransform_=(0,h.create)()}return n&&(_.__proto__=n),_.prototype=Object.create(n&&n.prototype),_.prototype.constructor=_,_.prototype.drawImages_=function(t,e,i,s){if(this.image_){var a=(0,o.transform2D)(t,e,i,2,this.transform_,this.pixelCoordinates_),l=this.context_,n=this.tmpLocalTransform_,r=l.globalAlpha;1!=this.imageOpacity_&&(l.globalAlpha=r*this.imageOpacity_);var _=this.imageRotation_;this.imageRotateWithView_&&(_+=this.viewRotation_);for(var f=0,g=a.length;f<g;f+=2){var S=a[f]-this.imageAnchorX_,x=a[f+1]-this.imageAnchorY_;if(0!==_||1!=this.imageScale_){var d=S+this.imageAnchorX_,m=x+this.imageAnchorY_;(0,h.compose)(n,d,m,this.imageScale_,this.imageScale_,_,-d,-m),l.setTransform.apply(l,n)}l.drawImage(this.image_,this.imageOriginX_,this.imageOriginY_,this.imageWidth_,this.imageHeight_,S,x,this.imageWidth_,this.imageHeight_)}0===_&&1==this.imageScale_||l.setTransform(1,0,0,1,0,0),1!=this.imageOpacity_&&(l.globalAlpha=r)}},_.prototype.drawText_=function(t,e,i,s){if(this.textState_&&""!==this.text_){this.textFillState_&&this.setContextFillState_(this.textFillState_),this.textStrokeState_&&this.setContextStrokeState_(this.textStrokeState_),this.setContextTextState_(this.textState_);var a=(0,o.transform2D)(t,e,i,s,this.transform_,this.pixelCoordinates_),l=this.context_,n=this.textRotation_;for(this.textRotateWithView_&&(n+=this.viewRotation_);e<i;e+=s){var r=a[e]+this.textOffsetX_,_=a[e+1]+this.textOffsetY_;if(0!==n||1!=this.textScale_){var f=(0,h.compose)(this.tmpLocalTransform_,r,_,this.textScale_,this.textScale_,n,-r,-_);l.setTransform.apply(l,f)}this.textStrokeState_&&l.strokeText(this.text_,r,_),this.textFillState_&&l.fillText(this.text_,r,_)}0===n&&1==this.textScale_||l.setTransform(1,0,0,1,0,0)}},_.prototype.moveToLineTo_=function(t,e,i,s,a){var l=this.context_,n=(0,o.transform2D)(t,e,i,s,this.transform_,this.pixelCoordinates_);l.moveTo(n[0],n[1]);var r=n.length;a&&(r-=2);for(var h=2;h<r;h+=2)l.lineTo(n[h],n[h+1]);return a&&l.closePath(),i},_.prototype.drawRings_=function(t,e,i,s){for(var a=0,o=i.length;a<o;++a)e=this.moveToLineTo_(t,e,i[a],s,!0);return e},_.prototype.drawCircle=function(t){if((0,i.intersects)(this.extent_,t.getExtent())){if(this.fillState_||this.strokeState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=(0,a.transformGeom2D)(t,this.transform_,this.pixelCoordinates_),s=e[2]-e[0],o=e[3]-e[1],l=Math.sqrt(s*s+o*o),n=this.context_;n.beginPath(),n.arc(e[0],e[1],l,0,2*Math.PI),this.fillState_&&n.fill(),this.strokeState_&&n.stroke()}""!==this.text_&&this.drawText_(t.getCenter(),0,2,2)}},_.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},_.prototype.drawGeometry=function(t){switch(t.getType()){case s.default.POINT:this.drawPoint(t);break;case s.default.LINE_STRING:this.drawLineString(t);break;case s.default.POLYGON:this.drawPolygon(t);break;case s.default.MULTI_POINT:this.drawMultiPoint(t);break;case s.default.MULTI_LINE_STRING:this.drawMultiLineString(t);break;case s.default.MULTI_POLYGON:this.drawMultiPolygon(t);break;case s.default.GEOMETRY_COLLECTION:this.drawGeometryCollection(t);break;case s.default.CIRCLE:this.drawCircle(t)}},_.prototype.drawFeature=function(t,e){var s=e.getGeometryFunction()(t);s&&(0,i.intersects)(this.extent_,s.getExtent())&&(this.setStyle(e),this.drawGeometry(s))},_.prototype.drawGeometryCollection=function(t){for(var e=t.getGeometriesArray(),i=0,s=e.length;i<s;++i)this.drawGeometry(e[i])},_.prototype.drawPoint=function(t){var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)},_.prototype.drawMultiPoint=function(t){var e=t.getFlatCoordinates(),i=t.getStride();this.image_&&this.drawImages_(e,0,e.length,i),""!==this.text_&&this.drawText_(e,0,e.length,i)},_.prototype.drawLineString=function(t){if((0,i.intersects)(this.extent_,t.getExtent())){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var e=this.context_,s=t.getFlatCoordinates();e.beginPath(),this.moveToLineTo_(s,0,s.length,t.getStride(),!1),e.stroke()}if(""!==this.text_){var a=t.getFlatMidpoint();this.drawText_(a,0,2,2)}}},_.prototype.drawMultiLineString=function(t){var e=t.getExtent();if((0,i.intersects)(this.extent_,e)){if(this.strokeState_){this.setContextStrokeState_(this.strokeState_);var s=this.context_,a=t.getFlatCoordinates(),o=0,l=t.getEnds(),n=t.getStride();s.beginPath();for(var r=0,h=l.length;r<h;++r)o=this.moveToLineTo_(a,o,l[r],n,!1);s.stroke()}if(""!==this.text_){var _=t.getFlatMidpoints();this.drawText_(_,0,_.length,2)}}},_.prototype.drawPolygon=function(t){if((0,i.intersects)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_;e.beginPath(),this.drawRings_(t.getOrientedFlatCoordinates(),0,t.getEnds(),t.getStride()),this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var s=t.getFlatInteriorPoint();this.drawText_(s,0,2,2)}}},_.prototype.drawMultiPolygon=function(t){if((0,i.intersects)(this.extent_,t.getExtent())){if(this.strokeState_||this.fillState_){this.fillState_&&this.setContextFillState_(this.fillState_),this.strokeState_&&this.setContextStrokeState_(this.strokeState_);var e=this.context_,s=t.getOrientedFlatCoordinates(),a=0,o=t.getEndss(),l=t.getStride();e.beginPath();for(var n=0,r=o.length;n<r;++n){var h=o[n];a=this.drawRings_(s,a,h,l)}this.fillState_&&e.fill(),this.strokeState_&&e.stroke()}if(""!==this.text_){var _=t.getFlatInteriorPoints();this.drawText_(_,0,_.length,2)}}},_.prototype.setContextFillState_=function(t){var e=this.context_,i=this.contextFillState_;i?i.fillStyle!=t.fillStyle&&(i.fillStyle=e.fillStyle=t.fillStyle):(e.fillStyle=t.fillStyle,this.contextFillState_={fillStyle:t.fillStyle})},_.prototype.setContextStrokeState_=function(e){var i=this.context_,s=this.contextStrokeState_;s?(s.lineCap!=e.lineCap&&(s.lineCap=i.lineCap=e.lineCap),l.CANVAS_LINE_DASH&&((0,t.equals)(s.lineDash,e.lineDash)||i.setLineDash(s.lineDash=e.lineDash),s.lineDashOffset!=e.lineDashOffset&&(s.lineDashOffset=i.lineDashOffset=e.lineDashOffset)),s.lineJoin!=e.lineJoin&&(s.lineJoin=i.lineJoin=e.lineJoin),s.lineWidth!=e.lineWidth&&(s.lineWidth=i.lineWidth=e.lineWidth),s.miterLimit!=e.miterLimit&&(s.miterLimit=i.miterLimit=e.miterLimit),s.strokeStyle!=e.strokeStyle&&(s.strokeStyle=i.strokeStyle=e.strokeStyle)):(i.lineCap=e.lineCap,l.CANVAS_LINE_DASH&&(i.setLineDash(e.lineDash),i.lineDashOffset=e.lineDashOffset),i.lineJoin=e.lineJoin,i.lineWidth=e.lineWidth,i.miterLimit=e.miterLimit,i.strokeStyle=e.strokeStyle,this.contextStrokeState_={lineCap:e.lineCap,lineDash:e.lineDash,lineDashOffset:e.lineDashOffset,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})},_.prototype.setContextTextState_=function(t){var e=this.context_,i=this.contextTextState_,s=t.textAlign?t.textAlign:r.defaultTextAlign;i?(i.font!=t.font&&(i.font=e.font=t.font),i.textAlign!=s&&(i.textAlign=e.textAlign=s),i.textBaseline!=t.textBaseline&&(i.textBaseline=e.textBaseline=t.textBaseline)):(e.font=t.font,e.textAlign=s,e.textBaseline=t.textBaseline,this.contextTextState_={font:t.font,textAlign:s,textBaseline:t.textBaseline})},_.prototype.setFillStrokeStyle=function(t,i){if(t){var s=t.getColor();this.fillState_={fillStyle:(0,e.asColorLike)(s||r.defaultFillStyle)}}else this.fillState_=null;if(i){var a=i.getColor(),o=i.getLineCap(),l=i.getLineDash(),n=i.getLineDashOffset(),h=i.getLineJoin(),_=i.getWidth(),f=i.getMiterLimit();this.strokeState_={lineCap:void 0!==o?o:r.defaultLineCap,lineDash:l||r.defaultLineDash,lineDashOffset:n||r.defaultLineDashOffset,lineJoin:void 0!==h?h:r.defaultLineJoin,lineWidth:this.pixelRatio_*(void 0!==_?_:r.defaultLineWidth),miterLimit:void 0!==f?f:r.defaultMiterLimit,strokeStyle:(0,e.asColorLike)(a||r.defaultStrokeStyle)}}else this.strokeState_=null},_.prototype.setImageStyle=function(t){if(t){var e=t.getAnchor(),i=t.getImage(1),s=t.getOrigin(),a=t.getSize();this.imageAnchorX_=e[0],this.imageAnchorY_=e[1],this.imageHeight_=a[1],this.image_=i,this.imageOpacity_=t.getOpacity(),this.imageOriginX_=s[0],this.imageOriginY_=s[1],this.imageRotateWithView_=t.getRotateWithView(),this.imageRotation_=t.getRotation(),this.imageScale_=t.getScale()*this.pixelRatio_,this.imageWidth_=a[0]}else this.image_=null},_.prototype.setTextStyle=function(t){if(t){var i=t.getFill();if(i){var s=i.getColor();this.textFillState_={fillStyle:(0,e.asColorLike)(s||r.defaultFillStyle)}}else this.textFillState_=null;var a=t.getStroke();if(a){var o=a.getColor(),l=a.getLineCap(),n=a.getLineDash(),h=a.getLineDashOffset(),_=a.getLineJoin(),f=a.getWidth(),g=a.getMiterLimit();this.textStrokeState_={lineCap:void 0!==l?l:r.defaultLineCap,lineDash:n||r.defaultLineDash,lineDashOffset:h||r.defaultLineDashOffset,lineJoin:void 0!==_?_:r.defaultLineJoin,lineWidth:void 0!==f?f:r.defaultLineWidth,miterLimit:void 0!==g?g:r.defaultMiterLimit,strokeStyle:(0,e.asColorLike)(o||r.defaultStrokeStyle)}}else this.textStrokeState_=null;var S=t.getFont(),x=t.getOffsetX(),d=t.getOffsetY(),m=t.getRotateWithView(),c=t.getRotation(),p=t.getScale(),u=t.getText(),y=t.getTextAlign(),k=t.getTextBaseline();this.textState_={font:void 0!==S?S:r.defaultFont,textAlign:void 0!==y?y:r.defaultTextAlign,textBaseline:void 0!==k?k:r.defaultTextBaseline},this.text_=void 0!==u?u:"",this.textOffsetX_=void 0!==x?this.pixelRatio_*x:0,this.textOffsetY_=void 0!==d?this.pixelRatio_*d:0,this.textRotateWithView_=void 0!==m&&m,this.textRotation_=void 0!==c?c:0,this.textScale_=this.pixelRatio_*(void 0!==p?p:1)}else this.text_=""},_}(n.default),g=f;exports.default=g;
},{"../../array.js":"luEr","../../colorlike.js":"V5+X","../../extent.js":"QDir","../../geom/GeometryType.js":"lmV0","../../geom/SimpleGeometry.js":"pnrv","../../geom/flat/transform.js":"LGwr","../../has.js":"f3Nv","../VectorContext.js":"4LQ/","../canvas.js":"iAG7","../../transform.js":"P4eA"}],"6V0o":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.shared=exports.default=void 0;var e=require("../color.js"),t=function(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32};function i(t,i,c){return i+":"+t+":"+(c?(0,e.asString)(c):"null")}t.prototype.clear=function(){this.cache_={},this.cacheSize_=0},t.prototype.expire=function(){if(this.cacheSize_>this.maxCacheSize_){var e=0;for(var t in this.cache_){var i=this.cache_[t];0!=(3&e++)||i.hasListener()||(delete this.cache_[t],--this.cacheSize_)}}},t.prototype.get=function(e,t,c){var h=i(e,t,c);return h in this.cache_?this.cache_[h]:null},t.prototype.set=function(e,t,c,h){var r=i(e,t,c);this.cache_[r]=h,++this.cacheSize_},t.prototype.setSize=function(e){this.maxCacheSize_=e,this.expire()};var c=t;exports.default=c;var h=new t;exports.shared=h;
},{"../color.js":"eucy"}],"8oIh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.sortByZIndex=l,exports.default=void 0;var e=require("../util.js"),r=d(require("../Disposable.js")),t=require("../events.js"),n=d(require("../events/EventType.js")),o=require("../extent.js"),s=require("../functions.js"),a=require("../layer/Layer.js"),i=require("../style/IconImageCache.js"),u=require("../transform.js");function d(e){return e&&e.__esModule?e:{default:e}}var y=function(r){function i(e){r.call(this),this.map_=e,this.layerRenderers_={},this.layerRendererListeners_={},this.layerRendererConstructors_=[]}return r&&(i.__proto__=r),i.prototype=Object.create(r&&r.prototype),i.prototype.constructor=i,i.prototype.dispatchRenderEvent=function(r,t){(0,e.abstract)()},i.prototype.registerLayerRenderers=function(e){this.layerRendererConstructors_.push.apply(this.layerRendererConstructors_,e)},i.prototype.calculateMatrices2D=function(e){var r=e.viewState,t=e.coordinateToPixelTransform,n=e.pixelToCoordinateTransform;(0,u.compose)(t,e.size[0]/2,e.size[1]/2,1/r.resolution,-1/r.resolution,-r.rotation,-r.center[0],-r.center[1]),(0,u.invert)((0,u.setFromArray)(n,t))},i.prototype.removeLayerRenderers=function(){for(var e in this.layerRenderers_)this.removeLayerRendererByKey_(e).dispose()},i.prototype.forEachFeatureAtCoordinate=function(r,t,n,s,i,u,d){var y,p=t.viewState,l=p.resolution;function c(r,n){var o=t.layerStates[(0,e.getUid)(n)].managed;if(!((0,e.getUid)(r)in t.skippedFeatureUids)||o)return s.call(i,r,o?n:null)}var h=p.projection,f=r;if(h.canWrapX()){var R=h.getExtent(),_=(0,o.getWidth)(R),v=r[0];if(v<R[0]||v>R[2])f=[v+_*Math.ceil((R[0]-v)/_),r[1]]}var g,L=t.layerStatesArray;for(g=L.length-1;g>=0;--g){var m=L[g],C=m.layer;if((0,a.visibleAtResolution)(m,l)&&u.call(d,C)){var x=this.getLayerRenderer(C),j=C.getSource();if(j&&(y=x.forEachFeatureAtCoordinate(j.getWrapX()?f:r,t,n,c)),y)return y}}},i.prototype.forEachLayerAtPixel=function(r,t,n,o,s,a,i){return(0,e.abstract)()},i.prototype.hasFeatureAtCoordinate=function(e,r,t,n,o){return void 0!==this.forEachFeatureAtCoordinate(e,r,t,s.TRUE,this,n,o)},i.prototype.getLayerRenderer=function(r){var o=(0,e.getUid)(r);if(o in this.layerRenderers_)return this.layerRenderers_[o];for(var s,a=0,i=this.layerRendererConstructors_.length;a<i;++a){var u=this.layerRendererConstructors_[a];if(u.handles(r)){s=u.create(this,r);break}}if(!s)throw new Error("Unable to create renderer for layer: "+r.getType());return this.layerRenderers_[o]=s,this.layerRendererListeners_[o]=(0,t.listen)(s,n.default.CHANGE,this.handleLayerRendererChange_,this),s},i.prototype.getLayerRendererByKey=function(e){return this.layerRenderers_[e]},i.prototype.getLayerRenderers=function(){return this.layerRenderers_},i.prototype.getMap=function(){return this.map_},i.prototype.handleLayerRendererChange_=function(){this.map_.render()},i.prototype.removeLayerRendererByKey_=function(e){var r=this.layerRenderers_[e];return delete this.layerRenderers_[e],(0,t.unlistenByKey)(this.layerRendererListeners_[e]),delete this.layerRendererListeners_[e],r},i.prototype.removeUnusedLayerRenderers_=function(e,r){for(var t in this.layerRenderers_)r&&t in r.layerStates||this.removeLayerRendererByKey_(t).dispose()},i.prototype.renderFrame=function(r){(0,e.abstract)()},i.prototype.scheduleExpireIconCache=function(e){e.postRenderFunctions.push(p)},i.prototype.scheduleRemoveUnusedLayerRenderers=function(e){for(var r in this.layerRenderers_)if(!(r in e.layerStates))return void e.postRenderFunctions.push(this.removeUnusedLayerRenderers_.bind(this))},i}(r.default);function p(e,r){i.shared.expire()}function l(e,r){return e.zIndex-r.zIndex}var c=y;exports.default=c;
},{"../util.js":"KniQ","../Disposable.js":"DDda","../events.js":"55Uq","../events/EventType.js":"C8cu","../extent.js":"QDir","../functions.js":"RgA2","../layer/Layer.js":"GCgv","../style/IconImageCache.js":"6V0o","../transform.js":"P4eA"}],"vJhp":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.layerRendererConstructors=void 0;var e=require("../../transform.js"),t=require("../../array.js"),r=require("../../css.js"),s=require("../../dom.js"),a=require("../../layer/Layer.js"),i=u(require("../../render/Event.js")),n=u(require("../../render/EventType.js")),o=require("../../render/canvas.js"),c=u(require("../../render/canvas/Immediate.js")),l=h(require("../Map.js")),d=u(require("../../source/State.js"));function h(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var s=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};s.get||s.set?Object.defineProperty(t,r,s):t[r]=e[r]}return t.default=e,t}function u(e){return e&&e.__esModule?e:{default:e}}var p=[];exports.layerRendererConstructors=p;var v=function(h){function u(t){h.call(this,t);var a=t.getViewport();this.context_=(0,s.createCanvasContext2D)(),this.canvas_=this.context_.canvas,this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=r.CLASS_UNSELECTABLE,a.insertBefore(this.canvas_,a.childNodes[0]||null),this.renderedVisible_=!0,this.transform_=(0,e.create)()}return h&&(u.__proto__=h),u.prototype=Object.create(h&&h.prototype),u.prototype.constructor=u,u.prototype.dispatchRenderEvent=function(e,t){var r=this.getMap(),s=this.context_;if(r.hasListener(e)){var a=t.extent,n=t.pixelRatio,o=t.viewState.rotation,l=this.getTransform(t),d=new c.default(s,n,a,l,o),h=new i.default(e,d,t,s,null);r.dispatchEvent(h)}},u.prototype.getTransform=function(t){var r=t.viewState,s=this.canvas_.width/2,a=this.canvas_.height/2,i=t.pixelRatio/r.resolution,n=-i,o=-r.rotation,c=-r.center[0],l=-r.center[1];return(0,e.compose)(this.transform_,s,a,i,n,o,c,l)},u.prototype.renderFrame=function(e){if(e){var r=this.context_,s=e.pixelRatio,i=Math.round(e.size[0]*s),c=Math.round(e.size[1]*s);this.canvas_.width!=i||this.canvas_.height!=c?(this.canvas_.width=i,this.canvas_.height=c):r.clearRect(0,0,i,c);var h=e.viewState.rotation;this.calculateMatrices2D(e),this.dispatchRenderEvent(n.default.PRECOMPOSE,e);var u=e.layerStatesArray;(0,t.stableSort)(u,l.sortByZIndex),h&&(r.save(),(0,o.rotateAtOffset)(r,h,i/2,c/2));var p,v,y=e.viewState.resolution;for(p=0,v=u.length;p<v;++p){var f=u[p],_=f.layer,R=this.getLayerRenderer(_);(0,a.visibleAtResolution)(f,y)&&f.sourceState==d.default.READY&&(R.prepareFrame(e,f)&&R.composeFrame(e,f,r))}h&&r.restore(),this.dispatchRenderEvent(n.default.POSTCOMPOSE,e),this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.scheduleRemoveUnusedLayerRenderers(e),this.scheduleExpireIconCache(e)}else this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1)},u.prototype.forEachLayerAtPixel=function(t,r,s,i,n,o,c){var l,d,h=r.viewState.resolution,u=r.layerStatesArray,p=u.length,v=(0,e.apply)(r.pixelToCoordinateTransform,t.slice());for(d=p-1;d>=0;--d){var y=u[d],f=y.layer;if((0,a.visibleAtResolution)(y,h)&&o.call(c,f))if(l=this.getLayerRenderer(f).forEachLayerAtCoordinate(v,r,s,i,n))return l}},u.prototype.registerLayerRenderers=function(e){h.prototype.registerLayerRenderers.call(this,e);for(var r=0,s=e.length;r<s;++r){var a=e[r];(0,t.includes)(p,a)||p.push(a)}},u}(l.default),y=v;exports.default=y;
},{"../../transform.js":"P4eA","../../array.js":"luEr","../../css.js":"HgMV","../../dom.js":"Xno5","../../layer/Layer.js":"GCgv","../../render/Event.js":"E+B6","../../render/EventType.js":"z39m","../../render/canvas.js":"iAG7","../../render/canvas/Immediate.js":"fo6K","../Map.js":"8oIh","../../source/State.js":"iC8j"}],"fpOz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../util.js"),t=u(require("../ImageState.js")),r=u(require("../Observable.js")),i=u(require("../TileState.js")),o=require("../events.js"),n=u(require("../events/EventType.js")),a=u(require("../source/State.js"));function u(e){return e&&e.__esModule?e:{default:e}}var d=function(r){function u(e){r.call(this),this.layer_=e}return r&&(u.__proto__=r),u.prototype=Object.create(r&&r.prototype),u.prototype.constructor=u,u.prototype.createLoadedTileFinder=function(e,t,r){return function(i,o){return e.forEachLoadedTile(t,i,o,function(e){r[i]||(r[i]={}),r[i][e.tileCoord.toString()]=e})}},u.prototype.forEachFeatureAtCoordinate=function(e,t,r,i){},u.prototype.getLayer=function(){return this.layer_},u.prototype.handleImageChange_=function(e){e.target.getState()===t.default.LOADED&&this.renderIfReadyAndVisible()},u.prototype.hasFeatureAtCoordinate=function(e,t){return!1},u.prototype.loadImage=function(e){var r=e.getState();return r!=t.default.LOADED&&r!=t.default.ERROR&&(0,o.listen)(e,n.default.CHANGE,this.handleImageChange_,this),r==t.default.IDLE&&(e.load(),r=e.getState()),r==t.default.LOADED},u.prototype.renderIfReadyAndVisible=function(){var e=this.getLayer();e.getVisible()&&e.getSourceState()==a.default.READY&&this.changed()},u.prototype.scheduleExpireCache=function(t,r){if(r.canExpireCache()){var i=function(t,r,i){var o=(0,e.getUid)(t);o in i.usedTiles&&t.expireCache(i.viewState.projection,i.usedTiles[o])}.bind(null,r);t.postRenderFunctions.push(i)}},u.prototype.updateUsedTiles=function(t,r,i,o){var n=(0,e.getUid)(r),a=i.toString();n in t?a in t[n]?t[n][a].extend(o):t[n][a]=o:(t[n]={},t[n][a]=o)},u.prototype.manageTilePyramid=function(t,r,o,n,a,u,d,l,s,p){var c=(0,e.getUid)(r);c in t.wantedTiles||(t.wantedTiles[c]={});var f,g,y,h,v,T,E=t.wantedTiles[c],C=t.tileQueue;for(T=o.getMinZoom();T<=d;++T)for(g=o.getTileRangeForExtentAndZ(u,T,g),y=o.getResolution(T),h=g.minX;h<=g.maxX;++h)for(v=g.minY;v<=g.maxY;++v)d-T<=l?((f=r.getTile(T,h,v,n,a)).getState()==i.default.IDLE&&(E[f.getKey()]=!0,C.isKeyQueued(f.getKey())||C.enqueue([f,c,o.getTileCoordCenter(f.tileCoord),y])),void 0!==s&&s.call(p,f)):r.useTile(T,h,v,a)},u}(r.default),l=d;exports.default=l;
},{"../util.js":"KniQ","../ImageState.js":"u3k+","../Observable.js":"8IdS","../TileState.js":"Xz9x","../events.js":"55Uq","../events/EventType.js":"C8cu","../source/State.js":"iC8j"}],"+vPf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../util.js"),t=require("../../extent.js"),o=require("../../functions.js"),r=u(require("../../render/Event.js")),i=u(require("../../render/EventType.js")),a=require("../../render/canvas.js"),n=u(require("../../render/canvas/Immediate.js")),s=u(require("../Layer.js")),p=require("../../transform.js");function u(e){return e&&e.__esModule?e:{default:e}}var f=function(s){function u(e){s.call(this,e),this.renderedResolution,this.transform_=(0,p.create)()}return s&&(u.__proto__=s),u.prototype=Object.create(s&&s.prototype),u.prototype.constructor=u,u.prototype.clip=function(e,o,r){var i=o.pixelRatio,n=o.size[0]*i,s=o.size[1]*i,u=o.viewState.rotation,f=(0,t.getTopLeft)(r),c=(0,t.getTopRight)(r),l=(0,t.getBottomRight)(r),d=(0,t.getBottomLeft)(r);(0,p.apply)(o.coordinateToPixelTransform,f),(0,p.apply)(o.coordinateToPixelTransform,c),(0,p.apply)(o.coordinateToPixelTransform,l),(0,p.apply)(o.coordinateToPixelTransform,d),e.save(),(0,a.rotateAtOffset)(e,-u,n/2,s/2),e.beginPath(),e.moveTo(f[0]*i,f[1]*i),e.lineTo(c[0]*i,c[1]*i),e.lineTo(l[0]*i,l[1]*i),e.lineTo(d[0]*i,d[1]*i),e.clip(),(0,a.rotateAtOffset)(e,u,n/2,s/2)},u.prototype.dispatchComposeEvent_=function(e,t,o,i){var s=this.getLayer();if(s.hasListener(e)){var p=o.size[0]*o.pixelRatio,u=o.size[1]*o.pixelRatio,f=o.viewState.rotation;(0,a.rotateAtOffset)(t,-f,p/2,u/2);var c=void 0!==i?i:this.getTransform(o,0),l=new n.default(t,o.pixelRatio,o.extent,c,o.viewState.rotation),d=new r.default(e,l,o,t,null);s.dispatchEvent(d),(0,a.rotateAtOffset)(t,f,p/2,u/2)}},u.prototype.forEachLayerAtCoordinate=function(e,t,r,i,a){return this.forEachFeatureAtCoordinate(e,t,r,o.TRUE)?i.call(a,this.getLayer(),null):void 0},u.prototype.postCompose=function(e,t,o,r){this.dispatchComposeEvent_(i.default.POSTCOMPOSE,e,t,r)},u.prototype.preCompose=function(e,t,o){this.dispatchComposeEvent_(i.default.PRECOMPOSE,e,t,o)},u.prototype.dispatchRenderEvent=function(e,t,o){this.dispatchComposeEvent_(i.default.RENDER,e,t,o)},u.prototype.getTransform=function(e,t){var o=e.viewState,r=e.pixelRatio,i=r*e.size[0]/2,a=r*e.size[1]/2,n=r/o.resolution,s=-n,u=-o.rotation,f=-o.center[0]+t,c=-o.center[1];return(0,p.compose)(this.transform_,i,a,n,s,u,f,c)},u.prototype.composeFrame=function(t,o,r){(0,e.abstract)()},u.prototype.prepareFrame=function(t,o){return(0,e.abstract)()},u}(s.default),c=f;exports.default=c;
},{"../../util.js":"KniQ","../../extent.js":"QDir","../../functions.js":"RgA2","../../render/Event.js":"E+B6","../../render/EventType.js":"z39m","../../render/canvas.js":"iAG7","../../render/canvas/Immediate.js":"fo6K","../Layer.js":"fpOz","../../transform.js":"P4eA"}],"F9m+":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../util.js"),e=require("../../coordinate.js"),a=require("../../dom.js"),r=require("../../extent.js"),o=n(require("./Layer.js")),i=require("../../transform.js");function n(t){return t&&t.__esModule?t:{default:t}}var s=function(o){function n(t){o.call(this,t),this.coordinateToCanvasPixelTransform=(0,i.create)(),this.hitCanvasContext_=null}return o&&(n.__proto__=o),n.prototype=Object.create(o&&o.prototype),n.prototype.constructor=n,n.prototype.composeFrame=function(t,e,a){this.preCompose(a,t);var o=this.getImage();if(o){var i=e.extent,n=void 0!==i&&!(0,r.containsExtent)(i,t.extent)&&(0,r.intersects)(i,t.extent);n&&this.clip(a,t,i);var s=this.getImageTransform(),h=a.globalAlpha;a.globalAlpha=e.opacity;var u=s[4],c=s[5],l=o.width*s[0],p=o.height*s[3];l>=.5&&p>=.5&&a.drawImage(o,0,0,+o.width,+o.height,Math.round(u),Math.round(c),Math.round(l),Math.round(p)),a.globalAlpha=h,n&&a.restore()}this.postCompose(a,t,e)},n.prototype.getImage=function(){return(0,t.abstract)()},n.prototype.getImageTransform=function(){return(0,t.abstract)()},n.prototype.forEachLayerAtCoordinate=function(t,r,o,n,s){if(this.getImage()){var h=(0,i.apply)(this.coordinateToCanvasPixelTransform,t.slice());(0,e.scale)(h,r.viewState.resolution/this.renderedResolution),this.hitCanvasContext_||(this.hitCanvasContext_=(0,a.createCanvasContext2D)(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.getImage(),h[0],h[1],1,1,0,0,1,1);var u=this.hitCanvasContext_.getImageData(0,0,1,1).data;return u[3]>0?n.call(s,this.getLayer(),u):void 0}},n}(o.default),h=s;exports.default=h;
},{"../../util.js":"KniQ","../../coordinate.js":"nGsj","../../dom.js":"Xno5","../../extent.js":"QDir","./Layer.js":"+vPf","../../transform.js":"P4eA"}],"rz/N":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../reproj/common.js"),t=d(require("../../ImageCanvas.js")),r=d(require("../../LayerType.js")),i=d(require("../../ViewHint.js")),o=require("../../array.js"),a=require("../../extent.js"),s=d(require("../../layer/VectorRenderType.js")),n=require("../../obj.js"),u=require("./Map.js"),p=d(require("./IntermediateCanvas.js")),c=require("../../transform.js");function d(e){return e&&e.__esModule?e:{default:e}}var l=function(s){function p(e){if(s.call(this,e),this.image_=null,this.imageTransform_=(0,c.create)(),this.skippedFeatures_=[],this.vectorRenderer_=null,e.getType()===r.default.VECTOR)for(var t=0,i=u.layerRendererConstructors.length;t<i;++t){var o=u.layerRendererConstructors[t];if(o!==p&&o.handles(e)){this.vectorRenderer_=new o(e);break}}}return s&&(p.__proto__=s),p.prototype=Object.create(s&&s.prototype),p.prototype.constructor=p,p.prototype.disposeInternal=function(){this.vectorRenderer_&&this.vectorRenderer_.dispose(),s.prototype.disposeInternal.call(this)},p.prototype.getImage=function(){return this.image_?this.image_.getImage():null},p.prototype.getImageTransform=function(){return this.imageTransform_},p.prototype.prepareFrame=function(r,s){var u,p=r.pixelRatio,d=r.size,l=r.viewState,f=l.center,g=l.resolution,h=this.getLayer().getSource(),m=r.viewHints,v=this.vectorRenderer_,_=r.extent;if(v||void 0===s.extent||(_=(0,a.getIntersection)(_,s.extent)),!m[i.default.ANIMATING]&&!m[i.default.INTERACTING]&&!(0,a.isEmpty)(_)){var y=l.projection;if(!e.ENABLE_RASTER_REPROJECTION){var R=h.getProjection();R&&(y=R)}var j=this.skippedFeatures_;if(v){var T=v.context,I=(0,n.assign)({},r,{size:[(0,a.getWidth)(_)/g,(0,a.getHeight)(_)/g],viewState:(0,n.assign)({},r.viewState,{rotation:0})}),E=Object.keys(I.skippedFeatureUids).sort();u=new t.default(_,g,p,T.canvas,function(e){!v.prepareFrame(I,s)||!v.replayGroupChanged&&(0,o.equals)(j,E)||(T.canvas.width=I.size[0]*p,T.canvas.height=I.size[1]*p,v.compose(T,I,s),j=E,e())})}else u=h.getImage(_,g,p,y);u&&this.loadImage(u)&&(this.image_=u,this.skippedFeatures_=j)}if(this.image_){var C=(u=this.image_).getExtent(),q=u.getResolution(),x=u.getPixelRatio(),A=p*q/(g*x),w=(0,c.compose)(this.imageTransform_,p*d[0]/2,p*d[1]/2,A,A,0,x*(C[0]-f[0])/q,x*(f[1]-C[3])/q);(0,c.compose)(this.coordinateToCanvasPixelTransform,p*d[0]/2-w[4],p*d[1]/2-w[5],p/g,-p/g,0,-f[0],-f[1]),this.renderedResolution=q*p/x}return!!this.image_},p.prototype.forEachFeatureAtCoordinate=function(e,t,r,i){return this.vectorRenderer_?this.vectorRenderer_.forEachFeatureAtCoordinate(e,t,r,i):s.prototype.forEachFeatureAtCoordinate.call(this,e,t,r,i)},p}(p.default);l.handles=function(e){return e.getType()===r.default.IMAGE||e.getType()===r.default.VECTOR&&e.getRenderMode()===s.default.IMAGE},l.create=function(e,t){return new l(t)};var f=l;exports.default=f;
},{"../../reproj/common.js":"7f+F","../../ImageCanvas.js":"K7j2","../../LayerType.js":"8+bQ","../../ViewHint.js":"cuLW","../../array.js":"luEr","../../extent.js":"QDir","../../layer/VectorRenderType.js":"oqAD","../../obj.js":"mH6q","./Map.js":"vJhp","./IntermediateCanvas.js":"F9m+","../../transform.js":"P4eA"}],"346s":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createOrUpdate=i,exports.default=void 0;var t=function(t,i,n,m){this.minX=t,this.maxX=i,this.minY=n,this.maxY=m};function i(i,n,m,e,s){return void 0!==s?(s.minX=i,s.maxX=n,s.minY=m,s.maxY=e,s):new t(i,n,m,e)}t.prototype.contains=function(t){return this.containsXY(t[1],t[2])},t.prototype.containsTileRange=function(t){return this.minX<=t.minX&&t.maxX<=this.maxX&&this.minY<=t.minY&&t.maxY<=this.maxY},t.prototype.containsXY=function(t,i){return this.minX<=t&&t<=this.maxX&&this.minY<=i&&i<=this.maxY},t.prototype.equals=function(t){return this.minX==t.minX&&this.minY==t.minY&&this.maxX==t.maxX&&this.maxY==t.maxY},t.prototype.extend=function(t){t.minX<this.minX&&(this.minX=t.minX),t.maxX>this.maxX&&(this.maxX=t.maxX),t.minY<this.minY&&(this.minY=t.minY),t.maxY>this.maxY&&(this.maxY=t.maxY)},t.prototype.getHeight=function(){return this.maxY-this.minY+1},t.prototype.getSize=function(){return[this.getWidth(),this.getHeight()]},t.prototype.getWidth=function(){return this.maxX-this.minX+1},t.prototype.intersects=function(t){return this.minX<=t.maxX&&this.maxX>=t.minX&&this.minY<=t.maxY&&this.maxY>=t.minY};var n=t;exports.default=n;
},{}],"hkM/":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../util.js"),t=d(require("../../LayerType.js")),i=d(require("../../TileRange.js")),r=d(require("../../TileState.js")),n=d(require("../../ViewHint.js")),o=require("../../dom.js"),s=require("../../extent.js"),a=d(require("./IntermediateCanvas.js")),l=require("../../transform.js");function d(e){return e&&e.__esModule?e:{default:e}}var h=function(t){function a(e,r){t.call(this,e),this.context=r?null:(0,o.createCanvasContext2D)(),this.oversampling_,this.renderedExtent_=null,this.renderedRevision,this.renderedTiles=[],this.newTiles_=!1,this.tmpExtent=(0,s.createEmpty)(),this.tmpTileRange_=new i.default(0,0,0,0),this.imageTransform_=(0,l.create)(),this.zDirection=0}return t&&(a.__proto__=t),a.prototype=Object.create(t&&t.prototype),a.prototype.constructor=a,a.prototype.isDrawableTile_=function(e){var t=this.getLayer(),i=e.getState(),n=t.getUseInterimTilesOnError();return i==r.default.LOADED||i==r.default.EMPTY||i==r.default.ERROR&&!n},a.prototype.getTile=function(e,t,i,n,o){var s=this.getLayer(),a=s.getSource().getTile(e,t,i,n,o);return a.getState()==r.default.ERROR&&(s.getUseInterimTilesOnError()?s.getPreload()>0&&(this.newTiles_=!0):a.setState(r.default.LOADED)),this.isDrawableTile_(a)||(a=a.getInterimTile()),a},a.prototype.prepareFrame=function(t,i){var o=t.pixelRatio,a=t.size,d=t.viewState,h=d.projection,u=d.resolution,g=d.center,c=this.getLayer(),T=c.getSource(),p=T.getRevision(),f=T.getTileGridForProjection(h),m=f.getZForResolution(u,this.zDirection),v=f.getResolution(m),x=Math.round(u/v)||1,_=t.extent;if(void 0!==i.extent&&(_=(0,s.getIntersection)(_,i.extent)),(0,s.isEmpty)(_))return!1;var R=f.getTileRangeForExtentAndZ(_,m),E=f.getTileRangeExtent(m,R),y=T.getTilePixelRatio(o),w={};w[m]={};var I,j,C,D=this.createLoadedTileFinder(T,h,w),S=t.viewHints,O=S[n.default.ANIMATING]||S[n.default.INTERACTING],P=this.tmpExtent,q=this.tmpTileRange_;for(this.newTiles_=!1,j=R.minX;j<=R.maxX;++j)for(C=R.minY;C<=R.maxY;++C)if(!(Date.now()-t.time>16&&O)){if(I=this.getTile(m,j,C,o,h),this.isDrawableTile_(I)){var A=(0,e.getUid)(this);if(I.getState()==r.default.LOADED){w[m][I.tileCoord.toString()]=I;var L=I.inTransition(A);this.newTiles_||!L&&-1!==this.renderedTiles.indexOf(I)||(this.newTiles_=!0)}if(1===I.getAlpha(A,t.time))continue}var b=f.getTileCoordChildTileRange(I.tileCoord,q,P),M=!1;b&&(M=D(m+1,b)),M||f.forEachTileCoordParentTileRange(I.tileCoord,D,null,q,P)}var F=v*o/y*x;if(!(this.renderedResolution&&Date.now()-t.time>16&&O)&&(this.newTiles_||!this.renderedExtent_||!(0,s.containsExtent)(this.renderedExtent_,_)||this.renderedRevision!=p||x!=this.oversampling_||!O&&F!=this.renderedResolution)){var z=this.context;if(z){var N=T.getTilePixelSize(m,o,h),U=Math.round(R.getWidth()*N[0]/x),G=Math.round(R.getHeight()*N[1]/x),H=z.canvas;H.width!=U||H.height!=G?(this.oversampling_=x,H.width=U,H.height=G):(this.renderedExtent_&&!(0,s.equals)(E,this.renderedExtent_)&&z.clearRect(0,0,U,G),x=this.oversampling_)}this.renderedTiles.length=0;var Y,X,Z,k,V,W,B,J,K,Q,$=Object.keys(w).map(Number);for($.sort(function(e,t){return e===m?1:t===m?-1:e>t?1:e<t?-1:0}),k=0,V=$.length;k<V;++k)for(var ee in Z=$[k],X=T.getTilePixelSize(Z,o,h),Y=f.getResolution(Z)/v,B=y*T.getGutterForProjection(h),J=w[Z])I=J[ee],j=((W=f.getTileCoordExtent(I.getTileCoord(),P))[0]-E[0])/v*y/x,C=(E[3]-W[3])/v*y/x,K=X[0]*Y/x,Q=X[1]*Y/x,this.drawTileImage(I,t,i,j,C,K,Q,B,m===Z),this.renderedTiles.push(I);this.renderedRevision=p,this.renderedResolution=v*o/y*x,this.renderedExtent_=E}var te=this.renderedResolution/u,ie=(0,l.compose)(this.imageTransform_,o*a[0]/2,o*a[1]/2,te,te,0,(this.renderedExtent_[0]-g[0])/this.renderedResolution*o,(g[1]-this.renderedExtent_[3])/this.renderedResolution*o);return(0,l.compose)(this.coordinateToCanvasPixelTransform,o*a[0]/2-ie[4],o*a[1]/2-ie[5],o/u,-o/u,0,-g[0],-g[1]),this.updateUsedTiles(t.usedTiles,T,m,R),this.manageTilePyramid(t,T,f,o,h,_,m,c.getPreload()),this.scheduleExpireCache(t,T),this.renderedTiles.length>0},a.prototype.drawTileImage=function(t,i,r,n,o,s,a,l,d){var h=this.getTileImage(t);if(h){var u=(0,e.getUid)(this),g=d?t.getAlpha(u,i.time):1,c=this.getLayer().getSource();1!==g||c.getOpaque(i.viewState.projection)||this.context.clearRect(n,o,s,a);var T=g!==this.context.globalAlpha;T&&(this.context.save(),this.context.globalAlpha=g),this.context.drawImage(h,l,l,h.width-2*l,h.height-2*l,n,o,s,a),T&&this.context.restore(),1!==g?i.animate=!0:d&&t.endTransition(u)}},a.prototype.getImage=function(){var e=this.context;return e?e.canvas:null},a.prototype.getImageTransform=function(){return this.imageTransform_},a.prototype.getTileImage=function(e){return e.getImage()},a}(a.default);h.handles=function(e){return e.getType()===t.default.TILE},h.create=function(e,t){return new h(t)},h.prototype.getLayer;var u=h;exports.default=u;
},{"../../util.js":"KniQ","../../LayerType.js":"8+bQ","../../TileRange.js":"346s","../../TileState.js":"Xz9x","../../ViewHint.js":"cuLW","../../dom.js":"Xno5","../../extent.js":"QDir","./IntermediateCanvas.js":"F9m+","../../transform.js":"P4eA"}],"TK0U":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../util.js"),e=function(){};e.prototype.getReplay=function(e,r){return(0,t.abstract)()},e.prototype.isEmpty=function(){return(0,t.abstract)()},e.prototype.addDeclutter=function(e){return(0,t.abstract)()};var r=e;exports.default=r;
},{"../util.js":"KniQ"}],"D882":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={CIRCLE:"Circle",DEFAULT:"Default",IMAGE:"Image",LINE_STRING:"LineString",POLYGON:"Polygon",TEXT:"Text"};exports.default=e;
},{}],"JxN9":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.drawTextOnPath=a;var t=require("../../math.js");function a(a,r,h,e,M,o,s,n){for(var p,u,v,i=[],P=a[r]>a[h-e],f=M.length,l=a[r],I=a[r+1],w=a[r+=e],c=a[r+1],d=0,q=Math.sqrt(Math.pow(w-l,2)+Math.pow(c-I,2)),x="",b=0,j=0;j<f;++j){u=P?f-j-1:j;var O=M.charAt(u),_=o(x=P?O+x:x+O)-b;b+=_;for(var g=s+_/2;r<h-e&&d+q<g;)l=w,I=c,w=a[r+=e],c=a[r+1],d+=q,q=Math.sqrt(Math.pow(w-l,2)+Math.pow(c-I,2));var m=g-d,y=Math.atan2(c-I,w-l);if(P&&(y+=y>0?-Math.PI:Math.PI),void 0!==v){var A=y-v;if(A+=A>Math.PI?-2*Math.PI:A<-Math.PI?2*Math.PI:0,Math.abs(A)>n)return null}var T=m/q,k=(0,t.lerp)(l,w,T),z=(0,t.lerp)(I,c,T);v==y?(P&&(p[0]=k,p[1]=z,p[2]=_/2),p[4]=x):(b=_,p=[k,z,_/2,y,x=O],P?i.unshift(p):i.push(p),v=y),s+=_}return i}
},{"../../math.js":"B96G"}],"kTJv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.closePathInstruction=exports.beginPathInstruction=exports.strokeInstruction=exports.fillInstruction=void 0;var t={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},r=[t.FILL];exports.fillInstruction=r;var e=[t.STROKE];exports.strokeInstruction=e;var o=[t.BEGIN_PATH];exports.beginPathInstruction=o;var s=[t.CLOSE_PATH];exports.closePathInstruction=s;var E=t;exports.default=E;
},{}],"FzwX":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.TEXT_ALIGN=exports.ORDER=void 0;var e=t(require("./ReplayType.js"));function t(e){return e&&e.__esModule?e:{default:e}}var r=[e.default.POLYGON,e.default.CIRCLE,e.default.LINE_STRING,e.default.IMAGE,e.default.TEXT,e.default.DEFAULT];exports.ORDER=r;var a={};exports.TEXT_ALIGN=a,a.left=0,a.end=0,a.center=.5,a.right=1,a.start=1,a.top=0,a.middle=.5,a.hanging=.2,a.alphabetic=.8,a.ideographic=.8,a.bottom=1;
},{"./ReplayType.js":"D882"}],"zweS":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../util.js"),e=require("../../array.js"),i=require("../../colorlike.js"),r=require("../../extent.js"),n=g(require("../../extent/Relationship.js")),o=g(require("../../geom/GeometryType.js")),a=require("../../geom/flat/inflate.js"),s=require("../../geom/flat/length.js"),l=require("../../geom/flat/textpath.js"),h=require("../../geom/flat/transform.js"),u=require("../../has.js"),d=require("../../obj.js"),f=g(require("../VectorContext.js")),p=require("../canvas.js"),c=g(require("./Instruction.js")),y=require("../replay.js"),_=require("../../transform.js");function g(t){return t&&t.__esModule?t:{default:t}}var v=(0,r.createEmpty)(),m=(0,_.create)(),x=function(f){function g(t,e,i,r,n,o){f.call(this),this.declutterTree=o,this.tolerance=t,this.maxExtent=e,this.overlaps=n,this.pixelRatio=r,this.maxLineWidth=0,this.resolution=i,this.alignFill_,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_=null,this.bufferedMaxExtent_=null,this.instructions=[],this.coordinates=[],this.coordinateCache_={},this.renderedTransform_=(0,_.create)(),this.hitDetectionInstructions=[],this.pixelCoordinates_=null,this.state={},this.viewRotation_=0}return f&&(g.__proto__=f),g.prototype=Object.create(f&&f.prototype),g.prototype.constructor=g,g.prototype.replayTextBackground_=function(t,e,i,r,n,o,a){t.beginPath(),t.moveTo.apply(t,e),t.lineTo.apply(t,i),t.lineTo.apply(t,r),t.lineTo.apply(t,n),t.lineTo.apply(t,e),o&&(this.alignFill_=o[2],this.fill_(t)),a&&(this.setStrokeStyle_(t,a),t.stroke())},g.prototype.replayImage_=function(t,e,i,n,o,a,s,l,h,u,d,f,c,y,g,x,E,L){var T=E||L;e-=o*=c,i-=a*=c;var S,C,I,O,k=g+u>n.width?n.width-u:g,b=l+d>n.height?n.height-d:l,D=x[3]+k*c+x[1],G=x[0]+b*c+x[2],M=e-x[3],R=i-x[0];(T||0!==f)&&(S=[M,R],C=[M+D,R],I=[M+D,R+G],O=[M,R+G]);var N=null;if(0!==f){var F=e+o,j=i+a;N=(0,_.compose)(m,F,j,1,1,f,-F,-j),(0,r.createOrUpdateEmpty)(v),(0,r.extendCoordinate)(v,(0,_.apply)(m,S)),(0,r.extendCoordinate)(v,(0,_.apply)(m,C)),(0,r.extendCoordinate)(v,(0,_.apply)(m,I)),(0,r.extendCoordinate)(v,(0,_.apply)(m,O))}else(0,r.createOrUpdate)(M,R,M+D,R+G,v);var q=t.canvas,w=L?L[2]*c/2:0,P=v[0]-w<=q.width&&v[2]+w>=0&&v[1]-w<=q.height&&v[3]+w>=0;if(y&&(e=Math.round(e),i=Math.round(i)),s){if(!P&&1==s[4])return;(0,r.extend)(s,v);var W=P?[t,N?N.slice(0):null,h,n,u,d,k,b,e,i,c]:null;W&&T&&W.push(E,L,S,C,I,O),s.push(W)}else P&&(T&&this.replayTextBackground_(t,S,C,I,O,E,L),(0,p.drawImage)(t,N,h,n,u,d,k,b,e,i,c))},g.prototype.applyPixelRatio=function(t){var e=this.pixelRatio;return 1==e?t:t.map(function(t){return t*e})},g.prototype.appendFlatCoordinates=function(t,e,i,o,a,s){var l=this.coordinates.length,h=this.getBufferedMaxExtent();s&&(e+=o);var u,d,f,p=[t[e],t[e+1]],c=[NaN,NaN],y=!0;for(u=e+o;u<i;u+=o)c[0]=t[u],c[1]=t[u+1],(f=(0,r.coordinateRelationship)(h,c))!==d?(y&&(this.coordinates[l++]=p[0],this.coordinates[l++]=p[1]),this.coordinates[l++]=c[0],this.coordinates[l++]=c[1],y=!1):f===n.default.INTERSECTING?(this.coordinates[l++]=c[0],this.coordinates[l++]=c[1],y=!1):y=!0,p[0]=c[0],p[1]=c[1],d=f;return(a&&y||u===e+o)&&(this.coordinates[l++]=p[0],this.coordinates[l++]=p[1]),l},g.prototype.drawCustomCoordinates_=function(t,e,i,r,n){for(var o=0,a=i.length;o<a;++o){var s=i[o],l=this.appendFlatCoordinates(t,e,s,r,!1,!1);n.push(l),e=s}return e},g.prototype.drawCustom=function(t,e,i){this.beginGeometry(t,e);var r,n,s,l,h,u=t.getType(),d=t.getStride(),f=this.coordinates.length;if(u==o.default.MULTI_POLYGON){r=(t=t).getOrientedFlatCoordinates(),l=[];var p=t.getEndss();h=0;for(var y=0,_=p.length;y<_;++y){var g=[];h=this.drawCustomCoordinates_(r,h,p[y],d,g),l.push(g)}this.instructions.push([c.default.CUSTOM,f,l,t,i,a.inflateMultiCoordinatesArray])}else u==o.default.POLYGON||u==o.default.MULTI_LINE_STRING?(s=[],r=u==o.default.POLYGON?t.getOrientedFlatCoordinates():t.getFlatCoordinates(),h=this.drawCustomCoordinates_(r,0,t.getEnds(),d,s),this.instructions.push([c.default.CUSTOM,f,s,t,i,a.inflateCoordinatesArray])):u==o.default.LINE_STRING||u==o.default.MULTI_POINT?(r=t.getFlatCoordinates(),n=this.appendFlatCoordinates(r,0,r.length,d,!1,!1),this.instructions.push([c.default.CUSTOM,f,n,t,i,a.inflateCoordinates])):u==o.default.POINT&&(r=t.getFlatCoordinates(),this.coordinates.push(r[0],r[1]),n=this.coordinates.length,this.instructions.push([c.default.CUSTOM,f,n,t,i]));this.endGeometry(t,e)},g.prototype.beginGeometry=function(t,e){this.beginGeometryInstruction1_=[c.default.BEGIN_GEOMETRY,e,0],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[c.default.BEGIN_GEOMETRY,e,0],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},g.prototype.finish=function(){},g.prototype.fill_=function(t){if(this.alignFill_){var e=(0,_.apply)(this.renderedTransform_,[0,0]),i=512*this.pixelRatio;t.translate(e[0]%i,e[1]%i),t.rotate(this.viewRotation_)}t.fill(),this.alignFill_&&t.setTransform.apply(t,p.resetTransform)},g.prototype.setStrokeStyle_=function(t,e){t.strokeStyle=e[1],t.lineWidth=e[2],t.lineCap=e[3],t.lineJoin=e[4],t.miterLimit=e[5],u.CANVAS_LINE_DASH&&(t.lineDashOffset=e[7],t.setLineDash(e[6]))},g.prototype.renderDeclutter_=function(t,e){if(t&&t.length>5){var i=t[4];if(1==i||i==t.length-5){var n={minX:t[0],minY:t[1],maxX:t[2],maxY:t[3],value:e};if(!this.declutterTree.collides(n)){this.declutterTree.insert(n);for(var o=5,a=t.length;o<a;++o){var s=t[o];s&&(s.length>11&&this.replayTextBackground_(s[0],s[13],s[14],s[15],s[16],s[11],s[12]),p.drawImage.apply(void 0,s))}}t.length=5,(0,r.createOrUpdateEmpty)(t)}}},g.prototype.replay_=function(i,n,o,a,u,f,g){var v;this.pixelCoordinates_&&(0,e.equals)(n,this.renderedTransform_)?v=this.pixelCoordinates_:(this.pixelCoordinates_||(this.pixelCoordinates_=[]),v=(0,h.transform2D)(this.coordinates,0,this.coordinates.length,2,n,this.pixelCoordinates_),(0,_.setFromArray)(this.renderedTransform_,n));for(var m,x,E,L,T,S,C,I,O,k,b,D,G=!(0,d.isEmpty)(o),M=0,R=a.length,N=0,F=0,j=0,q=null,w=null,P=this.coordinateCache_,W=this.viewRotation_,Y={context:i,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:W},A=this.instructions!=a||this.overlaps?0:200;M<R;){var U=a[M];switch(U[0]){case c.default.BEGIN_GEOMETRY:k=U[1],G&&o[(0,t.getUid)(k)]||!k.getGeometry()?M=U[2]:void 0===g||(0,r.intersects)(g,k.getGeometry().getExtent())?++M:M=U[2]+1;break;case c.default.BEGIN_PATH:F>A&&(this.fill_(i),F=0),j>A&&(i.stroke(),j=0),F||j||(i.beginPath(),L=T=NaN),++M;break;case c.default.CIRCLE:var B=v[N=U[1]],J=v[N+1],H=v[N+2]-B,K=v[N+3]-J,V=Math.sqrt(H*H+K*K);i.moveTo(B+V,J),i.arc(B,J,V,0,2*Math.PI,!0),++M;break;case c.default.CLOSE_PATH:i.closePath(),++M;break;case c.default.CUSTOM:N=U[1],m=U[2];var X=U[3],z=U[4],Q=6==U.length?U[5]:void 0;Y.geometry=X,Y.feature=k,M in P||(P[M]=[]);var Z=P[M];Q?Q(v,N,m,2,Z):(Z[0]=v[N],Z[1]=v[N+1],Z.length=2),z(Z,Y),++M;break;case c.default.DRAW_IMAGE:N=U[1],m=U[2],O=U[3],x=U[4],E=U[5],I=f?null:U[6];var $=U[7],tt=U[8],et=U[9],it=U[10],rt=U[11],nt=U[12],ot=U[13],at=U[14],st=void 0,lt=void 0,ht=void 0;for(U.length>16?(st=U[15],lt=U[16],ht=U[17]):(st=p.defaultPadding,lt=ht=!1),rt&&(nt+=W);N<m;N+=2)this.replayImage_(i,v[N],v[N+1],O,x,E,I,$,tt,et,it,nt,ot,u,at,st,lt?q:null,ht?w:null);this.renderDeclutter_(I,k),++M;break;case c.default.DRAW_CHARS:var ut=U[1],dt=U[2],ft=U[3];I=f?null:U[4];var pt=U[5],ct=U[6],yt=U[7],_t=U[8],gt=U[9],vt=U[10],mt=U[11],xt=U[12],Et=U[13],Lt=U[14],Tt=(0,s.lineStringLength)(v,ut,dt,2),St=_t(xt);if(pt||St<=Tt){var Ct=this.textStates[Et].textAlign,It=(Tt-St)*y.TEXT_ALIGN[Ct],Ot=(0,l.drawTextOnPath)(v,ut,dt,2,xt,_t,It,yt);if(Ot){var kt=void 0,bt=void 0,Dt=void 0,Gt=void 0,Mt=void 0;if(vt)for(kt=0,bt=Ot.length;kt<bt;++kt)Dt=(Mt=Ot[kt])[4],Gt=this.getImage(Dt,Et,"",vt),x=Mt[2]+mt,E=ft*Gt.height+2*(.5-ft)*mt-gt,this.replayImage_(i,Mt[0],Mt[1],Gt,x,E,I,Gt.height,1,0,0,Mt[3],Lt,!1,Gt.width,p.defaultPadding,null,null);if(ct)for(kt=0,bt=Ot.length;kt<bt;++kt)Dt=(Mt=Ot[kt])[4],Gt=this.getImage(Dt,Et,ct,""),x=Mt[2],E=ft*Gt.height-gt,this.replayImage_(i,Mt[0],Mt[1],Gt,x,E,I,Gt.height,1,0,0,Mt[3],Lt,!1,Gt.width,p.defaultPadding,null,null)}}this.renderDeclutter_(I,k),++M;break;case c.default.END_GEOMETRY:if(void 0!==f){var Rt=f(k=U[1]);if(Rt)return Rt}++M;break;case c.default.FILL:A?F++:this.fill_(i),++M;break;case c.default.MOVE_TO_LINE_TO:for(N=U[1],m=U[2],b=v[N],C=(D=v[N+1])+.5|0,(S=b+.5|0)===L&&C===T||(i.moveTo(b,D),L=S,T=C),N+=2;N<m;N+=2)S=(b=v[N])+.5|0,C=(D=v[N+1])+.5|0,N!=m-2&&S===L&&C===T||(i.lineTo(b,D),L=S,T=C);++M;break;case c.default.SET_FILL_STYLE:q=U,this.alignFill_=U[2],F&&(this.fill_(i),F=0,j&&(i.stroke(),j=0)),i.fillStyle=U[1],++M;break;case c.default.SET_STROKE_STYLE:w=U,j&&(i.stroke(),j=0),this.setStrokeStyle_(i,U),++M;break;case c.default.STROKE:A?j++:i.stroke(),++M;break;default:++M}}F&&this.fill_(i),j&&i.stroke()},g.prototype.replay=function(t,e,i,r,n){this.viewRotation_=i,this.replay_(t,e,r,this.instructions,n,void 0,void 0)},g.prototype.replayHitDetection=function(t,e,i,r,n,o){return this.viewRotation_=i,this.replay_(t,e,r,this.hitDetectionInstructions,!0,n,o)},g.prototype.reverseHitDetectionInstructions=function(){var t,i=this.hitDetectionInstructions;i.reverse();var r,n,o=i.length,a=-1;for(t=0;t<o;++t)(n=(r=i[t])[0])==c.default.END_GEOMETRY?a=t:n==c.default.BEGIN_GEOMETRY&&(r[2]=t,(0,e.reverseSubArray)(this.hitDetectionInstructions,a,t),a=-1)},g.prototype.setFillStrokeStyle=function(t,e){var r=this.state;if(t){var n=t.getColor();r.fillStyle=(0,i.asColorLike)(n||p.defaultFillStyle)}else r.fillStyle=void 0;if(e){var o=e.getColor();r.strokeStyle=(0,i.asColorLike)(o||p.defaultStrokeStyle);var a=e.getLineCap();r.lineCap=void 0!==a?a:p.defaultLineCap;var s=e.getLineDash();r.lineDash=s?s.slice():p.defaultLineDash;var l=e.getLineDashOffset();r.lineDashOffset=l||p.defaultLineDashOffset;var h=e.getLineJoin();r.lineJoin=void 0!==h?h:p.defaultLineJoin;var u=e.getWidth();r.lineWidth=void 0!==u?u:p.defaultLineWidth;var d=e.getMiterLimit();r.miterLimit=void 0!==d?d:p.defaultMiterLimit,r.lineWidth>this.maxLineWidth&&(this.maxLineWidth=r.lineWidth,this.bufferedMaxExtent_=null)}else r.strokeStyle=void 0,r.lineCap=void 0,r.lineDash=null,r.lineDashOffset=void 0,r.lineJoin=void 0,r.lineWidth=void 0,r.miterLimit=void 0},g.prototype.createFill=function(t,e){var i=t.fillStyle,r=[c.default.SET_FILL_STYLE,i];return"string"!=typeof i&&r.push(!0),r},g.prototype.applyStroke=function(t){this.instructions.push(this.createStroke(t))},g.prototype.createStroke=function(t){return[c.default.SET_STROKE_STYLE,t.strokeStyle,t.lineWidth*this.pixelRatio,t.lineCap,t.lineJoin,t.miterLimit,this.applyPixelRatio(t.lineDash),t.lineDashOffset*this.pixelRatio]},g.prototype.updateFillStyle=function(t,e,i){var r=t.fillStyle;"string"==typeof r&&t.currentFillStyle==r||(void 0!==r&&this.instructions.push(e.call(this,t,i)),t.currentFillStyle=r)},g.prototype.updateStrokeStyle=function(t,i){var r=t.strokeStyle,n=t.lineCap,o=t.lineDash,a=t.lineDashOffset,s=t.lineJoin,l=t.lineWidth,h=t.miterLimit;(t.currentStrokeStyle!=r||t.currentLineCap!=n||o!=t.currentLineDash&&!(0,e.equals)(t.currentLineDash,o)||t.currentLineDashOffset!=a||t.currentLineJoin!=s||t.currentLineWidth!=l||t.currentMiterLimit!=h)&&(void 0!==r&&i.call(this,t),t.currentStrokeStyle=r,t.currentLineCap=n,t.currentLineDash=o,t.currentLineDashOffset=a,t.currentLineJoin=s,t.currentLineWidth=l,t.currentMiterLimit=h)},g.prototype.endGeometry=function(t,e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var i=[c.default.END_GEOMETRY,e];this.instructions.push(i),this.hitDetectionInstructions.push(i)},g.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=(0,r.clone)(this.maxExtent),this.maxLineWidth>0)){var t=this.resolution*(this.maxLineWidth+1)/2;(0,r.buffer)(this.bufferedMaxExtent_,t,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},g}(f.default),E=x;exports.default=E;
},{"../../util.js":"KniQ","../../array.js":"luEr","../../colorlike.js":"V5+X","../../extent.js":"QDir","../../extent/Relationship.js":"bUAS","../../geom/GeometryType.js":"lmV0","../../geom/flat/inflate.js":"znXl","../../geom/flat/length.js":"ZZrx","../../geom/flat/textpath.js":"JxN9","../../geom/flat/transform.js":"LGwr","../../has.js":"f3Nv","../../obj.js":"mH6q","../VectorContext.js":"4LQ/","../canvas.js":"iAG7","./Instruction.js":"kTJv","../replay.js":"FzwX","../../transform.js":"P4eA"}],"+3Nw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=h(require("./Instruction.js")),i=h(require("./Replay.js"));function h(t){return t&&t.__esModule?t:{default:t}}var e=function(i){function h(t,h,e,o,s,r){i.call(this,t,h,e,o,s,r),this.declutterGroup_=null,this.hitDetectionImage_=null,this.image_=null,this.anchorX_=void 0,this.anchorY_=void 0,this.height_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.scale_=void 0,this.width_=void 0}return i&&(h.__proto__=i),h.prototype=Object.create(i&&i.prototype),h.prototype.constructor=h,h.prototype.drawCoordinates_=function(t,i,h,e){return this.appendFlatCoordinates(t,i,h,e,!1,!1)},h.prototype.drawPoint=function(i,h){if(this.image_){this.beginGeometry(i,h);var e=i.getFlatCoordinates(),o=i.getStride(),s=this.coordinates.length,r=this.drawCoordinates_(e,0,e.length,o);this.instructions.push([t.default.DRAW_IMAGE,s,r,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([t.default.DRAW_IMAGE,s,r,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(i,h)}},h.prototype.drawMultiPoint=function(i,h){if(this.image_){this.beginGeometry(i,h);var e=i.getFlatCoordinates(),o=i.getStride(),s=this.coordinates.length,r=this.drawCoordinates_(e,0,e.length,o);this.instructions.push([t.default.DRAW_IMAGE,s,r,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([t.default.DRAW_IMAGE,s,r,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(i,h)}},h.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0},h.prototype.setImageStyle=function(t,i){var h=t.getAnchor(),e=t.getSize(),o=t.getHitDetectionImage(1),s=t.getImage(1),r=t.getOrigin();this.anchorX_=h[0],this.anchorY_=h[1],this.declutterGroup_=i,this.hitDetectionImage_=o,this.image_=s,this.height_=e[1],this.opacity_=t.getOpacity(),this.originX_=r[0],this.originY_=r[1],this.rotateWithView_=t.getRotateWithView(),this.rotation_=t.getRotation(),this.scale_=t.getScale(),this.width_=e[0]},h}(i.default),o=e;exports.default=o;
},{"./Instruction.js":"kTJv","./Replay.js":"zweS"}],"Z7Pq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=r(require("./Instruction.js")),e=i(require("./Replay.js"));function i(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};r.get||r.set?Object.defineProperty(e,i,r):e[i]=t[i]}return e.default=t,e}var o=function(e){function i(t,i,r,o,n,s){e.call(this,t,i,r,o,n,s)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.drawFlatCoordinates_=function(e,i,r,o){var n=this.coordinates.length,s=this.appendFlatCoordinates(e,i,r,o,!1,!1),a=[t.default.MOVE_TO_LINE_TO,n,s];return this.instructions.push(a),this.hitDetectionInstructions.push(a),r},i.prototype.drawLineString=function(e,i){var r=this.state,o=r.strokeStyle,n=r.lineWidth;if(void 0!==o&&void 0!==n){this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,i),this.hitDetectionInstructions.push([t.default.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset],t.beginPathInstruction);var s=e.getFlatCoordinates(),a=e.getStride();this.drawFlatCoordinates_(s,0,s.length,a),this.hitDetectionInstructions.push(t.strokeInstruction),this.endGeometry(e,i)}},i.prototype.drawMultiLineString=function(e,i){var r=this.state,o=r.strokeStyle,n=r.lineWidth;if(void 0!==o&&void 0!==n){this.updateStrokeStyle(r,this.applyStroke),this.beginGeometry(e,i),this.hitDetectionInstructions.push([t.default.SET_STROKE_STYLE,r.strokeStyle,r.lineWidth,r.lineCap,r.lineJoin,r.miterLimit,r.lineDash,r.lineDashOffset],t.beginPathInstruction);for(var s=e.getEnds(),a=e.getFlatCoordinates(),l=e.getStride(),h=0,u=0,p=s.length;u<p;++u)h=this.drawFlatCoordinates_(a,h,s[u],l);this.hitDetectionInstructions.push(t.strokeInstruction),this.endGeometry(e,i)}},i.prototype.finish=function(){var e=this.state;null!=e.lastStroke&&e.lastStroke!=this.coordinates.length&&this.instructions.push(t.strokeInstruction),this.reverseHitDetectionInstructions(),this.state=null},i.prototype.applyStroke=function(i){null!=i.lastStroke&&i.lastStroke!=this.coordinates.length&&(this.instructions.push(t.strokeInstruction),i.lastStroke=this.coordinates.length),i.lastStroke=0,e.prototype.applyStroke.call(this,i),this.instructions.push(t.beginPathInstruction)},i}(e.default),n=o;exports.default=n;
},{"./Instruction.js":"kTJv","./Replay.js":"zweS"}],"s4Hb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../color.js"),e=require("../../geom/flat/simplify.js"),i=require("../canvas.js"),s=r(require("./Instruction.js")),n=o(require("./Replay.js"));function o(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var s=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};s.get||s.set?Object.defineProperty(e,i,s):e[i]=t[i]}return e.default=t,e}var l=function(n){function o(t,e,i,s,o,r){n.call(this,t,e,i,s,o,r)}return n&&(o.__proto__=n),o.prototype=Object.create(n&&n.prototype),o.prototype.constructor=o,o.prototype.drawFlatCoordinatess_=function(t,e,i,n){var o=this.state,r=void 0!==o.fillStyle,l=null!=o.strokeStyle,h=i.length;this.instructions.push(s.beginPathInstruction),this.hitDetectionInstructions.push(s.beginPathInstruction);for(var u=0;u<h;++u){var a=i[u],c=this.coordinates.length,d=this.appendFlatCoordinates(t,e,a,n,!0,!l),p=[s.default.MOVE_TO_LINE_TO,c,d];this.instructions.push(p),this.hitDetectionInstructions.push(p),l&&(this.instructions.push(s.closePathInstruction),this.hitDetectionInstructions.push(s.closePathInstruction)),e=a}return r&&(this.instructions.push(s.fillInstruction),this.hitDetectionInstructions.push(s.fillInstruction)),l&&(this.instructions.push(s.strokeInstruction),this.hitDetectionInstructions.push(s.strokeInstruction)),e},o.prototype.drawCircle=function(e,n){var o=this.state,r=o.fillStyle,l=o.strokeStyle;if(void 0!==r||void 0!==l){this.setFillStrokeStyles_(e),this.beginGeometry(e,n),void 0!==o.fillStyle&&this.hitDetectionInstructions.push([s.default.SET_FILL_STYLE,(0,t.asString)(i.defaultFillStyle)]),void 0!==o.strokeStyle&&this.hitDetectionInstructions.push([s.default.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset]);var h=e.getFlatCoordinates(),u=e.getStride(),a=this.coordinates.length;this.appendFlatCoordinates(h,0,h.length,u,!1,!1);var c=[s.default.CIRCLE,a];this.instructions.push(s.beginPathInstruction,c),this.hitDetectionInstructions.push(s.beginPathInstruction,c),this.hitDetectionInstructions.push(s.fillInstruction),void 0!==o.fillStyle&&this.instructions.push(s.fillInstruction),void 0!==o.strokeStyle&&(this.instructions.push(s.strokeInstruction),this.hitDetectionInstructions.push(s.strokeInstruction)),this.endGeometry(e,n)}},o.prototype.drawPolygon=function(e,n){var o=this.state,r=o.fillStyle,l=o.strokeStyle;if(void 0!==r||void 0!==l){this.setFillStrokeStyles_(e),this.beginGeometry(e,n),void 0!==o.fillStyle&&this.hitDetectionInstructions.push([s.default.SET_FILL_STYLE,(0,t.asString)(i.defaultFillStyle)]),void 0!==o.strokeStyle&&this.hitDetectionInstructions.push([s.default.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset]);var h=e.getEnds(),u=e.getOrientedFlatCoordinates(),a=e.getStride();this.drawFlatCoordinatess_(u,0,h,a),this.endGeometry(e,n)}},o.prototype.drawMultiPolygon=function(e,n){var o=this.state,r=o.fillStyle,l=o.strokeStyle;if(void 0!==r||void 0!==l){this.setFillStrokeStyles_(e),this.beginGeometry(e,n),void 0!==o.fillStyle&&this.hitDetectionInstructions.push([s.default.SET_FILL_STYLE,(0,t.asString)(i.defaultFillStyle)]),void 0!==o.strokeStyle&&this.hitDetectionInstructions.push([s.default.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset]);for(var h=e.getEndss(),u=e.getOrientedFlatCoordinates(),a=e.getStride(),c=0,d=0,p=h.length;d<p;++d)c=this.drawFlatCoordinatess_(u,c,h[d],a);this.endGeometry(e,n)}},o.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(0!==t)for(var i=this.coordinates,s=0,n=i.length;s<n;++s)i[s]=(0,e.snap)(i[s],t)},o.prototype.setFillStrokeStyles_=function(t){var e=this.state;void 0!==e.fillStyle&&this.updateFillStyle(e,this.createFill,t),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)},o}(n.default),h=l;exports.default=h;
},{"../../color.js":"eucy","../../geom/flat/simplify.js":"IEpt","../canvas.js":"iAG7","./Instruction.js":"kTJv","./Replay.js":"zweS"}],"96hC":[function(require,module,exports) {
"use strict";function t(t,e,r,o,a){var s,i,n,u,c,v,d,h,f,p=r,M=r,l=0,x=0,_=r;for(s=r;s<o;s+=a){var b=e[s],g=e[s+1];void 0!==u&&(h=b-u,f=g-c,n=Math.sqrt(h*h+f*f),void 0!==v&&(x+=i,Math.acos((v*h+d*f)/(i*n))>t&&(x>l&&(l=x,p=_,M=s),x=0,_=s-a)),i=n,v=h,d=f),u=b,c=g}return(x+=n)>l?[_,s]:[p,M]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.matchingChunk=t;
},{}],"0Bp2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.measureTextWidths=x,exports.default=void 0;var t=require("../../util.js"),e=require("../../colorlike.js"),i=require("../../dom.js"),s=require("../../extent.js"),l=require("../../geom/flat/straightchunk.js"),a=d(require("../../geom/GeometryType.js")),n=require("../../has.js"),r=require("../canvas.js"),o=d(require("./Instruction.js")),h=d(require("./Replay.js")),f=require("../replay.js"),u=d(require("../../style/TextPlacement.js"));function d(t){return t&&t.__esModule?t:{default:t}}var g=function(h){function d(t,e,i,s,l,a){h.call(this,t,e,i,s,l,a),this.declutterGroup_,this.labels_=null,this.text_="",this.textOffsetX_=0,this.textOffsetY_=0,this.textRotateWithView_=void 0,this.textRotation_=0,this.textFillState_=null,this.fillStates={},this.textStrokeState_=null,this.strokeStates={},this.textState_={},this.textStates={},this.textKey_="",this.fillKey_="",this.strokeKey_="",this.widths_={},r.labelCache.prune()}return h&&(d.__proto__=h),d.prototype=Object.create(h&&h.prototype),d.prototype.constructor=d,d.prototype.drawText=function(t,e){var i=this.textFillState_,n=this.textStrokeState_,r=this.textState_;if(""!==this.text_&&r&&(i||n)){var o,h,f=this.coordinates.length,d=t.getType(),g=null,x=2,_=2;if(r.placement===u.default.LINE){if(!(0,s.intersects)(this.getBufferedMaxExtent(),t.getExtent()))return;var c;if(g=t.getFlatCoordinates(),_=t.getStride(),d==a.default.LINE_STRING)c=[g.length];else if(d==a.default.MULTI_LINE_STRING)c=t.getEnds();else if(d==a.default.POLYGON)c=t.getEnds().slice(0,1);else if(d==a.default.MULTI_POLYGON){var S=t.getEndss();for(c=[],o=0,h=S.length;o<h;++o)c.push(S[o][0])}this.beginGeometry(t,e);for(var p,k=r.textAlign,y=0,v=0,m=c.length;v<m;++v){if(null==k){var L=(0,l.matchingChunk)(r.maxAngle,g,y,c[v],_);y=L[0],p=L[1]}else p=c[v];for(o=y;o<p;o+=_)this.coordinates.push(g[o],g[o+1]);x=this.coordinates.length,y=c[v],this.drawChars_(f,x,this.declutterGroup_),f=x}this.endGeometry(t,e)}else{var T=this.getImage(this.text_,this.textKey_,this.fillKey_,this.strokeKey_),I=T.width/this.pixelRatio;switch(d){case a.default.POINT:case a.default.MULTI_POINT:x=(g=t.getFlatCoordinates()).length;break;case a.default.LINE_STRING:g=t.getFlatMidpoint();break;case a.default.CIRCLE:g=t.getCenter();break;case a.default.MULTI_LINE_STRING:x=(g=t.getFlatMidpoints()).length;break;case a.default.POLYGON:if(g=t.getFlatInteriorPoint(),!r.overflow&&g[2]/this.resolution<I)return;_=3;break;case a.default.MULTI_POLYGON:var A=t.getFlatInteriorPoints();for(g=[],o=0,h=A.length;o<h;o+=3)(r.overflow||A[o+2]/this.resolution>=I)&&g.push(A[o],A[o+1]);if(0==(x=g.length))return}x=this.appendFlatCoordinates(g,0,x,_,!1,!1),(r.backgroundFill||r.backgroundStroke)&&(this.setFillStrokeStyle(r.backgroundFill,r.backgroundStroke),r.backgroundFill&&(this.updateFillStyle(this.state,this.createFill,t),this.hitDetectionInstructions.push(this.createFill(this.state,t))),r.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t,e),this.drawTextImage_(T,f,x),this.endGeometry(t,e)}}},d.prototype.getImage=function(t,e,s,l){var a,o=l+e+t+s+this.pixelRatio;if(!r.labelCache.containsKey(o)){var h=l?this.strokeStates[l]||this.textStrokeState_:null,u=s?this.fillStates[s]||this.textFillState_:null,d=this.textStates[e]||this.textState_,g=this.pixelRatio,_=d.scale*g,c=f.TEXT_ALIGN[d.textAlign||r.defaultTextAlign],S=l&&h.lineWidth?h.lineWidth:0,p=t.split("\n"),k=p.length,y=[],v=x(d.font,p,y),m=(0,r.measureTextHeight)(d.font),L=m*k,T=v+S,I=(0,i.createCanvasContext2D)(Math.ceil(T*_),Math.ceil((L+S)*_));a=I.canvas,r.labelCache.set(o,a),1!=_&&I.scale(_,_),I.font=d.font,l&&(I.strokeStyle=h.strokeStyle,I.lineWidth=S,I.lineCap=h.lineCap,I.lineJoin=h.lineJoin,I.miterLimit=h.miterLimit,n.CANVAS_LINE_DASH&&h.lineDash.length&&(I.setLineDash(h.lineDash),I.lineDashOffset=h.lineDashOffset)),s&&(I.fillStyle=u.fillStyle),I.textBaseline="middle",I.textAlign="center";var A,O=.5-c,C=c*a.width/_+O*S;if(l)for(A=0;A<k;++A)I.strokeText(p[A],C+O*y[A],.5*(S+m)+A*m);if(s)for(A=0;A<k;++A)I.fillText(p[A],C+O*y[A],.5*(S+m)+A*m)}return r.labelCache.get(o)},d.prototype.drawTextImage_=function(t,e,i){var s=this.textState_,l=this.textStrokeState_,a=this.pixelRatio,n=f.TEXT_ALIGN[s.textAlign||r.defaultTextAlign],h=f.TEXT_ALIGN[s.textBaseline],u=l&&l.lineWidth?l.lineWidth:0,d=n*t.width/a+2*(.5-n)*u,g=h*t.height/a+2*(.5-h)*u;this.instructions.push([o.default.DRAW_IMAGE,e,i,t,(d-this.textOffsetX_)*a,(g-this.textOffsetY_)*a,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1,t.width,s.padding==r.defaultPadding?r.defaultPadding:s.padding.map(function(t){return t*a}),!!s.backgroundFill,!!s.backgroundStroke]),this.hitDetectionInstructions.push([o.default.DRAW_IMAGE,e,i,t,(d-this.textOffsetX_)*a,(g-this.textOffsetY_)*a,this.declutterGroup_,t.height,1,0,0,this.textRotateWithView_,this.textRotation_,1/a,t.width,s.padding,!!s.backgroundFill,!!s.backgroundStroke])},d.prototype.drawChars_=function(t,e,i){var s=this.textStrokeState_,l=this.textState_,a=this.textFillState_,n=this.strokeKey_;s&&(n in this.strokeStates||(this.strokeStates[n]={strokeStyle:s.strokeStyle,lineCap:s.lineCap,lineDashOffset:s.lineDashOffset,lineWidth:s.lineWidth,lineJoin:s.lineJoin,miterLimit:s.miterLimit,lineDash:s.lineDash}));var h=this.textKey_;this.textKey_ in this.textStates||(this.textStates[this.textKey_]={font:l.font,textAlign:l.textAlign||r.defaultTextAlign,scale:l.scale});var u=this.fillKey_;a&&(u in this.fillStates||(this.fillStates[u]={fillStyle:a.fillStyle}));var d=this.pixelRatio,g=f.TEXT_ALIGN[l.textBaseline],x=this.textOffsetY_*d,_=this.text_,c=l.font,S=l.scale,p=s?s.lineWidth*S/2:0,k=this.widths_[c];k||(this.widths_[c]=k={}),this.instructions.push([o.default.DRAW_CHARS,t,e,g,i,l.overflow,u,l.maxAngle,function(t){var e=k[t];return e||(e=k[t]=(0,r.measureTextWidth)(c,t)),e*S*d},x,n,p*d,_,h,1]),this.hitDetectionInstructions.push([o.default.DRAW_CHARS,t,e,g,i,l.overflow,u,l.maxAngle,function(t){var e=k[t];return e||(e=k[t]=(0,r.measureTextWidth)(c,t)),e*S},x,n,p,_,h,1/d])},d.prototype.setTextStyle=function(i,s){var l,a,n;if(i){this.declutterGroup_=s;var o=i.getFill();o?((a=this.textFillState_)||(a=this.textFillState_={}),a.fillStyle=(0,e.asColorLike)(o.getColor()||r.defaultFillStyle)):a=this.textFillState_=null;var h=i.getStroke();if(h){(n=this.textStrokeState_)||(n=this.textStrokeState_={});var f=h.getLineDash(),u=h.getLineDashOffset(),d=h.getWidth(),g=h.getMiterLimit();n.lineCap=h.getLineCap()||r.defaultLineCap,n.lineDash=f?f.slice():r.defaultLineDash,n.lineDashOffset=void 0===u?r.defaultLineDashOffset:u,n.lineJoin=h.getLineJoin()||r.defaultLineJoin,n.lineWidth=void 0===d?r.defaultLineWidth:d,n.miterLimit=void 0===g?r.defaultMiterLimit:g,n.strokeStyle=(0,e.asColorLike)(h.getColor()||r.defaultStrokeStyle)}else n=this.textStrokeState_=null;l=this.textState_;var x=i.getFont()||r.defaultFont;(0,r.checkFont)(x);var _=i.getScale();l.overflow=i.getOverflow(),l.font=x,l.maxAngle=i.getMaxAngle(),l.placement=i.getPlacement(),l.textAlign=i.getTextAlign(),l.textBaseline=i.getTextBaseline()||r.defaultTextBaseline,l.backgroundFill=i.getBackgroundFill(),l.backgroundStroke=i.getBackgroundStroke(),l.padding=i.getPadding()||r.defaultPadding,l.scale=void 0===_?1:_;var c=i.getOffsetX(),S=i.getOffsetY(),p=i.getRotateWithView(),k=i.getRotation();this.text_=i.getText()||"",this.textOffsetX_=void 0===c?0:c,this.textOffsetY_=void 0===S?0:S,this.textRotateWithView_=void 0!==p&&p,this.textRotation_=void 0===k?0:k,this.strokeKey_=n?("string"==typeof n.strokeStyle?n.strokeStyle:(0,t.getUid)(n.strokeStyle))+n.lineCap+n.lineDashOffset+"|"+n.lineWidth+n.lineJoin+n.miterLimit+"["+n.lineDash.join()+"]":"",this.textKey_=l.font+l.scale+(l.textAlign||"?"),this.fillKey_=a?"string"==typeof a.fillStyle?a.fillStyle:"|"+(0,t.getUid)(a.fillStyle):""}else this.text_=""},d}(h.default);function x(t,e,i){for(var s=e.length,l=0,a=0;a<s;++a){var n=(0,r.measureTextWidth)(t,e[a]);l=Math.max(l,n),i.push(n)}return l}var _=g;exports.default=_;
},{"../../util.js":"KniQ","../../colorlike.js":"V5+X","../../dom.js":"Xno5","../../extent.js":"QDir","../../geom/flat/straightchunk.js":"96hC","../../geom/GeometryType.js":"lmV0","../../has.js":"f3Nv","../canvas.js":"iAG7","./Instruction.js":"kTJv","./Replay.js":"zweS","../replay.js":"FzwX","../../style/TextPlacement.js":"AXKs"}],"TGed":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getCircleArray=m,exports.replayDeclutter=g,exports.default=void 0;var e=require("../../array.js"),t=require("../../dom.js"),r=require("../../extent.js"),i=require("../../geom/flat/transform.js"),o=require("../../obj.js"),a=y(require("../ReplayGroup.js")),n=y(require("../ReplayType.js")),s=y(require("./Replay.js")),l=y(require("./ImageReplay.js")),u=y(require("./LineStringReplay.js")),p=y(require("./PolygonReplay.js")),f=y(require("./TextReplay.js")),c=require("../replay.js"),h=require("../../transform.js");function y(e){return e&&e.__esModule?e:{default:e}}var d={Circle:p.default,Default:s.default,Image:l.default,LineString:u.default,Polygon:p.default,Text:f.default},v=function(a){function s(e,r,i,o,n,s,l){a.call(this),this.declutterTree_=s,this.declutterGroup_=null,this.tolerance_=e,this.maxExtent_=r,this.overlaps_=n,this.pixelRatio_=o,this.resolution_=i,this.renderBuffer_=l,this.replaysByZIndex_={},this.hitDetectionContext_=(0,t.createCanvasContext2D)(1,1),this.hitDetectionTransform_=(0,h.create)()}return a&&(s.__proto__=a),s.prototype=Object.create(a&&a.prototype),s.prototype.constructor=s,s.prototype.addDeclutter=function(e){var t=null;return this.declutterTree_&&(e?(t=this.declutterGroup_)[4]++:(t=this.declutterGroup_=(0,r.createEmpty)()).push(1)),t},s.prototype.clip=function(e,t){var r=this.getClipCoords(t);e.beginPath(),e.moveTo(r[0],r[1]),e.lineTo(r[2],r[3]),e.lineTo(r[4],r[5]),e.lineTo(r[6],r[7]),e.clip()},s.prototype.hasReplays=function(e){for(var t in this.replaysByZIndex_)for(var r=this.replaysByZIndex_[t],i=0,o=e.length;i<o;++i)if(e[i]in r)return!0;return!1},s.prototype.finish=function(){for(var e in this.replaysByZIndex_){var t=this.replaysByZIndex_[e];for(var r in t)t[r].finish()}},s.prototype.forEachFeatureAtCoordinate=function(t,i,o,a,s,l,u){var p,f=2*(a=Math.round(a))+1,y=(0,h.compose)(this.hitDetectionTransform_,a+.5,a+.5,1/i,-1/i,-o,-t[0],-t[1]),d=this.hitDetectionContext_;d.canvas.width!==f||d.canvas.height!==f?(d.canvas.width=f,d.canvas.height=f):d.clearRect(0,0,f,f),void 0!==this.renderBuffer_&&(p=(0,r.createEmpty)(),(0,r.extendCoordinate)(p,t),(0,r.buffer)(p,i*(this.renderBuffer_+a),p));var v,_,x=m(a);function g(e){for(var t=d.getImageData(0,0,f,f).data,r=0;r<f;r++)for(var i=0;i<f;i++)if(x[r][i]&&t[4*(i*f+r)+3]>0){var o=void 0;return(!v||_!=n.default.IMAGE&&_!=n.default.TEXT||-1!==v.indexOf(e))&&(o=l(e)),o||void d.clearRect(0,0,f,f)}}this.declutterTree_&&(v=this.declutterTree_.all().map(function(e){return e.value}));var j,R,T,I,E,B=Object.keys(this.replaysByZIndex_).map(Number);for(B.sort(e.numberSafeCompareFunction),j=B.length-1;j>=0;--j){var C=B[j].toString();for(T=this.replaysByZIndex_[C],R=c.ORDER.length-1;R>=0;--R)if(void 0!==(I=T[_=c.ORDER[R]]))if(!u||_!=n.default.IMAGE&&_!=n.default.TEXT){if(E=I.replayHitDetection(d,y,o,s,g,p))return E}else{var b=u[C];b?b.push(I,y.slice(0)):u[C]=[I,y.slice(0)]}}},s.prototype.getClipCoords=function(e){var t=this.maxExtent_,r=t[0],o=t[1],a=t[2],n=t[3],s=[r,o,r,n,a,n,a,o];return(0,i.transform2D)(s,0,8,2,e,s),s},s.prototype.getReplay=function(e,t){var r=void 0!==e?e.toString():"0",i=this.replaysByZIndex_[r];void 0===i&&(i={},this.replaysByZIndex_[r]=i);var o=i[t];void 0===o&&(o=new(0,d[t])(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_,this.overlaps_,this.declutterTree_),i[t]=o);return o},s.prototype.getReplays=function(){return this.replaysByZIndex_},s.prototype.isEmpty=function(){return(0,o.isEmpty)(this.replaysByZIndex_)},s.prototype.replay=function(t,r,i,o,a,s,l){var u=Object.keys(this.replaysByZIndex_).map(Number);u.sort(e.numberSafeCompareFunction),t.save(),this.clip(t,r);var p,f,h,y,d,v,_=s||c.ORDER;for(p=0,f=u.length;p<f;++p){var x=u[p].toString();for(d=this.replaysByZIndex_[x],h=0,y=_.length;h<y;++h){var m=_[h];if(v=d[m],void 0!==v)if(!l||m!=n.default.IMAGE&&m!=n.default.TEXT)v.replay(t,r,i,o,a);else{var g=l[x];g?g.push(v,r.slice(0)):l[x]=[v,r.slice(0)]}}}t.restore()},s}(a.default),_={0:[[!0]]};function x(e,t,r){var i,o=Math.floor(e.length/2);if(t>=o)for(i=o;i<t;i++)e[i][r]=!0;else if(t<o)for(i=t+1;i<o;i++)e[i][r]=!0}function m(e){if(void 0!==_[e])return _[e];for(var t=2*e+1,r=new Array(t),i=0;i<t;i++)r[i]=new Array(t);for(var o=e,a=0,n=0;o>=a;)x(r,e+o,e+a),x(r,e+a,e+o),x(r,e-a,e+o),x(r,e-o,e+a),x(r,e-o,e-a),x(r,e-a,e-o),x(r,e+a,e-o),x(r,e+o,e-a),2*((n+=1+2*++a)-o)+1>0&&(n+=1-2*(o-=1));return _[e]=r,r}function g(t,r,i,o){for(var a=Object.keys(t).map(Number).sort(e.numberSafeCompareFunction),n={},s=0,l=a.length;s<l;++s)for(var u=t[a[s].toString()],p=0,f=u.length;p<f;){var c=u[p++],h=u[p++];c.replay(r,h,i,n,o)}}var j=v;exports.default=j;
},{"../../array.js":"luEr","../../dom.js":"Xno5","../../extent.js":"QDir","../../geom/flat/transform.js":"LGwr","../../obj.js":"mH6q","../ReplayGroup.js":"TK0U","../ReplayType.js":"D882","./Replay.js":"zweS","./ImageReplay.js":"+3Nw","./LineStringReplay.js":"Z7Pq","./PolygonReplay.js":"s4Hb","./TextReplay.js":"0Bp2","../replay.js":"FzwX","../../transform.js":"P4eA"}],"UCah":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaultOrder=d,exports.getSquaredTolerance=i,exports.getTolerance=u,exports.renderFeature=o;var e=require("../util.js"),t=l(require("../ImageState.js")),r=l(require("../geom/GeometryType.js")),a=l(require("../render/ReplayType.js"));function l(e){return e&&e.__esModule?e:{default:e}}var g=.5,n={Point:s,LineString:v,Polygon:p,MultiPoint:c,MultiLineString:I,MultiPolygon:S,GeometryCollection:x,Circle:f};function d(t,r){return parseInt((0,e.getUid)(t),10)-parseInt((0,e.getUid)(r),10)}function i(e,t){var r=u(e,t);return r*r}function u(e,t){return g*e/t}function f(e,t,r,l){var g=r.getFill(),n=r.getStroke();if(g||n){var d=e.getReplay(r.getZIndex(),a.default.CIRCLE);d.setFillStrokeStyle(g,n),d.drawCircle(t,l)}var i=r.getText();if(i){var u=e.getReplay(r.getZIndex(),a.default.TEXT);u.setTextStyle(i,e.addDeclutter(!1)),u.drawText(t,l)}}function o(e,r,a,l,g,n){var d=!1,i=a.getImage();if(i){var u=i.getImageState();u==t.default.LOADED||u==t.default.ERROR?i.unlistenImageChange(g,n):(u==t.default.IDLE&&i.load(),u=i.getImageState(),i.listenImageChange(g,n),d=!0)}return T(e,r,a,l),d}function T(e,t,r,a){var l=r.getGeometryFunction()(t);if(l){var g=l.getSimplifiedGeometry(a);if(r.getRenderer())y(e,g,r,t);else(0,n[g.getType()])(e,g,r,t)}}function y(e,t,l,g){if(t.getType()!=r.default.GEOMETRY_COLLECTION)e.getReplay(l.getZIndex(),a.default.DEFAULT).drawCustom(t,g,l.getRenderer());else for(var n=t.getGeometries(),d=0,i=n.length;d<i;++d)y(e,n[d],l,g)}function x(e,t,r,a){var l,g,d=t.getGeometriesArray();for(l=0,g=d.length;l<g;++l){(0,n[d[l].getType()])(e,d[l],r,a)}}function v(e,t,r,l){var g=r.getStroke();if(g){var n=e.getReplay(r.getZIndex(),a.default.LINE_STRING);n.setFillStrokeStyle(null,g),n.drawLineString(t,l)}var d=r.getText();if(d){var i=e.getReplay(r.getZIndex(),a.default.TEXT);i.setTextStyle(d,e.addDeclutter(!1)),i.drawText(t,l)}}function I(e,t,r,l){var g=r.getStroke();if(g){var n=e.getReplay(r.getZIndex(),a.default.LINE_STRING);n.setFillStrokeStyle(null,g),n.drawMultiLineString(t,l)}var d=r.getText();if(d){var i=e.getReplay(r.getZIndex(),a.default.TEXT);i.setTextStyle(d,e.addDeclutter(!1)),i.drawText(t,l)}}function S(e,t,r,l){var g=r.getFill(),n=r.getStroke();if(n||g){var d=e.getReplay(r.getZIndex(),a.default.POLYGON);d.setFillStrokeStyle(g,n),d.drawMultiPolygon(t,l)}var i=r.getText();if(i){var u=e.getReplay(r.getZIndex(),a.default.TEXT);u.setTextStyle(i,e.addDeclutter(!1)),u.drawText(t,l)}}function s(e,r,l,g){var n=l.getImage();if(n){if(n.getImageState()!=t.default.LOADED)return;var d=e.getReplay(l.getZIndex(),a.default.IMAGE);d.setImageStyle(n,e.addDeclutter(!1)),d.drawPoint(r,g)}var i=l.getText();if(i){var u=e.getReplay(l.getZIndex(),a.default.TEXT);u.setTextStyle(i,e.addDeclutter(!!n)),u.drawText(r,g)}}function c(e,r,l,g){var n=l.getImage();if(n){if(n.getImageState()!=t.default.LOADED)return;var d=e.getReplay(l.getZIndex(),a.default.IMAGE);d.setImageStyle(n,e.addDeclutter(!1)),d.drawMultiPoint(r,g)}var i=l.getText();if(i){var u=e.getReplay(l.getZIndex(),a.default.TEXT);u.setTextStyle(i,e.addDeclutter(!!n)),u.drawText(r,g)}}function p(e,t,r,l){var g=r.getFill(),n=r.getStroke();if(g||n){var d=e.getReplay(r.getZIndex(),a.default.POLYGON);d.setFillStrokeStyle(g,n),d.drawPolygon(t,l)}var i=r.getText();if(i){var u=e.getReplay(r.getZIndex(),a.default.TEXT);u.setTextStyle(i,e.addDeclutter(!1)),u.drawText(t,l)}}
},{"../util.js":"KniQ","../ImageState.js":"u3k+","../geom/GeometryType.js":"lmV0","../render/ReplayType.js":"D882"}],"F2e3":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../util.js"),t=c(require("../../LayerType.js")),r=c(require("../../ViewHint.js")),a=require("../../dom.js"),i=require("../../events.js"),n=c(require("../../events/EventType.js")),o=c(require("rbush")),s=require("../../extent.js"),l=c(require("../../render/EventType.js")),d=require("../../render/canvas.js"),h=c(require("../../render/canvas/ReplayGroup.js")),u=c(require("./Layer.js")),p=require("../vector.js");function c(e){return e&&e.__esModule?e:{default:e}}var f=function(t){function u(e){t.call(this,e),this.declutterTree_=e.getDeclutter()?(0,o.default)(9,void 0):null,this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=(0,s.createEmpty)(),this.renderedRenderOrder_=null,this.replayGroup_=null,this.replayGroupChanged=!0,this.context=(0,a.createCanvasContext2D)(),(0,i.listen)(d.labelCache,n.default.CLEAR,this.handleFontsChanged_,this)}return t&&(u.__proto__=t),u.prototype=Object.create(t&&t.prototype),u.prototype.constructor=u,u.prototype.disposeInternal=function(){(0,i.unlisten)(d.labelCache,n.default.CLEAR,this.handleFontsChanged_,this),t.prototype.disposeInternal.call(this)},u.prototype.compose=function(e,t,a){var i=t.extent,n=t.pixelRatio,o=a.managed?t.skippedFeatureUids:{},h=t.viewState,u=h.projection,p=h.rotation,c=u.getExtent(),f=this.getLayer().getSource(),g=this.getTransform(t,0),v=a.extent,y=void 0!==v;y&&this.clip(e,t,v);var _=this.replayGroup_;if(_&&!_.isEmpty()){this.declutterTree_&&this.declutterTree_.clear();var x,E=this.getLayer(),R=0,m=0,A=1!==a.opacity,C=E.hasListener(l.default.RENDER);if(A||C){var T=e.canvas.width,I=e.canvas.height;if(p){var j=Math.round(Math.sqrt(T*T+I*I));R=(j-T)/2,m=(j-I)/2,T=I=j}this.context.canvas.width=T,this.context.canvas.height=I,x=this.context}else x=e;var F=x.globalAlpha;A||(x.globalAlpha=a.opacity),x!=e&&x.translate(R,m);var q=t.viewHints,b=!(q[r.default.ANIMATING]||q[r.default.INTERACTING]),G=t.size[0]*n,w=t.size[1]*n;if((0,d.rotateAtOffset)(x,-p,G/2,w/2),_.replay(x,g,p,o,b),f.getWrapX()&&u.canWrapX()&&!(0,s.containsExtent)(c,i)){for(var S,N=i[0],O=(0,s.getWidth)(c),L=0;N<c[0];)S=O*--L,g=this.getTransform(t,S),_.replay(x,g,p,o,b),N+=O;for(L=0,N=i[2];N>c[2];)S=O*++L,g=this.getTransform(t,S),_.replay(x,g,p,o,b),N-=O}if((0,d.rotateAtOffset)(x,p,G/2,w/2),C&&this.dispatchRenderEvent(x,t,g),x!=e){if(A){var W=e.globalAlpha;e.globalAlpha=a.opacity,e.drawImage(x.canvas,-R,-m),e.globalAlpha=W}else e.drawImage(x.canvas,-R,-m);x.translate(-R,-m)}A||(x.globalAlpha=F)}y&&e.restore()},u.prototype.composeFrame=function(e,t,r){var a=this.getTransform(e,0);this.preCompose(r,e,a),this.compose(r,e,t),this.postCompose(r,e,t,a)},u.prototype.forEachFeatureAtCoordinate=function(t,r,a,i,n){if(this.replayGroup_){var o=r.viewState.resolution,s=r.viewState.rotation,l=this.getLayer(),d={};return this.replayGroup_.forEachFeatureAtCoordinate(t,o,s,a,{},function(t){var r=(0,e.getUid)(t);if(!(r in d))return d[r]=!0,i.call(n,t,l)},null)}},u.prototype.handleFontsChanged_=function(e){var t=this.getLayer();t.getVisible()&&this.replayGroup_&&t.changed()},u.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()},u.prototype.prepareFrame=function(e,t){var a=this.getLayer(),i=a.getSource(),n=e.viewHints[r.default.ANIMATING],o=e.viewHints[r.default.INTERACTING],l=a.getUpdateWhileAnimating(),d=a.getUpdateWhileInteracting();if(!this.dirty_&&!l&&n||!d&&o)return!0;var u=e.extent,c=e.viewState,f=c.projection,g=c.resolution,v=e.pixelRatio,y=a.getRevision(),_=a.getRenderBuffer(),x=a.getRenderOrder();void 0===x&&(x=p.defaultOrder);var E=(0,s.buffer)(u,_*g),R=c.projection.getExtent();if(i.getWrapX()&&c.projection.canWrapX()&&!(0,s.containsExtent)(R,e.extent)){var m=(0,s.getWidth)(R),A=Math.max((0,s.getWidth)(E)/2,m);E[0]=R[0]-A,E[2]=R[2]+A}if(!this.dirty_&&this.renderedResolution_==g&&this.renderedRevision_==y&&this.renderedRenderOrder_==x&&(0,s.containsExtent)(this.renderedExtent_,E))return this.replayGroupChanged=!1,!0;this.replayGroup_=null,this.dirty_=!1;var C=new h.default((0,p.getTolerance)(g,v),E,g,v,i.getOverlaps(),this.declutterTree_,a.getRenderBuffer());i.loadFeatures(E,g,f);var T=function(e){var t,r=e.getStyleFunction()||a.getStyleFunction();if(r&&(t=r(e,g)),t){var i=this.renderFeature(e,g,v,t,C);this.dirty_=this.dirty_||i}}.bind(this);if(x){var I=[];i.forEachFeatureInExtent(E,function(e){I.push(e)}),I.sort(x);for(var j=0,F=I.length;j<F;++j)T(I[j])}else i.forEachFeatureInExtent(E,T);return C.finish(),this.renderedResolution_=g,this.renderedRevision_=y,this.renderedRenderOrder_=x,this.renderedExtent_=E,this.replayGroup_=C,this.replayGroupChanged=!0,!0},u.prototype.renderFeature=function(e,t,r,a,i){if(!a)return!1;var n=!1;if(Array.isArray(a))for(var o=0,s=a.length;o<s;++o)n=(0,p.renderFeature)(i,e,a[o],(0,p.getSquaredTolerance)(t,r),this.handleStyleImageChange_,this)||n;else n=(0,p.renderFeature)(i,e,a,(0,p.getSquaredTolerance)(t,r),this.handleStyleImageChange_,this);return n},u}(u.default);f.handles=function(e){return e.getType()===t.default.VECTOR},f.create=function(e,t){return new f(t)};var g=f;exports.default=g;
},{"../../util.js":"KniQ","../../LayerType.js":"8+bQ","../../ViewHint.js":"cuLW","../../dom.js":"Xno5","../../events.js":"55Uq","../../events/EventType.js":"C8cu","rbush":"y0Xa","../../extent.js":"QDir","../../render/EventType.js":"z39m","../../render/canvas.js":"iAG7","../../render/canvas/ReplayGroup.js":"TGed","./Layer.js":"+vPf","../vector.js":"UCah"}],"Q2C4":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={IMAGE:"image",HYBRID:"hybrid",VECTOR:"vector"};exports.default=e;
},{}],"UST7":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../util.js"),t=E(require("../../LayerType.js")),r=E(require("../../TileState.js")),i=E(require("../../ViewHint.js")),o=require("../../dom.js"),n=require("../../events.js"),a=E(require("../../events/EventType.js")),l=E(require("rbush")),s=require("../../extent.js"),d=E(require("../../layer/VectorTileRenderType.js")),u=require("../../proj.js"),p=E(require("../../proj/Units.js")),g=E(require("../../render/ReplayType.js")),f=require("../../render/canvas.js"),h=R(require("../../render/canvas/ReplayGroup.js")),c=require("../../render/replay.js"),y=E(require("./TileLayer.js")),v=require("../vector.js"),T=require("../../transform.js");function R(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};i.get||i.set?Object.defineProperty(t,r,i):t[r]=e[r]}return t.default=e,t}function E(e){return e&&e.__esModule?e:{default:e}}var C={image:[g.default.POLYGON,g.default.CIRCLE,g.default.LINE_STRING,g.default.IMAGE,g.default.TEXT],hybrid:[g.default.POLYGON,g.default.LINE_STRING]},_={image:[g.default.DEFAULT],hybrid:[g.default.IMAGE,g.default.TEXT,g.default.DEFAULT],vector:c.ORDER},j=function(t){function g(e){t.call(this,e,!0),this.declutterTree_=e.getDeclutter()?(0,l.default)(9,void 0):null,this.dirty_=!1,this.renderedLayerRevision_,this.tmpTransform_=(0,T.create)();var r=e.getRenderMode();this.zDirection=r===d.default.VECTOR?1:0,r!==d.default.VECTOR&&(this.context=(0,o.createCanvasContext2D)()),(0,n.listen)(f.labelCache,a.default.CLEAR,this.handleFontsChanged_,this)}return t&&(g.__proto__=t),g.prototype=Object.create(t&&t.prototype),g.prototype.constructor=g,g.prototype.disposeInternal=function(){(0,n.unlisten)(f.labelCache,a.default.CLEAR,this.handleFontsChanged_,this),t.prototype.disposeInternal.call(this)},g.prototype.getTile=function(e,i,o,n,a){var l=t.prototype.getTile.call(this,e,i,o,n,a);return l.getState()===r.default.LOADED&&(this.createReplayGroup_(l,n,a),this.context&&this.renderTileImage_(l,n,a)),l},g.prototype.getTileImage=function(e){var t=this.getLayer();return e.getImage(t)},g.prototype.prepareFrame=function(e,r){var i=this.getLayer().getRevision();return this.renderedLayerRevision_!=i&&(this.renderedTiles.length=0),this.renderedLayerRevision_=i,t.prototype.prepareFrame.call(this,e,r)},g.prototype.createReplayGroup_=function(e,t,i){var o=this,n=this.getLayer(),a=n.getRevision(),l=n.getRenderOrder()||null,d=e.getReplayState(n);if(d.dirty||d.renderedRevision!=a||d.renderedRenderOrder!=l){for(var g=n.getSource(),f=g.getTileGrid(),c=g.getTileGridForProjection(i).getResolution(e.tileCoord[0]),y=e.extent,T=function(a,T){var R=e.getTile(e.tileKeys[a]);if(R.getState()==r.default.LOADED){var E=R.tileCoord,C=f.getTileCoordExtent(E),_=(0,s.getIntersection)(y,C),j=(0,s.equals)(C,_)?null:(0,s.buffer)(_,n.getRenderBuffer()*c,o.tmpExtent),m=R.getProjection(),L=!1;(0,u.equivalent)(i,m)||(L=!0,R.setProjection(i)),d.dirty=!1;var S=new h.default(0,_,c,t,g.getOverlaps(),o.declutterTree_,n.getRenderBuffer()),O=(0,v.getSquaredTolerance)(c,t),x=function(e){var t,r=e.getStyleFunction()||n.getStyleFunction();if(r&&(t=r(e,c)),t){var i=this.renderFeature(e,O,t,S);this.dirty_=this.dirty_||i,d.dirty=d.dirty||i}},I=R.getFeatures();l&&l!==d.renderedRenderOrder&&I.sort(l);for(var A=0,G=I.length;A<G;++A){var q=I[A];L&&(m.getUnits()==p.default.TILE_PIXELS&&(m.setWorldExtent(C),m.setExtent(R.getExtent())),q.getGeometry().transform(m,i)),j&&!(0,s.intersects)(j,q.getGeometry().getExtent())||x.call(o,q)}S.finish(),R.setReplayGroup(n,e.tileCoord.toString(),S)}},R=0,E=e.tileKeys.length;R<E;++R)T(R);d.renderedRevision=a,d.renderedRenderOrder=l}},g.prototype.forEachFeatureAtCoordinate=function(t,i,o,n,a){var l=i.viewState.resolution,d=i.viewState.rotation;o=null==o?0:o;var u,p,g,f,h=this.getLayer(),c={},y=this.renderedTiles;for(g=0,f=y.length;g<f;++g){var v=y[g];if(u=(0,s.buffer)(v.extent,o*l,u),(0,s.containsCoordinate)(u,t))for(var T=0,R=v.tileKeys.length;T<R;++T){var E=v.getTile(v.tileKeys[T]);if(E.getState()==r.default.LOADED){var C=E.getReplayGroup(h,v.tileCoord.toString());p=p||C.forEachFeatureAtCoordinate(t,l,d,o,{},function(t){var r=(0,e.getUid)(t);if(!(r in c))return c[r]=!0,n.call(a,t,h)},null)}}}return p},g.prototype.getReplayTransform_=function(e,t){var r=this.getLayer().getSource().getTileGrid(),i=e.tileCoord,o=r.getResolution(i[0]),n=t.viewState,a=t.pixelRatio,l=n.resolution/a,d=r.getTileCoordExtent(i,this.tmpExtent),u=n.center,p=(0,s.getTopLeft)(d),g=t.size,f=Math.round(a*g[0]/2),h=Math.round(a*g[1]/2);return(0,T.compose)(this.tmpTransform_,f,h,o/l,o/l,n.rotation,(p[0]-u[0])/o,(u[1]-p[1])/o)},g.prototype.handleFontsChanged_=function(e){var t=this.getLayer();t.getVisible()&&void 0!==this.renderedLayerRevision_&&t.changed()},g.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()},g.prototype.postCompose=function(e,o,n){var a=this.getLayer(),l=a.getRenderMode();if(l!=d.default.IMAGE){var s,u,p=a.getDeclutter()?{}:null,g=a.getSource(),c=_[l],y=o.pixelRatio,v=o.viewState.rotation,T=o.size;v&&(s=Math.round(y*T[0]/2),u=Math.round(y*T[1]/2),(0,f.rotateAtOffset)(e,-v,s,u)),p&&this.declutterTree_.clear();for(var R=o.viewHints,E=!(R[i.default.ANIMATING]||R[i.default.INTERACTING]),C=this.renderedTiles,j=g.getTileGridForProjection(o.viewState.projection),m=[],L=[],S=C.length-1;S>=0;--S){var O=C[S];if(O.getState()!=r.default.ABORT)for(var x=O.tileCoord,I=j.getTileCoordExtent(x,this.tmpExtent)[0]-O.extent[0],A=void 0,G=0,q=O.tileKeys.length;G<q;++G){var D=O.getTile(O.tileKeys[G]);if(D.getState()==r.default.LOADED){var F=D.getReplayGroup(a,x.toString());if(F&&F.hasReplays(c)){A||(A=this.getTransform(o,I));var b=D.tileCoord[0],P=F.getClipCoords(A);e.save(),e.globalAlpha=n.opacity;for(var w=0,M=m.length;w<M;++w){var N=m[w];b<L[w]&&(e.beginPath(),e.moveTo(P[0],P[1]),e.lineTo(P[2],P[3]),e.lineTo(P[4],P[5]),e.lineTo(P[6],P[7]),e.moveTo(N[6],N[7]),e.lineTo(N[4],N[5]),e.lineTo(N[2],N[3]),e.lineTo(N[0],N[1]),e.clip())}F.replay(e,A,v,{},E,c,p),e.restore(),m.push(P),L.push(b)}}}}p&&(0,h.replayDeclutter)(p,e,v,E),v&&(0,f.rotateAtOffset)(e,v,s,u)}t.prototype.postCompose.call(this,e,o,n)},g.prototype.renderFeature=function(e,t,r,i){if(!r)return!1;var o=!1;if(Array.isArray(r))for(var n=0,a=r.length;n<a;++n)o=(0,v.renderFeature)(i,e,r[n],t,this.handleStyleImageChange_,this)||o;else o=(0,v.renderFeature)(i,e,r,t,this.handleStyleImageChange_,this);return o},g.prototype.renderTileImage_=function(e,t,i){var o=this.getLayer(),n=e.getReplayState(o),a=o.getRevision(),l=C[o.getRenderMode()];if(l&&n.renderedTileRevision!==a){n.renderedTileRevision=a;var s=e.wrappedTileCoord,d=s[0],u=o.getSource(),p=u.getTileGridForProjection(i),g=p.getResolution(d),f=e.getContext(o),h=u.getTilePixelSize(d,t,i);f.canvas.width=h[0],f.canvas.height=h[1];for(var c=p.getTileCoordExtent(s,this.tmpExtent),y=0,v=e.tileKeys.length;y<v;++y){var R=e.getTile(e.tileKeys[y]);if(R.getState()==r.default.LOADED){var E=t/g,_=(0,T.reset)(this.tmpTransform_);(0,T.scale)(_,E,-E),(0,T.translate)(_,-c[0],-c[3]),R.getReplayGroup(o,e.tileCoord.toString()).replay(f,_,0,{},!0,l)}}}},g}(y.default);j.handles=function(e){return e.getType()===t.default.VECTOR_TILE},j.create=function(e,t){return new j(t)};var m=j;exports.default=m;
},{"../../util.js":"KniQ","../../LayerType.js":"8+bQ","../../TileState.js":"Xz9x","../../ViewHint.js":"cuLW","../../dom.js":"Xno5","../../events.js":"55Uq","../../events/EventType.js":"C8cu","rbush":"y0Xa","../../extent.js":"QDir","../../layer/VectorTileRenderType.js":"Q2C4","../../proj.js":"Diht","../../proj/Units.js":"yZx6","../../render/ReplayType.js":"D882","../../render/canvas.js":"iAG7","../../render/canvas/ReplayGroup.js":"TGed","../../render/replay.js":"FzwX","./TileLayer.js":"hkM/","../vector.js":"UCah","../../transform.js":"P4eA"}],"8kYy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=c(require("./PluggableMap.js")),r=require("./control/util.js"),t=require("./interaction.js"),a=require("./obj.js"),n=c(require("./renderer/canvas/ImageLayer.js")),o=c(require("./renderer/canvas/Map.js")),s=c(require("./renderer/canvas/TileLayer.js")),u=c(require("./renderer/canvas/VectorLayer.js")),i=c(require("./renderer/canvas/VectorTileLayer.js"));function c(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function c(n){(n=(0,a.assign)({},n)).controls||(n.controls=(0,r.defaults)()),n.interactions||(n.interactions=(0,t.defaults)()),e.call(this,n)}return e&&(c.__proto__=e),c.prototype=Object.create(e&&e.prototype),c.prototype.constructor=c,c.prototype.createRenderer=function(){var e=new o.default(this);return e.registerLayerRenderers([n.default,s.default,u.default,i.default]),e},c}(e.default),d=l;exports.default=d;
},{"./PluggableMap.js":"kRwz","./control/util.js":"uzb+","./interaction.js":"aMDX","./obj.js":"mH6q","./renderer/canvas/ImageLayer.js":"rz/N","./renderer/canvas/Map.js":"vJhp","./renderer/canvas/TileLayer.js":"hkM/","./renderer/canvas/VectorLayer.js":"F2e3","./renderer/canvas/VectorTileLayer.js":"UST7"}],"VpAM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t={BOTTOM_LEFT:"bottom-left",BOTTOM_CENTER:"bottom-center",BOTTOM_RIGHT:"bottom-right",CENTER_LEFT:"center-left",CENTER_CENTER:"center-center",CENTER_RIGHT:"center-right",TOP_LEFT:"top-left",TOP_CENTER:"top-center",TOP_RIGHT:"top-right"};exports.default=t;
},{}],"/qWc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=h(require("./MapEventType.js")),e=a(require("./Object.js")),i=h(require("./OverlayPositioning.js")),n=require("./css.js"),o=require("./dom.js"),s=require("./events.js"),r=require("./extent.js");function a(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var n=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};n.get||n.set?Object.defineProperty(e,i,n):e[i]=t[i]}return e.default=t,e}function h(t){return t&&t.__esModule?t:{default:t}}var d={ELEMENT:"element",MAP:"map",OFFSET:"offset",POSITION:"position",POSITIONING:"positioning"},p=function(a){function h(t){a.call(this),this.options=t,this.id=t.id,this.insertFirst=void 0===t.insertFirst||t.insertFirst,this.stopEvent=void 0===t.stopEvent||t.stopEvent,this.element=document.createElement("div"),this.element.className=void 0!==t.className?t.className:"ol-overlay-container "+n.CLASS_SELECTABLE,this.element.style.position="absolute",this.autoPan=void 0!==t.autoPan&&t.autoPan,this.autoPanAnimation=t.autoPanAnimation||{},this.autoPanMargin=void 0!==t.autoPanMargin?t.autoPanMargin:20,this.rendered={bottom_:"",left_:"",right_:"",top_:"",visible:!0},this.mapPostrenderListenerKey=null,(0,s.listen)(this,(0,e.getChangeEventType)(d.ELEMENT),this.handleElementChanged,this),(0,s.listen)(this,(0,e.getChangeEventType)(d.MAP),this.handleMapChanged,this),(0,s.listen)(this,(0,e.getChangeEventType)(d.OFFSET),this.handleOffsetChanged,this),(0,s.listen)(this,(0,e.getChangeEventType)(d.POSITION),this.handlePositionChanged,this),(0,s.listen)(this,(0,e.getChangeEventType)(d.POSITIONING),this.handlePositioningChanged,this),void 0!==t.element&&this.setElement(t.element),this.setOffset(void 0!==t.offset?t.offset:[0,0]),this.setPositioning(void 0!==t.positioning?t.positioning:i.default.TOP_LEFT),void 0!==t.position&&this.setPosition(t.position)}return a&&(h.__proto__=a),h.prototype=Object.create(a&&a.prototype),h.prototype.constructor=h,h.prototype.getElement=function(){return this.get(d.ELEMENT)},h.prototype.getId=function(){return this.id},h.prototype.getMap=function(){return this.get(d.MAP)},h.prototype.getOffset=function(){return this.get(d.OFFSET)},h.prototype.getPosition=function(){return this.get(d.POSITION)},h.prototype.getPositioning=function(){return this.get(d.POSITIONING)},h.prototype.handleElementChanged=function(){(0,o.removeChildren)(this.element);var t=this.getElement();t&&this.element.appendChild(t)},h.prototype.handleMapChanged=function(){this.mapPostrenderListenerKey&&((0,o.removeNode)(this.element),(0,s.unlistenByKey)(this.mapPostrenderListenerKey),this.mapPostrenderListenerKey=null);var e=this.getMap();if(e){this.mapPostrenderListenerKey=(0,s.listen)(e,t.default.POSTRENDER,this.render,this),this.updatePixelPosition();var i=this.stopEvent?e.getOverlayContainerStopEvent():e.getOverlayContainer();this.insertFirst?i.insertBefore(this.element,i.childNodes[0]||null):i.appendChild(this.element)}},h.prototype.render=function(){this.updatePixelPosition()},h.prototype.handleOffsetChanged=function(){this.updatePixelPosition()},h.prototype.handlePositionChanged=function(){this.updatePixelPosition(),this.get(d.POSITION)&&this.autoPan&&this.panIntoView()},h.prototype.handlePositioningChanged=function(){this.updatePixelPosition()},h.prototype.setElement=function(t){this.set(d.ELEMENT,t)},h.prototype.setMap=function(t){this.set(d.MAP,t)},h.prototype.setOffset=function(t){this.set(d.OFFSET,t)},h.prototype.setPosition=function(t){this.set(d.POSITION,t)},h.prototype.panIntoView=function(){var t=this.getMap();if(t&&t.getTargetElement()){var e=this.getRect(t.getTargetElement(),t.getSize()),i=this.getElement(),n=this.getRect(i,[(0,o.outerWidth)(i),(0,o.outerHeight)(i)]),s=this.autoPanMargin;if(!(0,r.containsExtent)(e,n)){var a=n[0]-e[0],h=e[2]-n[2],d=n[1]-e[1],p=e[3]-n[3],l=[0,0];if(a<0?l[0]=a-s:h<0&&(l[0]=Math.abs(h)+s),d<0?l[1]=d-s:p<0&&(l[1]=Math.abs(p)+s),0!==l[0]||0!==l[1]){var u=t.getView().getCenter(),f=t.getPixelFromCoordinate(u),g=[f[0]+l[0],f[1]+l[1]];t.getView().animate({center:t.getCoordinateFromPixel(g),duration:this.autoPanAnimation.duration,easing:this.autoPanAnimation.easing})}}}},h.prototype.getRect=function(t,e){var i=t.getBoundingClientRect(),n=i.left+window.pageXOffset,o=i.top+window.pageYOffset;return[n,o,n+e[0],o+e[1]]},h.prototype.setPositioning=function(t){this.set(d.POSITIONING,t)},h.prototype.setVisible=function(t){this.rendered.visible!==t&&(this.element.style.display=t?"":"none",this.rendered.visible=t)},h.prototype.updatePixelPosition=function(){var t=this.getMap(),e=this.getPosition();if(t&&t.isRendered()&&e){var i=t.getPixelFromCoordinate(e),n=t.getSize();this.updateRenderedPosition(i,n)}else this.setVisible(!1)},h.prototype.updateRenderedPosition=function(t,e){var n=this.element.style,o=this.getOffset(),s=this.getPositioning();this.setVisible(!0);var r=o[0],a=o[1];if(s==i.default.BOTTOM_RIGHT||s==i.default.CENTER_RIGHT||s==i.default.TOP_RIGHT){""!==this.rendered.left_&&(this.rendered.left_=n.left="");var h=Math.round(e[0]-t[0]-r)+"px";this.rendered.right_!=h&&(this.rendered.right_=n.right=h)}else{""!==this.rendered.right_&&(this.rendered.right_=n.right=""),s!=i.default.BOTTOM_CENTER&&s!=i.default.CENTER_CENTER&&s!=i.default.TOP_CENTER||(r-=this.element.offsetWidth/2);var d=Math.round(t[0]+r)+"px";this.rendered.left_!=d&&(this.rendered.left_=n.left=d)}if(s==i.default.BOTTOM_LEFT||s==i.default.BOTTOM_CENTER||s==i.default.BOTTOM_RIGHT){""!==this.rendered.top_&&(this.rendered.top_=n.top="");var p=Math.round(e[1]-t[1]-a)+"px";this.rendered.bottom_!=p&&(this.rendered.bottom_=n.bottom=p)}else{""!==this.rendered.bottom_&&(this.rendered.bottom_=n.bottom=""),s!=i.default.CENTER_LEFT&&s!=i.default.CENTER_CENTER&&s!=i.default.CENTER_RIGHT||(a-=this.element.offsetHeight/2);var l=Math.round(t[1]+a)+"px";this.rendered.top_!=l&&(this.rendered.top_=n.top=l)}},h.prototype.getOptions=function(){return this.options},h}(e.default),l=p;exports.default=l;
},{"./MapEventType.js":"xLGm","./Object.js":"PhPh","./OverlayPositioning.js":"VpAM","./css.js":"HgMV","./dom.js":"Xno5","./events.js":"55Uq","./extent.js":"QDir"}],"2faT":[function(require,module,exports) {
"use strict";function e(e,t,r,n){return void 0!==n?(n[0]=e,n[1]=t,n[2]=r,n):[e,t,r]}function t(e,t,r){return e+"/"+t+"/"+r}function r(e){return t(e[0],e[1],e[2])}function n(e){return e.split("/").map(Number)}function o(e){return(e[1]<<e[0])+e[2]}function u(e){var t,r,n=e[0],o=new Array(n),u=1<<n-1;for(t=0;t<n;++t)r=48,e[1]&u&&(r+=1),e[2]&u&&(r+=2),o[t]=String.fromCharCode(r),u>>=1;return o.join("")}function i(e,t){var r=e[0],n=e[1],o=e[2];if(t.getMinZoom()>r||r>t.getMaxZoom())return!1;var u,i=t.getExtent();return!(u=i?t.getTileRangeForExtentAndZ(i,r):t.getFullTileRange(r))||u.containsXY(n,o)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.createOrUpdate=e,exports.getKeyZXY=t,exports.getKey=r,exports.fromKey=n,exports.hash=o,exports.quadKey=u,exports.withinExtentAndZ=i;
},{}],"YFDe":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=o(require("./structs/LRUCache.js")),t=require("./tilecoord.js");function o(e){return e&&e.__esModule?e:{default:e}}var r=function(e){function o(t){e.call(this,t)}return e&&(o.__proto__=e),o.prototype=Object.create(e&&e.prototype),o.prototype.constructor=o,o.prototype.expireCache=function(e){for(;this.canExpireCache();){var t=this.peekLast(),o=t.tileCoord[0].toString();if(o in e&&e[o].contains(t.tileCoord))break;this.pop().dispose()}},o.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var e=this.peekFirstKey(),o=(0,t.fromKey)(e)[0];this.forEach(function(e){e.tileCoord[0]!==o&&(this.remove((0,t.getKey)(e.tileCoord)),e.dispose())},this)}},o}(e.default),i=r;exports.default=i;
},{"./structs/LRUCache.js":"oMDz","./tilecoord.js":"2faT"}],"xDao":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaultLoadFunction=f,exports.default=void 0;var e=require("./util.js"),t=u(require("./Tile.js")),i=u(require("./TileState.js")),s=require("./dom.js"),r=require("./events.js"),n=require("./extent.js"),o=u(require("./events/EventType.js")),l=require("./featureloader.js"),a=require("./functions.js");function u(e){return e&&e.__esModule?e:{default:e}}var h=function(t){function l(e,s,u,h,d,f,c,y,g,p,_,v,L,T,E){if(t.call(this,e,s,{transition:0}),this.context_={},this.loader_,this.replayState_={},this.sourceTiles_=p,this.tileKeys=[],this.extent=null,this.sourceRevision_=u,this.wrappedTileCoord=f,this.loadListenerKeys_=[],this.sourceTileListenerKeys_=[],f){var K=this.extent=g.getTileCoordExtent(f),D=g.getResolution(E),R=y.getZForResolution(D),O=E!=e[0],x=0;if(y.forEachTileCoord(K,R,function(e){var t=(0,n.getIntersection)(K,y.getTileCoordExtent(e)),s=y.getExtent();if(s&&(t=(0,n.getIntersection)(t,s,t)),(0,n.getWidth)(t)/D>=.5&&(0,n.getHeight)(t)/D>=.5){++x;var l=e.toString(),a=p[l];if(!a&&!O){var u=c(e,_,v);a=p[l]=new L(e,null==u?i.default.EMPTY:i.default.IDLE,null==u?"":u,h,d),this.sourceTileListenerKeys_.push((0,r.listen)(a,o.default.CHANGE,T))}!a||O&&a.getState()!=i.default.LOADED||(a.consumers++,this.tileKeys.push(l))}}.bind(this)),O&&x==this.tileKeys.length&&this.finishLoading_(),E<=e[0]&&this.state!=i.default.LOADED)for(;E>g.getMinZoom();){var j=new l(e,s,u,h,d,f,c,y,g,p,_,v,L,a.VOID,--E);if(j.state==i.default.LOADED){this.interimTile=j;break}}}}return t&&(l.__proto__=t),l.prototype=Object.create(t&&t.prototype),l.prototype.constructor=l,l.prototype.disposeInternal=function(){this.state=i.default.ABORT,this.changed(),this.interimTile&&this.interimTile.dispose();for(var e=0,s=this.tileKeys.length;e<s;++e){var n=this.tileKeys[e],o=this.getTile(n);o.consumers--,0==o.consumers&&(delete this.sourceTiles_[n],o.dispose())}this.tileKeys.length=0,this.sourceTiles_=null,this.loadListenerKeys_.forEach(r.unlistenByKey),this.loadListenerKeys_.length=0,this.sourceTileListenerKeys_.forEach(r.unlistenByKey),this.sourceTileListenerKeys_.length=0,t.prototype.disposeInternal.call(this)},l.prototype.getContext=function(t){var i=(0,e.getUid)(t);return i in this.context_||(this.context_[i]=(0,s.createCanvasContext2D)()),this.context_[i]},l.prototype.getImage=function(e){return-1==this.getReplayState(e).renderedTileRevision?null:this.getContext(e).canvas},l.prototype.getReplayState=function(t){var i=(0,e.getUid)(t);return i in this.replayState_||(this.replayState_[i]={dirty:!1,renderedRenderOrder:null,renderedRevision:-1,renderedTileRevision:-1}),this.replayState_[i]},l.prototype.getKey=function(){return this.tileKeys.join("/")+"-"+this.sourceRevision_},l.prototype.getTile=function(e){return this.sourceTiles_[e]},l.prototype.load=function(){var t=0,s={};this.state==i.default.IDLE&&this.setState(i.default.LOADING),this.state==i.default.LOADING&&this.tileKeys.forEach(function(n){var l=this.getTile(n);if(l.state==i.default.IDLE&&(l.setLoader(this.loader_),l.load()),l.state==i.default.LOADING){var a=(0,r.listen)(l,o.default.CHANGE,function(r){var n=l.getState();if(n==i.default.LOADED||n==i.default.ERROR){var o=(0,e.getUid)(l);n==i.default.ERROR?s[o]=!0:(--t,delete s[o]),t-Object.keys(s).length==0&&this.finishLoading_()}}.bind(this));this.loadListenerKeys_.push(a),++t}}.bind(this)),t-Object.keys(s).length==0&&setTimeout(this.finishLoading_.bind(this),0)},l.prototype.finishLoading_=function(){for(var e=this.tileKeys.length,t=0,s=e-1;s>=0;--s){var n=this.getTile(this.tileKeys[s]).getState();n!=i.default.LOADED&&--e,n==i.default.EMPTY&&++t}e==this.tileKeys.length?(this.loadListenerKeys_.forEach(r.unlistenByKey),this.loadListenerKeys_.length=0,this.setState(i.default.LOADED)):this.setState(t==this.tileKeys.length?i.default.EMPTY:i.default.ERROR)},l}(t.default),d=h;function f(e,t){var i=(0,l.loadFeaturesXhr)(t,e.getFormat(),e.onLoad.bind(e),e.onError.bind(e));e.setLoader(i)}exports.default=d;
},{"./util.js":"KniQ","./Tile.js":"IWZI","./TileState.js":"Xz9x","./dom.js":"Xno5","./events.js":"55Uq","./extent.js":"QDir","./events/EventType.js":"C8cu","./featureloader.js":"U3JP","./functions.js":"RgA2"}],"yj80":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("./util.js"),e=r(require("./Tile.js")),o=r(require("./TileState.js"));function r(t){return t&&t.__esModule?t:{default:t}}var i=[0,0,4096,4096],s=function(e){function r(t,o,r,i,s,n){e.call(this,t,o,n),this.consumers=0,this.extent_=null,this.format_=i,this.features_=null,this.loader_,this.projection_=null,this.replayGroups_={},this.tileLoadFunction_=s,this.url_=r}return e&&(r.__proto__=e),r.prototype=Object.create(e&&e.prototype),r.prototype.constructor=r,r.prototype.disposeInternal=function(){this.features_=null,this.replayGroups_={},this.state=o.default.ABORT,this.changed(),e.prototype.disposeInternal.call(this)},r.prototype.getExtent=function(){return this.extent_||i},r.prototype.getFormat=function(){return this.format_},r.prototype.getFeatures=function(){return this.features_},r.prototype.getKey=function(){return this.url_},r.prototype.getProjection=function(){return this.projection_},r.prototype.getReplayGroup=function(e,o){return this.replayGroups_[(0,t.getUid)(e)+","+o]},r.prototype.load=function(){this.state==o.default.IDLE&&(this.setState(o.default.LOADING),this.tileLoadFunction_(this,this.url_),this.loader_(null,NaN,null))},r.prototype.onLoad=function(t,e,o){this.setProjection(e),this.setFeatures(t),this.setExtent(o)},r.prototype.onError=function(){this.setState(o.default.ERROR)},r.prototype.setExtent=function(t){this.extent_=t},r.prototype.setFeatures=function(t){this.features_=t,this.setState(o.default.LOADED)},r.prototype.setProjection=function(t){this.projection_=t},r.prototype.setReplayGroup=function(e,o,r){this.replayGroups_[(0,t.getUid)(e)+","+o]=r},r.prototype.setLoader=function(t){this.loader_=t},r}(e.default),n=s;exports.default=n;
},{"./util.js":"KniQ","./Tile.js":"IWZI","./TileState.js":"Xz9x"}],"dOoh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=u(require("./Control.js")),t=require("../css.js"),s=require("../dom.js"),l=require("../events.js"),n=u(require("../events/EventType.js"));function u(e){return e&&e.__esModule?e:{default:e}}var r=function(){var e;return function(){if(!e){var t=document.body;t.webkitRequestFullscreen?e="webkitfullscreenchange":t.mozRequestFullScreen?e="mozfullscreenchange":t.msRequestFullscreen?e="MSFullscreenChange":t.requestFullscreen&&(e="fullscreenchange")}return e}}(),c=function(e){function u(s){var u=s||{};e.call(this,{element:document.createElement("div"),target:u.target}),this.cssClassName_=void 0!==u.className?u.className:"ol-full-screen";var r=void 0!==u.label?u.label:"⤢";this.labelNode_="string"==typeof r?document.createTextNode(r):r;var c=void 0!==u.labelActive?u.labelActive:"×";this.labelActiveNode_="string"==typeof c?document.createTextNode(c):c,this.button_=document.createElement("button");var a=u.tipLabel?u.tipLabel:"Toggle full-screen";this.setClassName_(this.button_,i()),this.button_.setAttribute("type","button"),this.button_.title=a,this.button_.appendChild(this.labelNode_),(0,l.listen)(this.button_,n.default.CLICK,this.handleClick_,this);var d=this.cssClassName_+" "+t.CLASS_UNSELECTABLE+" "+t.CLASS_CONTROL+" "+(o()?"":t.CLASS_UNSUPPORTED),m=this.element;m.className=d,m.appendChild(this.button_),this.keys_=void 0!==u.keys&&u.keys,this.source_=u.source}return e&&(u.__proto__=e),u.prototype=Object.create(e&&e.prototype),u.prototype.constructor=u,u.prototype.handleClick_=function(e){e.preventDefault(),this.handleFullScreen_()},u.prototype.handleFullScreen_=function(){if(o()){var e,t=this.getMap();if(t)if(i())m();else e=this.source_?"string"==typeof this.source_?document.getElementById(this.source_):this.source_:t.getTargetElement(),this.keys_?d(e):a(e)}},u.prototype.handleFullScreenChange_=function(){var e=this.getMap();i()?(this.setClassName_(this.button_,!0),(0,s.replaceNode)(this.labelActiveNode_,this.labelNode_)):(this.setClassName_(this.button_,!1),(0,s.replaceNode)(this.labelNode_,this.labelActiveNode_)),e&&e.updateSize()},u.prototype.setClassName_=function(e,t){var s=this.cssClassName_+"-true",l=this.cssClassName_+"-false",n=t?s:l;e.classList.remove(s),e.classList.remove(l),e.classList.add(n)},u.prototype.setMap=function(t){e.prototype.setMap.call(this,t),t&&this.listenerKeys.push((0,l.listen)(document,r(),this.handleFullScreenChange_,this))},u}(e.default);function o(){var e=document.body;return!!(e.webkitRequestFullscreen||e.mozRequestFullScreen&&document.mozFullScreenEnabled||e.msRequestFullscreen&&document.msFullscreenEnabled||e.requestFullscreen&&document.fullscreenEnabled)}function i(){return!!(document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement||document.fullscreenElement)}function a(e){e.requestFullscreen?e.requestFullscreen():e.msRequestFullscreen?e.msRequestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen&&e.webkitRequestFullscreen()}function d(e){e.mozRequestFullScreenWithKeys?e.mozRequestFullScreenWithKeys():e.webkitRequestFullscreen?e.webkitRequestFullscreen():a(e)}function m(){document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen()}var h=c;exports.default=h;
},{"./Control.js":"+/xx","../css.js":"HgMV","../dom.js":"Xno5","../events.js":"55Uq","../events/EventType.js":"C8cu"}],"Cbl8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.render=h,exports.default=void 0;var t=require("../events.js"),e=n(require("../events/EventType.js")),o=require("../Object.js"),i=n(require("./Control.js")),r=require("../proj.js");function n(t){return t&&t.__esModule?t:{default:t}}var s="projection",a="coordinateFormat",u=function(i){function n(e){var r=e||{},n=document.createElement("div");n.className=void 0!==r.className?r.className:"ol-mouse-position",i.call(this,{element:n,render:r.render||h,target:r.target}),(0,t.listen)(this,(0,o.getChangeEventType)(s),this.handleProjectionChanged_,this),r.coordinateFormat&&this.setCoordinateFormat(r.coordinateFormat),r.projection&&this.setProjection(r.projection),this.undefinedHTML_=void 0!==r.undefinedHTML?r.undefinedHTML:"&#160;",this.renderOnMouseOut_=!!this.undefinedHTML_,this.renderedHTML_=n.innerHTML,this.mapProjection_=null,this.transform_=null,this.lastMouseMovePixel_=null}return i&&(n.__proto__=i),n.prototype=Object.create(i&&i.prototype),n.prototype.constructor=n,n.prototype.handleProjectionChanged_=function(){this.transform_=null},n.prototype.getCoordinateFormat=function(){return this.get(a)},n.prototype.getProjection=function(){return this.get(s)},n.prototype.handleMouseMove=function(t){var e=this.getMap();this.lastMouseMovePixel_=e.getEventPixel(t),this.updateHTML_(this.lastMouseMovePixel_)},n.prototype.handleMouseOut=function(t){this.updateHTML_(null),this.lastMouseMovePixel_=null},n.prototype.setMap=function(o){if(i.prototype.setMap.call(this,o),o){var r=o.getViewport();this.listenerKeys.push((0,t.listen)(r,e.default.MOUSEMOVE,this.handleMouseMove,this),(0,t.listen)(r,e.default.TOUCHSTART,this.handleMouseMove,this)),this.renderOnMouseOut_&&this.listenerKeys.push((0,t.listen)(r,e.default.MOUSEOUT,this.handleMouseOut,this),(0,t.listen)(r,e.default.TOUCHEND,this.handleMouseOut,this))}},n.prototype.setCoordinateFormat=function(t){this.set(a,t)},n.prototype.setProjection=function(t){this.set(s,(0,r.get)(t))},n.prototype.updateHTML_=function(t){var e=this.undefinedHTML_;if(t&&this.mapProjection_){if(!this.transform_){var o=this.getProjection();this.transform_=o?(0,r.getTransformFromProjections)(this.mapProjection_,o):r.identityTransform}var i=this.getMap().getCoordinateFromPixel(t);if(i){this.transform_(i,i);var n=this.getCoordinateFormat();e=n?n(i):i.toString()}}this.renderedHTML_&&e===this.renderedHTML_||(this.element.innerHTML=e,this.renderedHTML_=e)},n}(i.default);function h(t){var e=t.frameState;e?this.mapProjection_!=e.viewState.projection&&(this.mapProjection_=e.viewState.projection,this.transform_=null):this.mapProjection_=null}var l=u;exports.default=l;
},{"../events.js":"55Uq","../events/EventType.js":"C8cu","../Object.js":"PhPh","./Control.js":"+/xx","../proj.js":"Diht"}],"KMhA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.render=y,exports.default=void 0;var e=g(require("../Collection.js")),t=g(require("../Map.js")),i=g(require("../MapEventType.js")),o=g(require("../MapProperty.js")),a=require("../Object.js"),s=g(require("../ObjectEventType.js")),l=g(require("../Overlay.js")),n=g(require("../OverlayPositioning.js")),r=g(require("../ViewProperty.js")),p=g(require("./Control.js")),h=require("../coordinate.js"),d=require("../css.js"),c=require("../dom.js"),u=require("../events.js"),v=g(require("../events/EventType.js")),_=require("../extent.js");function g(e){return e&&e.__esModule?e:{default:e}}var m=.75,b=.1,f=function(p){function g(i){var o=i||{};p.call(this,{element:document.createElement("div"),render:o.render||y,target:o.target}),this.collapsed_=void 0===o.collapsed||o.collapsed,this.collapsible_=void 0===o.collapsible||o.collapsible,this.collapsible_||(this.collapsed_=!1);var a=void 0!==o.className?o.className:"ol-overviewmap",s=void 0!==o.tipLabel?o.tipLabel:"Overview map",r=void 0!==o.collapseLabel?o.collapseLabel:"«";"string"==typeof r?(this.collapseLabel_=document.createElement("span"),this.collapseLabel_.textContent=r):this.collapseLabel_=r;var h=void 0!==o.label?o.label:"»";"string"==typeof h?(this.label_=document.createElement("span"),this.label_.textContent=h):this.label_=h;var c=this.collapsible_&&!this.collapsed_?this.collapseLabel_:this.label_,_=document.createElement("button");_.setAttribute("type","button"),_.title=s,_.appendChild(c),(0,u.listen)(_,v.default.CLICK,this.handleClick_,this),this.ovmapDiv_=document.createElement("div"),this.ovmapDiv_.className="ol-overviewmap-map",this.ovmap_=new t.default({controls:new e.default,interactions:new e.default,view:o.view});var g=this.ovmap_;o.layers&&o.layers.forEach(function(e){g.addLayer(e)}.bind(this));var m=document.createElement("div");m.className="ol-overviewmap-box",m.style.boxSizing="border-box",this.boxOverlay_=new l.default({position:[0,0],positioning:n.default.BOTTOM_LEFT,element:m}),this.ovmap_.addOverlay(this.boxOverlay_);var b=a+" "+d.CLASS_UNSELECTABLE+" "+d.CLASS_CONTROL+(this.collapsed_&&this.collapsible_?" "+d.CLASS_COLLAPSED:"")+(this.collapsible_?"":" ol-uncollapsible"),f=this.element;f.className=b,f.appendChild(this.ovmapDiv_),f.appendChild(_);var w=this,E=this.boxOverlay_,C=this.boxOverlay_.getElement(),L=function(e){var t,i={clientX:(t=e).clientX-C.offsetWidth/2,clientY:t.clientY+C.offsetHeight/2},o=g.getEventCoordinate(i);E.setPosition(o)},x=function(e){var t=g.getEventCoordinate(e);w.getMap().getView().setCenter(t),window.removeEventListener("mousemove",L),window.removeEventListener("mouseup",x)};C.addEventListener("mousedown",function(){window.addEventListener("mousemove",L),window.addEventListener("mouseup",x)})}return p&&(g.__proto__=p),g.prototype=Object.create(p&&p.prototype),g.prototype.constructor=g,g.prototype.setMap=function(e){var t=this.getMap();if(e!==t){if(t){var i=t.getView();i&&this.unbindView_(i),this.ovmap_.setTarget(null)}if(p.prototype.setMap.call(this,e),e){this.ovmap_.setTarget(this.ovmapDiv_),this.listenerKeys.push((0,u.listen)(e,s.default.PROPERTYCHANGE,this.handleMapPropertyChange_,this)),0===this.ovmap_.getLayers().getLength()&&this.ovmap_.setLayerGroup(e.getLayerGroup());var o=e.getView();o&&(this.bindView_(o),o.isDef()&&(this.ovmap_.updateSize(),this.resetExtent_()))}}},g.prototype.handleMapPropertyChange_=function(e){if(e.key===o.default.VIEW){var t=e.oldValue;t&&this.unbindView_(t);var i=this.getMap().getView();this.bindView_(i)}},g.prototype.bindView_=function(e){(0,u.listen)(e,(0,a.getChangeEventType)(r.default.ROTATION),this.handleRotationChanged_,this)},g.prototype.unbindView_=function(e){(0,u.unlisten)(e,(0,a.getChangeEventType)(r.default.ROTATION),this.handleRotationChanged_,this)},g.prototype.handleRotationChanged_=function(){this.ovmap_.getView().setRotation(this.getMap().getView().getRotation())},g.prototype.validateExtent_=function(){var e=this.getMap(),t=this.ovmap_;if(e.isRendered()&&t.isRendered()){var i=e.getSize(),o=e.getView().calculateExtent(i),a=t.getSize(),s=t.getView().calculateExtent(a),l=t.getPixelFromCoordinate((0,_.getTopLeft)(o)),n=t.getPixelFromCoordinate((0,_.getBottomRight)(o)),r=Math.abs(l[0]-n[0]),p=Math.abs(l[1]-n[1]),h=a[0],d=a[1];r<h*b||p<d*b||r>h*m||p>d*m?this.resetExtent_():(0,_.containsExtent)(s,o)||this.recenter_()}},g.prototype.resetExtent_=function(){if(0!==m&&0!==b){var e=this.getMap(),t=this.ovmap_,i=e.getSize(),o=e.getView().calculateExtent(i),a=t.getView(),s=Math.log(m/b)/Math.LN2,l=1/(Math.pow(2,s/2)*b);(0,_.scaleFromCenter)(o,l),a.fit(o)}},g.prototype.recenter_=function(){var e=this.getMap(),t=this.ovmap_,i=e.getView();t.getView().setCenter(i.getCenter())},g.prototype.updateBox_=function(){var e=this.getMap(),t=this.ovmap_;if(e.isRendered()&&t.isRendered()){var i=e.getSize(),o=e.getView(),a=t.getView(),s=o.getRotation(),l=this.boxOverlay_,n=this.boxOverlay_.getElement(),r=o.calculateExtent(i),p=a.getResolution(),h=(0,_.getBottomLeft)(r),d=(0,_.getTopRight)(r),c=this.calculateCoordinateRotate_(s,h);l.setPosition(c),n&&(n.style.width=Math.abs((h[0]-d[0])/p)+"px",n.style.height=Math.abs((d[1]-h[1])/p)+"px")}},g.prototype.calculateCoordinateRotate_=function(e,t){var i,o=this.getMap().getView().getCenter();return o&&(i=[t[0]-o[0],t[1]-o[1]],(0,h.rotate)(i,e),(0,h.add)(i,o)),i},g.prototype.handleClick_=function(e){e.preventDefault(),this.handleToggle_()},g.prototype.handleToggle_=function(){this.element.classList.toggle(d.CLASS_COLLAPSED),this.collapsed_?(0,c.replaceNode)(this.collapseLabel_,this.label_):(0,c.replaceNode)(this.label_,this.collapseLabel_),this.collapsed_=!this.collapsed_;var e=this.ovmap_;this.collapsed_||e.isRendered()||(e.updateSize(),this.resetExtent_(),(0,u.listenOnce)(e,i.default.POSTRENDER,function(e){this.updateBox_()},this))},g.prototype.getCollapsible=function(){return this.collapsible_},g.prototype.setCollapsible=function(e){this.collapsible_!==e&&(this.collapsible_=e,this.element.classList.toggle("ol-uncollapsible"),!e&&this.collapsed_&&this.handleToggle_())},g.prototype.setCollapsed=function(e){this.collapsible_&&this.collapsed_!==e&&this.handleToggle_()},g.prototype.getCollapsed=function(){return this.collapsed_},g.prototype.getOverviewMap=function(){return this.ovmap_},g}(p.default);function y(e){this.validateExtent_(),this.updateBox_()}var w=f;exports.default=w;
},{"../Collection.js":"FnDa","../Map.js":"8kYy","../MapEventType.js":"xLGm","../MapProperty.js":"zlNQ","../Object.js":"PhPh","../ObjectEventType.js":"zehl","../Overlay.js":"/qWc","../OverlayPositioning.js":"VpAM","../ViewProperty.js":"0/98","./Control.js":"+/xx","../coordinate.js":"nGsj","../css.js":"HgMV","../dom.js":"Xno5","../events.js":"55Uq","../events/EventType.js":"C8cu","../extent.js":"QDir"}],"DK5d":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.render=E,exports.default=exports.Units=void 0;var e=require("../Object.js"),t=require("../asserts.js"),i=l(require("./Control.js")),n=require("../css.js"),r=require("../events.js"),s=require("../proj.js"),d=l(require("../proj/Units.js"));function l(e){return e&&e.__esModule?e:{default:e}}var a="units",o={DEGREES:"degrees",IMPERIAL:"imperial",NAUTICAL:"nautical",METRIC:"metric",US:"us"};exports.Units=o;var h=[1,2,5],u=function(i){function l(t){var s=t||{},d=void 0!==s.className?s.className:"ol-scale-line";i.call(this,{element:document.createElement("div"),render:s.render||E,target:s.target}),this.innerElement_=document.createElement("div"),this.innerElement_.className=d+"-inner",this.element.className=d+" "+n.CLASS_UNSELECTABLE,this.element.appendChild(this.innerElement_),this.viewState_=null,this.minWidth_=void 0!==s.minWidth?s.minWidth:64,this.renderedVisible_=!1,this.renderedWidth_=void 0,this.renderedHTML_="",(0,r.listen)(this,(0,e.getChangeEventType)(a),this.handleUnitsChanged_,this),this.setUnits(s.units||o.METRIC)}return i&&(l.__proto__=i),l.prototype=Object.create(i&&i.prototype),l.prototype.constructor=l,l.prototype.getUnits=function(){return this.get(a)},l.prototype.handleUnitsChanged_=function(){this.updateElement_()},l.prototype.setUnits=function(e){this.set(a,e)},l.prototype.updateElement_=function(){var e=this.viewState_;if(e){var i=e.center,n=e.projection,r=this.getUnits(),l=r==o.DEGREES?d.default.DEGREES:d.default.METERS,a=(0,s.getPointResolution)(n,e.resolution,i,l);n.getUnits()!=d.default.DEGREES&&n.getMetersPerUnit()&&l==d.default.METERS&&(a*=n.getMetersPerUnit());var u=this.minWidth_*a,E="";if(r==o.DEGREES){var _=s.METERS_PER_UNIT[d.default.DEGREES];n.getUnits()==d.default.DEGREES?u*=_:a/=_,u<_/60?(E="″",a*=3600):u<_?(E="′",a*=60):E="°"}else r==o.IMPERIAL?u<.9144?(E="in",a/=.0254):u<1609.344?(E="ft",a/=.3048):(E="mi",a/=1609.344):r==o.NAUTICAL?(a/=1852,E="nm"):r==o.METRIC?u<.001?(E="μm",a*=1e6):u<1?(E="mm",a*=1e3):u<1e3?E="m":(E="km",a/=1e3):r==o.US?u<.9144?(E="in",a*=39.37):u<1609.344?(E="ft",a/=.30480061):(E="mi",a/=1609.3472):(0,t.assert)(!1,33);for(var m,p,c=3*Math.floor(Math.log(this.minWidth_*a)/Math.log(10));;){if(m=h[(c%3+3)%3]*Math.pow(10,Math.floor(c/3)),p=Math.round(m/a),isNaN(p))return this.element.style.display="none",void(this.renderedVisible_=!1);if(p>=this.minWidth_)break;++c}var f=m+" "+E;this.renderedHTML_!=f&&(this.innerElement_.innerHTML=f,this.renderedHTML_=f),this.renderedWidth_!=p&&(this.innerElement_.style.width=p+"px",this.renderedWidth_=p),this.renderedVisible_||(this.element.style.display="",this.renderedVisible_=!0)}else this.renderedVisible_&&(this.element.style.display="none",this.renderedVisible_=!1)},l}(i.default);function E(e){var t=e.frameState;this.viewState_=t?t.viewState:null,this.updateElement_()}var _=u;exports.default=_;
},{"../Object.js":"PhPh","../asserts.js":"fLG6","./Control.js":"+/xx","../css.js":"HgMV","../events.js":"55Uq","../proj.js":"Diht","../proj/Units.js":"yZx6"}],"A/Kw":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.render=_,exports.default=void 0;var t=u(require("../ViewHint.js")),e=u(require("./Control.js")),i=require("../css.js"),s=require("../easing.js"),r=require("../events.js"),n=require("../events/Event.js"),o=u(require("../events/EventType.js")),a=require("../math.js"),h=u(require("../pointer/EventType.js")),l=u(require("../pointer/PointerEventHandler.js"));function u(t){return t&&t.__esModule?t:{default:t}}var d={VERTICAL:0,HORIZONTAL:1},g=function(e){function u(t){var s=t||{};e.call(this,{element:document.createElement("div"),render:s.render||_}),this.dragListenerKeys_=[],this.currentResolution_=void 0,this.direction_=d.VERTICAL,this.dragging_,this.heightLimit_=0,this.widthLimit_=0,this.previousX_,this.previousY_,this.thumbSize_=null,this.sliderInitialized_=!1,this.duration_=void 0!==s.duration?s.duration:200;var a=void 0!==s.className?s.className:"ol-zoomslider",u=document.createElement("button");u.setAttribute("type","button"),u.className=a+"-thumb "+i.CLASS_UNSELECTABLE;var g=this.element;g.className=a+" "+i.CLASS_UNSELECTABLE+" "+i.CLASS_CONTROL,g.appendChild(u),this.dragger_=new l.default(g),(0,r.listen)(this.dragger_,h.default.POINTERDOWN,this.handleDraggerStart_,this),(0,r.listen)(this.dragger_,h.default.POINTERMOVE,this.handleDraggerDrag_,this),(0,r.listen)(this.dragger_,h.default.POINTERUP,this.handleDraggerEnd_,this),(0,r.listen)(g,o.default.CLICK,this.handleContainerClick_,this),(0,r.listen)(u,o.default.CLICK,n.stopPropagation)}return e&&(u.__proto__=e),u.prototype=Object.create(e&&e.prototype),u.prototype.constructor=u,u.prototype.disposeInternal=function(){this.dragger_.dispose(),e.prototype.disposeInternal.call(this)},u.prototype.setMap=function(t){e.prototype.setMap.call(this,t),t&&t.render()},u.prototype.initSlider_=function(){var t=this.element,e=t.offsetWidth,i=t.offsetHeight,s=t.firstElementChild,r=getComputedStyle(s),n=s.offsetWidth+parseFloat(r.marginRight)+parseFloat(r.marginLeft),o=s.offsetHeight+parseFloat(r.marginTop)+parseFloat(r.marginBottom);this.thumbSize_=[n,o],e>i?(this.direction_=d.HORIZONTAL,this.widthLimit_=e-n):(this.direction_=d.VERTICAL,this.heightLimit_=i-o),this.sliderInitialized_=!0},u.prototype.handleContainerClick_=function(t){var e=this.getMap().getView(),i=this.getRelativePosition_(t.offsetX-this.thumbSize_[0]/2,t.offsetY-this.thumbSize_[1]/2),r=this.getResolutionForPosition_(i);e.animate({resolution:e.constrainResolution(r),duration:this.duration_,easing:s.easeOut})},u.prototype.handleDraggerStart_=function(e){if(!this.dragging_&&e.originalEvent.target===this.element.firstElementChild&&(this.getMap().getView().setHint(t.default.INTERACTING,1),this.previousX_=e.clientX,this.previousY_=e.clientY,this.dragging_=!0,0===this.dragListenerKeys_.length)){var i=this.handleDraggerDrag_,s=this.handleDraggerEnd_;this.dragListenerKeys_.push((0,r.listen)(document,o.default.MOUSEMOVE,i,this),(0,r.listen)(document,h.default.POINTERMOVE,i,this),(0,r.listen)(document,o.default.MOUSEUP,s,this),(0,r.listen)(document,h.default.POINTERUP,s,this))}},u.prototype.handleDraggerDrag_=function(t){if(this.dragging_){var e=this.element.firstElementChild,i=t.clientX-this.previousX_+parseFloat(e.style.left),s=t.clientY-this.previousY_+parseFloat(e.style.top),r=this.getRelativePosition_(i,s);this.currentResolution_=this.getResolutionForPosition_(r),this.getMap().getView().setResolution(this.currentResolution_),this.setThumbPosition_(this.currentResolution_),this.previousX_=t.clientX,this.previousY_=t.clientY}},u.prototype.handleDraggerEnd_=function(e){if(this.dragging_){var i=this.getMap().getView();i.setHint(t.default.INTERACTING,-1),i.animate({resolution:i.constrainResolution(this.currentResolution_),duration:this.duration_,easing:s.easeOut}),this.dragging_=!1,this.previousX_=void 0,this.previousY_=void 0,this.dragListenerKeys_.forEach(r.unlistenByKey),this.dragListenerKeys_.length=0}},u.prototype.setThumbPosition_=function(t){var e=this.getPositionForResolution_(t),i=this.element.firstElementChild;this.direction_==d.HORIZONTAL?i.style.left=this.widthLimit_*e+"px":i.style.top=this.heightLimit_*e+"px"},u.prototype.getRelativePosition_=function(t,e){var i;return i=this.direction_===d.HORIZONTAL?t/this.widthLimit_:e/this.heightLimit_,(0,a.clamp)(i,0,1)},u.prototype.getResolutionForPosition_=function(t){return this.getMap().getView().getResolutionForValueFunction()(1-t)},u.prototype.getPositionForResolution_=function(t){return 1-this.getMap().getView().getValueForResolutionFunction()(t)},u}(e.default);function _(t){if(t.frameState){this.sliderInitialized_||this.initSlider_();var e=t.frameState.viewState.resolution;e!==this.currentResolution_&&(this.currentResolution_=e,this.setThumbPosition_(e))}}var p=g;exports.default=p;
},{"../ViewHint.js":"cuLW","./Control.js":"+/xx","../css.js":"HgMV","../easing.js":"IeCz","../events.js":"55Uq","../events/Event.js":"fKNg","../events/EventType.js":"C8cu","../math.js":"B96G","../pointer/EventType.js":"TaSm","../pointer/PointerEventHandler.js":"zTqe"}],"W4Y0":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../events.js"),t=r(require("../events/EventType.js")),o=r(require("./Control.js")),n=require("../css.js");function r(e){return e&&e.__esModule?e:{default:e}}var i=function(o){function r(r){var i=r||{};o.call(this,{element:document.createElement("div"),target:i.target}),this.extent=i.extent?i.extent:null;var l=void 0!==i.className?i.className:"ol-zoom-extent",a=void 0!==i.label?i.label:"E",s=void 0!==i.tipLabel?i.tipLabel:"Fit to extent",u=document.createElement("button");u.setAttribute("type","button"),u.title=s,u.appendChild("string"==typeof a?document.createTextNode(a):a),(0,e.listen)(u,t.default.CLICK,this.handleClick_,this);var p=l+" "+n.CLASS_UNSELECTABLE+" "+n.CLASS_CONTROL,c=this.element;c.className=p,c.appendChild(u)}return o&&(r.__proto__=o),r.prototype=Object.create(o&&o.prototype),r.prototype.constructor=r,r.prototype.handleClick_=function(e){e.preventDefault(),this.handleZoomToExtent()},r.prototype.handleZoomToExtent=function(){var e=this.getMap().getView(),t=this.extent?this.extent:e.getProjection().getExtent();e.fit(t)},r}(o.default),l=i;exports.default=l;
},{"../events.js":"55Uq","../events/EventType.js":"C8cu","./Control.js":"+/xx","../css.js":"HgMV"}],"95uc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"Attribution",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"Control",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"FullScreen",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"MousePosition",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"OverviewMap",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"Rotate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"ScaleLine",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(exports,"Zoom",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(exports,"ZoomSlider",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(exports,"ZoomToExtent",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(exports,"defaults",{enumerable:!0,get:function(){return s.defaults}});var e=a(require("./control/Attribution.js")),r=a(require("./control/Control.js")),t=a(require("./control/FullScreen.js")),o=a(require("./control/MousePosition.js")),n=a(require("./control/OverviewMap.js")),u=a(require("./control/Rotate.js")),i=a(require("./control/ScaleLine.js")),l=a(require("./control/Zoom.js")),c=a(require("./control/ZoomSlider.js")),f=a(require("./control/ZoomToExtent.js")),s=require("./control/util.js");function a(e){return e&&e.__esModule?e:{default:e}}
},{"./control/Attribution.js":"Q4Cf","./control/Control.js":"+/xx","./control/FullScreen.js":"dOoh","./control/MousePosition.js":"Cbl8","./control/OverviewMap.js":"KMhA","./control/Rotate.js":"sCgw","./control/ScaleLine.js":"DK5d","./control/Zoom.js":"L3+c","./control/ZoomSlider.js":"A/Kw","./control/ZoomToExtent.js":"W4Y0","./control/util.js":"uzb+"}],"+jwT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../util.js"),e=function(t){this.source_=t};e.prototype.isAnimated=function(){return!1},e.prototype.getType=function(){return(0,t.abstract)()},e.prototype.getSource=function(){return this.source_};var r=e;exports.default=r;
},{"../util.js":"KniQ"}],"SAYv":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../webgl.js"),t=r(require("../webgl/Shader.js"));function r(e){return e&&e.__esModule?e:{default:e}}var o=function(t){function r(e){t.call(this,e)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.getType=function(){return e.FRAGMENT_SHADER},r}(t.default),u=o;exports.default=u;
},{"../webgl.js":"SCyv","../webgl/Shader.js":"+jwT"}],"mo14":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../webgl.js"),t=r(require("../webgl/Shader.js"));function r(e){return e&&e.__esModule?e:{default:e}}var o=function(t){function r(e){t.call(this,e)}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r.prototype.getType=function(){return e.VERTEX_SHADER},r}(t.default),u=o;exports.default=u;
},{"../webgl.js":"SCyv","../webgl/Shader.js":"+jwT"}],"GZAE":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.vertex=exports.fragment=void 0;var i=require("../../../webgl.js"),e=o(require("../../../webgl/Fragment.js")),t=o(require("../../../webgl/Vertex.js"));function o(i){return i&&i.__esModule?i:{default:i}}var a=new e.default(i.DEBUG?"precision mediump float;\nvarying vec2 v_center;\nvarying vec2 v_offset;\nvarying float v_halfWidth;\nvarying float v_pixelRatio;\n\n\n\nuniform float u_opacity;\nuniform vec4 u_fillColor;\nuniform vec4 u_strokeColor;\nuniform vec2 u_size;\n\nvoid main(void) {\n  vec2 windowCenter = vec2((v_center.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\n      (v_center.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\n  vec2 windowOffset = vec2((v_offset.x + 1.0) / 2.0 * u_size.x * v_pixelRatio,\n      (v_offset.y + 1.0) / 2.0 * u_size.y * v_pixelRatio);\n  float radius = length(windowCenter - windowOffset);\n  float dist = length(windowCenter - gl_FragCoord.xy);\n  if (dist > radius + v_halfWidth) {\n    if (u_strokeColor.a == 0.0) {\n      gl_FragColor = u_fillColor;\n    } else {\n      gl_FragColor = u_strokeColor;\n    }\n    gl_FragColor.a = gl_FragColor.a - (dist - (radius + v_halfWidth));\n  } else if (u_fillColor.a == 0.0) {\n    // Hooray, no fill, just stroke. We can use real antialiasing.\n    gl_FragColor = u_strokeColor;\n    if (dist < radius - v_halfWidth) {\n      gl_FragColor.a = gl_FragColor.a - (radius - v_halfWidth - dist);\n    }\n  } else {\n    gl_FragColor = u_fillColor;\n    float strokeDist = radius - v_halfWidth;\n    float antialias = 2.0 * v_pixelRatio;\n    if (dist > strokeDist) {\n      gl_FragColor = u_strokeColor;\n    } else if (dist >= strokeDist - antialias) {\n      float step = smoothstep(strokeDist - antialias, strokeDist, dist);\n      gl_FragColor = mix(u_fillColor, u_strokeColor, step);\n    }\n  }\n  gl_FragColor.a = gl_FragColor.a * u_opacity;\n  if (gl_FragColor.a <= 0.0) {\n    discard;\n  }\n}\n":"precision mediump float;varying vec2 a;varying vec2 b;varying float c;varying float d;uniform float m;uniform vec4 n;uniform vec4 o;uniform vec2 p;void main(void){vec2 windowCenter=vec2((a.x+1.0)/2.0*p.x*d,(a.y+1.0)/2.0*p.y*d);vec2 windowOffset=vec2((b.x+1.0)/2.0*p.x*d,(b.y+1.0)/2.0*p.y*d);float radius=length(windowCenter-windowOffset);float dist=length(windowCenter-gl_FragCoord.xy);if(dist>radius+c){if(o.a==0.0){gl_FragColor=n;}else{gl_FragColor=o;}gl_FragColor.a=gl_FragColor.a-(dist-(radius+c));}else if(n.a==0.0){gl_FragColor=o;if(dist<radius-c){gl_FragColor.a=gl_FragColor.a-(radius-c-dist);}} else{gl_FragColor=n;float strokeDist=radius-c;float antialias=2.0*d;if(dist>strokeDist){gl_FragColor=o;}else if(dist>=strokeDist-antialias){float step=smoothstep(strokeDist-antialias,strokeDist,dist);gl_FragColor=mix(n,o,step);}} gl_FragColor.a=gl_FragColor.a*m;if(gl_FragColor.a<=0.0){discard;}}");exports.fragment=a;var n=new t.default(i.DEBUG?"varying vec2 v_center;\nvarying vec2 v_offset;\nvarying float v_halfWidth;\nvarying float v_pixelRatio;\n\n\nattribute vec2 a_position;\nattribute float a_instruction;\nattribute float a_radius;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_lineWidth;\nuniform float u_pixelRatio;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  v_center = vec4(u_projectionMatrix * vec4(a_position, 0.0, 1.0)).xy;\n  v_pixelRatio = u_pixelRatio;\n  float lineWidth = u_lineWidth * u_pixelRatio;\n  v_halfWidth = lineWidth / 2.0;\n  if (lineWidth == 0.0) {\n    lineWidth = 2.0 * u_pixelRatio;\n  }\n  vec2 offset;\n  // Radius with anitaliasing (roughly).\n  float radius = a_radius + 3.0 * u_pixelRatio;\n  // Until we get gl_VertexID in WebGL, we store an instruction.\n  if (a_instruction == 0.0) {\n    // Offsetting the edges of the triangle by lineWidth / 2 is necessary, however\n    // we should also leave some space for the antialiasing, thus we offset by lineWidth.\n    offset = vec2(-1.0, 1.0);\n  } else if (a_instruction == 1.0) {\n    offset = vec2(-1.0, -1.0);\n  } else if (a_instruction == 2.0) {\n    offset = vec2(1.0, -1.0);\n  } else {\n    offset = vec2(1.0, 1.0);\n  }\n\n  gl_Position = u_projectionMatrix * vec4(a_position + offset * radius, 0.0, 1.0) +\n      offsetMatrix * vec4(offset * lineWidth, 0.0, 0.0);\n  v_offset = vec4(u_projectionMatrix * vec4(a_position.x + a_radius, a_position.y,\n      0.0, 1.0)).xy;\n\n  if (distance(v_center, v_offset) > 20000.0) {\n    gl_Position = vec4(v_center, 0.0, 1.0);\n  }\n}\n\n\n":"varying vec2 a;varying vec2 b;varying float c;varying float d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;void main(void){mat4 offsetMatrix=i*j;a=vec4(h*vec4(e,0.0,1.0)).xy;d=l;float lineWidth=k*l;c=lineWidth/2.0;if(lineWidth==0.0){lineWidth=2.0*l;}vec2 offset;float radius=g+3.0*l;if(f==0.0){offset=vec2(-1.0,1.0);}else if(f==1.0){offset=vec2(-1.0,-1.0);}else if(f==2.0){offset=vec2(1.0,-1.0);}else{offset=vec2(1.0,1.0);}gl_Position=h*vec4(e+offset*radius,0.0,1.0)+offsetMatrix*vec4(offset*lineWidth,0.0,0.0);b=vec4(h*vec4(e.x+g,e.y,0.0,1.0)).xy;if(distance(a,b)>20000.0){gl_Position=vec4(a,0.0,1.0);}}");exports.vertex=n;
},{"../../../webgl.js":"SCyv","../../../webgl/Fragment.js":"SAYv","../../../webgl/Vertex.js":"mo14"}],"K5HK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../../../webgl.js"),i=function(i,o){this.u_projectionMatrix=i.getUniformLocation(o,t.DEBUG?"u_projectionMatrix":"h"),this.u_offsetScaleMatrix=i.getUniformLocation(o,t.DEBUG?"u_offsetScaleMatrix":"i"),this.u_offsetRotateMatrix=i.getUniformLocation(o,t.DEBUG?"u_offsetRotateMatrix":"j"),this.u_lineWidth=i.getUniformLocation(o,t.DEBUG?"u_lineWidth":"k"),this.u_pixelRatio=i.getUniformLocation(o,t.DEBUG?"u_pixelRatio":"l"),this.u_opacity=i.getUniformLocation(o,t.DEBUG?"u_opacity":"m"),this.u_fillColor=i.getUniformLocation(o,t.DEBUG?"u_fillColor":"n"),this.u_strokeColor=i.getUniformLocation(o,t.DEBUG?"u_strokeColor":"o"),this.u_size=i.getUniformLocation(o,t.DEBUG?"u_size":"p"),this.a_position=i.getAttribLocation(o,t.DEBUG?"a_position":"e"),this.a_instruction=i.getAttribLocation(o,t.DEBUG?"a_instruction":"f"),this.a_radius=i.getAttribLocation(o,t.DEBUG?"a_radius":"g")},o=i;exports.default=o;
},{"../../../../webgl.js":"SCyv"}],"UkOi":[function(require,module,exports) {
"use strict";function e(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function r(e,r){return e[0]=r[0],e[1]=r[1],e[4]=r[2],e[5]=r[3],e[12]=r[4],e[13]=r[5],e}Object.defineProperty(exports,"__esModule",{value:!0}),exports.create=e,exports.fromTransform=r;
},{}],"HMSc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../util.js"),e=require("../../extent.js"),r=s(require("../VectorContext.js")),i=require("../../transform.js"),a=require("../../vec/mat4.js"),n=require("../../webgl.js");function s(t){return t&&t.__esModule?t:{default:t}}var o=function(r){function s(t,n){r.call(this),this.tolerance=t,this.maxExtent=n,this.origin=(0,e.getCenter)(n),this.projectionMatrix_=(0,i.create)(),this.offsetRotateMatrix_=(0,i.create)(),this.offsetScaleMatrix_=(0,i.create)(),this.tmpMat4_=(0,a.create)(),this.indices=[],this.indicesBuffer=null,this.startIndices=[],this.startIndicesFeature=[],this.vertices=[],this.verticesBuffer=null,this.lineStringReplay=void 0}return r&&(s.__proto__=r),s.prototype=Object.create(r&&r.prototype),s.prototype.constructor=s,s.prototype.getDeleteResourcesFunction=function(e){return(0,t.abstract)()},s.prototype.finish=function(e){(0,t.abstract)()},s.prototype.setUpProgram=function(e,r,i,a){return(0,t.abstract)()},s.prototype.shutDownProgram=function(e,r){(0,t.abstract)()},s.prototype.drawReplay=function(e,r,i,a){(0,t.abstract)()},s.prototype.drawHitDetectionReplayOneByOne=function(e,r,i,a,n){return(0,t.abstract)()},s.prototype.drawHitDetectionReplay=function(t,e,r,i,a,n){return a?this.drawHitDetectionReplayOneByOne(t,e,r,i,n):this.drawHitDetectionReplayAll(t,e,r,i)},s.prototype.drawHitDetectionReplayAll=function(t,e,r,i){t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),this.drawReplay(t,e,r,!0);var a=i(null);return a||void 0},s.prototype.replay=function(t,e,r,s,o,c,l,u,f,p,_){var E,h,S,T,d,R,m,y,I=t.getGL();this.lineStringReplay&&(E=I.isEnabled(I.STENCIL_TEST),h=I.getParameter(I.STENCIL_FUNC),S=I.getParameter(I.STENCIL_VALUE_MASK),T=I.getParameter(I.STENCIL_REF),d=I.getParameter(I.STENCIL_WRITEMASK),R=I.getParameter(I.STENCIL_FAIL),m=I.getParameter(I.STENCIL_PASS_DEPTH_PASS),y=I.getParameter(I.STENCIL_PASS_DEPTH_FAIL),I.enable(I.STENCIL_TEST),I.clear(I.STENCIL_BUFFER_BIT),I.stencilMask(255),I.stencilFunc(I.ALWAYS,1,255),I.stencilOp(I.KEEP,I.KEEP,I.REPLACE),this.lineStringReplay.replay(t,e,r,s,o,c,l,u,f,p,_),I.stencilMask(0),I.stencilFunc(I.NOTEQUAL,1,255)),t.bindBuffer(n.ARRAY_BUFFER,this.verticesBuffer),t.bindBuffer(n.ELEMENT_ARRAY_BUFFER,this.indicesBuffer);var M=this.setUpProgram(I,t,o,c),g=(0,i.reset)(this.projectionMatrix_);(0,i.scale)(g,2/(r*o[0]),2/(r*o[1])),(0,i.rotate)(g,-s),(0,i.translate)(g,-(e[0]-this.origin[0]),-(e[1]-this.origin[1]));var L=(0,i.reset)(this.offsetScaleMatrix_);(0,i.scale)(L,2/o[0],2/o[1]);var x,F=(0,i.reset)(this.offsetRotateMatrix_);return 0!==s&&(0,i.rotate)(F,-s),I.uniformMatrix4fv(M.u_projectionMatrix,!1,(0,a.fromTransform)(this.tmpMat4_,g)),I.uniformMatrix4fv(M.u_offsetScaleMatrix,!1,(0,a.fromTransform)(this.tmpMat4_,L)),I.uniformMatrix4fv(M.u_offsetRotateMatrix,!1,(0,a.fromTransform)(this.tmpMat4_,F)),I.uniform1f(M.u_opacity,l),void 0===f?this.drawReplay(I,t,u,!1):x=this.drawHitDetectionReplay(I,t,u,f,p,_),this.shutDownProgram(I,M),this.lineStringReplay&&(E||I.disable(I.STENCIL_TEST),I.clear(I.STENCIL_BUFFER_BIT),I.stencilFunc(h,T,S),I.stencilMask(d),I.stencilOp(R,y,m)),x},s.prototype.drawElements=function(t,e,r,i){var a=e.hasOESElementIndexUint?n.UNSIGNED_INT:n.UNSIGNED_SHORT,s=i-r,o=r*(e.hasOESElementIndexUint?4:2);t.drawElements(n.TRIANGLES,s,a,o)},s}(r.default),c=o;exports.default=c;
},{"../../util.js":"KniQ","../../extent.js":"QDir","../VectorContext.js":"4LQ/","../../transform.js":"P4eA","../../vec/mat4.js":"UkOi","../../webgl.js":"SCyv"}],"7DIo":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.triangleIsCounterClockwise=exports.EPSILON=exports.DEFAULT_LINEWIDTH=exports.DEFAULT_TEXTBASELINE=exports.DEFAULT_TEXTALIGN=exports.DEFAULT_STROKESTYLE=exports.DEFAULT_MITERLIMIT=exports.DEFAULT_LINEJOIN=exports.DEFAULT_LINEDASHOFFSET=exports.DEFAULT_LINEDASH=exports.DEFAULT_LINECAP=exports.DEFAULT_FILLSTYLE=exports.DEFAULT_FONT=void 0;var r="10px sans-serif";exports.DEFAULT_FONT=r;var E=[0,0,0,1];exports.DEFAULT_FILLSTYLE=E;var L="round";exports.DEFAULT_LINECAP=L;var T=[];exports.DEFAULT_LINEDASH=T;var e=0;exports.DEFAULT_LINEDASHOFFSET=e;var o="round";exports.DEFAULT_LINEJOIN=o;var s=10;exports.DEFAULT_MITERLIMIT=s;var t=[0,0,0,1];exports.DEFAULT_STROKESTYLE=t;var A=.5;exports.DEFAULT_TEXTALIGN=A;var I=.5;exports.DEFAULT_TEXTBASELINE=I;var F=1;exports.DEFAULT_LINEWIDTH=F;var p=Number.EPSILON||2.220446049250313e-16;exports.EPSILON=p;var x=function(r,E,L,T,e,o){var s=(L-r)*(o-E)-(e-r)*(T-E);return s<=p&&s>=-p?void 0:s>0};exports.triangleIsCounterClockwise=x;
},{}],"zsRd":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../webgl.js"),t={STATIC_DRAW:e.STATIC_DRAW,STREAM_DRAW:e.STREAM_DRAW,DYNAMIC_DRAW:e.DYNAMIC_DRAW},r=function(e,r){this.arr_=void 0!==e?e:[],this.usage_=void 0!==r?r:t.STATIC_DRAW};r.prototype.getArray=function(){return this.arr_},r.prototype.getUsage=function(){return this.usage_};var o=r;exports.default=o;
},{"../webgl.js":"SCyv"}],"sHZH":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../util.js"),e=require("../../array.js"),s=require("../../color.js"),i=require("../../extent.js"),r=require("../../obj.js"),n=require("../../geom/flat/transform.js"),a=require("./circlereplay/defaultshader.js"),o=u(require("./circlereplay/defaultshader/Locations.js")),l=u(require("./Replay.js")),h=require("../webgl.js"),c=require("../../webgl.js"),d=u(require("../../webgl/Buffer.js"));function u(t){return t&&t.__esModule?t:{default:t}}var _=function(l){function u(t,e){l.call(this,t,e),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.radius_=0,this.state_={fillColor:null,strokeColor:null,lineDash:null,lineDashOffset:void 0,lineWidth:void 0,changed:!1}}return l&&(u.__proto__=l),u.prototype=Object.create(l&&l.prototype),u.prototype.constructor=u,u.prototype.drawCoordinates_=function(t,e,s,i){var r,n,a=this.vertices.length,o=this.indices.length,l=a/4;for(r=e,n=s;r<n;r+=i)this.vertices[a++]=t[r],this.vertices[a++]=t[r+1],this.vertices[a++]=0,this.vertices[a++]=this.radius_,this.vertices[a++]=t[r],this.vertices[a++]=t[r+1],this.vertices[a++]=1,this.vertices[a++]=this.radius_,this.vertices[a++]=t[r],this.vertices[a++]=t[r+1],this.vertices[a++]=2,this.vertices[a++]=this.radius_,this.vertices[a++]=t[r],this.vertices[a++]=t[r+1],this.vertices[a++]=3,this.vertices[a++]=this.radius_,this.indices[o++]=l,this.indices[o++]=l+1,this.indices[o++]=l+2,this.indices[o++]=l+2,this.indices[o++]=l+3,this.indices[o++]=l,l+=4},u.prototype.drawCircle=function(t,e){var s=t.getRadius(),i=t.getStride();if(s){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.radius_=s;var r=t.getFlatCoordinates();r=(0,n.translate)(r,0,2,i,-this.origin[0],-this.origin[1]),this.drawCoordinates_(r,0,2,i)}else if(this.state_.changed&&(this.styles_.pop(),this.styles_.length)){var a=this.styles_[this.styles_.length-1];this.state_.fillColor=a[0],this.state_.strokeColor=a[1],this.state_.lineWidth=a[2],this.state_.changed=!1}},u.prototype.finish=function(t){this.verticesBuffer=new d.default(this.vertices),this.indicesBuffer=new d.default(this.indices),this.startIndices.push(this.indices.length),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},u.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,s=this.indicesBuffer;return function(){t.deleteBuffer(e),t.deleteBuffer(s)}},u.prototype.setUpProgram=function(t,e,s,i){var r,n=e.getProgram(a.fragment,a.vertex);return this.defaultLocations_?r=this.defaultLocations_:(r=new o.default(t,n),this.defaultLocations_=r),e.useProgram(n),t.enableVertexAttribArray(r.a_position),t.vertexAttribPointer(r.a_position,2,c.FLOAT,!1,16,0),t.enableVertexAttribArray(r.a_instruction),t.vertexAttribPointer(r.a_instruction,1,c.FLOAT,!1,16,8),t.enableVertexAttribArray(r.a_radius),t.vertexAttribPointer(r.a_radius,1,c.FLOAT,!1,16,12),t.uniform2fv(r.u_size,s),t.uniform1f(r.u_pixelRatio,i),r},u.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_position),t.disableVertexAttribArray(e.a_instruction),t.disableVertexAttribArray(e.a_radius)},u.prototype.drawReplay=function(t,e,s,i){var n,a,o,l;if((0,r.isEmpty)(s))for(o=this.startIndices[this.startIndices.length-1],n=this.styleIndices_.length-1;n>=0;--n)a=this.styleIndices_[n],l=this.styles_[n],this.setFillStyle_(t,l[0]),this.setStrokeStyle_(t,l[1],l[2]),this.drawElements(t,e,a,o),o=a;else this.drawReplaySkipping_(t,e,s)},u.prototype.drawHitDetectionReplayOneByOne=function(e,s,r,n,a){var o,l,h,c,d,u,_;for(_=this.startIndices.length-2,h=this.startIndices[_+1],o=this.styleIndices_.length-1;o>=0;--o)for(c=this.styles_[o],this.setFillStyle_(e,c[0]),this.setStrokeStyle_(e,c[1],c[2]),d=this.styleIndices_[o];_>=0&&this.startIndices[_]>=d;){if(l=this.startIndices[_],u=this.startIndicesFeature[_],void 0===r[(0,t.getUid)(u)]&&u.getGeometry()&&(void 0===a||(0,i.intersects)(a,u.getGeometry().getExtent()))){e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),this.drawElements(e,s,l,h);var f=n(u);if(f)return f}_--,h=l}},u.prototype.drawReplaySkipping_=function(e,s,i){var r,n,a,o,l,h,c,d;for(c=this.startIndices.length-2,a=n=this.startIndices[c+1],r=this.styleIndices_.length-1;r>=0;--r){for(o=this.styles_[r],this.setFillStyle_(e,o[0]),this.setStrokeStyle_(e,o[1],o[2]),l=this.styleIndices_[r];c>=0&&this.startIndices[c]>=l;)d=this.startIndices[c],h=this.startIndicesFeature[c],i[(0,t.getUid)(h)]&&(n!==a&&this.drawElements(e,s,n,a),a=d),c--,n=d;n!==a&&this.drawElements(e,s,n,a),n=a=l}},u.prototype.setFillStyle_=function(t,e){t.uniform4fv(this.defaultLocations_.u_fillColor,e)},u.prototype.setStrokeStyle_=function(t,e,s){t.uniform4fv(this.defaultLocations_.u_strokeColor,e),t.uniform1f(this.defaultLocations_.u_lineWidth,s)},u.prototype.setFillStrokeStyle=function(t,i){var r,n;if(i){var a=i.getLineDash();this.state_.lineDash=a||h.DEFAULT_LINEDASH;var o=i.getLineDashOffset();this.state_.lineDashOffset=o||h.DEFAULT_LINEDASHOFFSET,r=(r=i.getColor())instanceof CanvasGradient||r instanceof CanvasPattern?h.DEFAULT_STROKESTYLE:(0,s.asArray)(r).map(function(t,e){return 3!=e?t/255:t})||h.DEFAULT_STROKESTYLE,n=void 0!==(n=i.getWidth())?n:h.DEFAULT_LINEWIDTH}else r=[0,0,0,0],n=0;var l=t?t.getColor():[0,0,0,0];l=l instanceof CanvasGradient||l instanceof CanvasPattern?h.DEFAULT_FILLSTYLE:(0,s.asArray)(l).map(function(t,e){return 3!=e?t/255:t})||h.DEFAULT_FILLSTYLE,this.state_.strokeColor&&(0,e.equals)(this.state_.strokeColor,r)&&this.state_.fillColor&&(0,e.equals)(this.state_.fillColor,l)&&this.state_.lineWidth===n||(this.state_.changed=!0,this.state_.fillColor=l,this.state_.strokeColor=r,this.state_.lineWidth=n,this.styles_.push([l,r,n]))},u}(l.default),f=_;exports.default=f;
},{"../../util.js":"KniQ","../../array.js":"luEr","../../color.js":"eucy","../../extent.js":"QDir","../../obj.js":"mH6q","../../geom/flat/transform.js":"LGwr","./circlereplay/defaultshader.js":"GZAE","./circlereplay/defaultshader/Locations.js":"K5HK","./Replay.js":"HMSc","../webgl.js":"7DIo","../../webgl.js":"SCyv","../../webgl/Buffer.js":"zsRd"}],"DqLP":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.vertex=exports.fragment=void 0;var t=require("../../../webgl.js"),a=o(require("../../../webgl/Fragment.js")),e=o(require("../../../webgl/Vertex.js"));function o(t){return t&&t.__esModule?t:{default:t}}var r=new a.default(t.DEBUG?"precision mediump float;\nvarying vec2 v_texCoord;\nvarying float v_opacity;\n\nuniform float u_opacity;\nuniform sampler2D u_image;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  float alpha = texColor.a * v_opacity * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;varying vec2 a;varying float b;uniform float k;uniform sampler2D l;void main(void){vec4 texColor=texture2D(l,a);gl_FragColor.rgb=texColor.rgb;float alpha=texColor.a*b*k;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}");exports.fragment=r;var i=new e.default(t.DEBUG?"varying vec2 v_texCoord;\nvarying float v_opacity;\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nattribute vec2 a_offsets;\nattribute float a_opacity;\nattribute float a_rotateWithView;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  mat4 offsetMatrix = u_offsetScaleMatrix;\n  if (a_rotateWithView == 1.0) {\n    offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  }\n  vec4 offsets = offsetMatrix * vec4(a_offsets, 0.0, 0.0);\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0) + offsets;\n  v_texCoord = a_texCoord;\n  v_opacity = a_opacity;\n}\n\n\n":"varying vec2 a;varying float b;attribute vec2 c;attribute vec2 d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;void main(void){mat4 offsetMatrix=i;if(g==1.0){offsetMatrix=i*j;}vec4 offsets=offsetMatrix*vec4(e,0.0,0.0);gl_Position=h*vec4(c,0.0,1.0)+offsets;a=d;b=f;}");exports.vertex=i;
},{"../../../webgl.js":"SCyv","../../../webgl/Fragment.js":"SAYv","../../../webgl/Vertex.js":"mo14"}],"ieq5":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../../../webgl.js"),i=function(i,o){this.u_projectionMatrix=i.getUniformLocation(o,t.DEBUG?"u_projectionMatrix":"h"),this.u_offsetScaleMatrix=i.getUniformLocation(o,t.DEBUG?"u_offsetScaleMatrix":"i"),this.u_offsetRotateMatrix=i.getUniformLocation(o,t.DEBUG?"u_offsetRotateMatrix":"j"),this.u_opacity=i.getUniformLocation(o,t.DEBUG?"u_opacity":"k"),this.u_image=i.getUniformLocation(o,t.DEBUG?"u_image":"l"),this.a_position=i.getAttribLocation(o,t.DEBUG?"a_position":"c"),this.a_texCoord=i.getAttribLocation(o,t.DEBUG?"a_texCoord":"d"),this.a_offsets=i.getAttribLocation(o,t.DEBUG?"a_offsets":"e"),this.a_opacity=i.getAttribLocation(o,t.DEBUG?"a_opacity":"f"),this.a_rotateWithView=i.getAttribLocation(o,t.DEBUG?"a_rotateWithView":"g")},o=i;exports.default=o;
},{"../../../../webgl.js":"SCyv"}],"HqWy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={LOST:"webglcontextlost",RESTORED:"webglcontextrestored"};exports.default=e;
},{}],"2nJO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createEmptyTexture=s,exports.createTexture=c,exports.default=void 0;var e=require("../util.js"),t=require("../webgl.js"),r=h(require("../Disposable.js")),i=require("../array.js"),n=require("../events.js"),a=require("../obj.js"),u=h(require("../webgl/ContextEventType.js"));function h(e){return e&&e.__esModule?e:{default:e}}var f=function(r){function h(e,a){r.call(this),this.canvas_=e,this.gl_=a,this.bufferCache_={},this.shaderCache_={},this.programCache_={},this.currentProgram_=null,this.hitDetectionFramebuffer_=null,this.hitDetectionTexture_=null,this.hitDetectionRenderbuffer_=null,this.hasOESElementIndexUint=(0,i.includes)(t.EXTENSIONS,"OES_element_index_uint"),this.hasOESElementIndexUint&&a.getExtension("OES_element_index_uint"),(0,n.listen)(this.canvas_,u.default.LOST,this.handleWebGLContextLost,this),(0,n.listen)(this.canvas_,u.default.RESTORED,this.handleWebGLContextRestored,this)}return r&&(h.__proto__=r),h.prototype=Object.create(r&&r.prototype),h.prototype.constructor=h,h.prototype.bindBuffer=function(r,i){var n=this.getGL(),a=i.getArray(),u=(0,e.getUid)(i);if(u in this.bufferCache_){var h=this.bufferCache_[u];n.bindBuffer(r,h.buffer)}else{var f,o=n.createBuffer();n.bindBuffer(r,o),r==t.ARRAY_BUFFER?f=new Float32Array(a):r==t.ELEMENT_ARRAY_BUFFER&&(f=this.hasOESElementIndexUint?new Uint32Array(a):new Uint16Array(a)),n.bufferData(r,f,i.getUsage()),this.bufferCache_[u]={buf:i,buffer:o}}},h.prototype.deleteBuffer=function(t){var r=this.getGL(),i=(0,e.getUid)(t),n=this.bufferCache_[i];r.isContextLost()||r.deleteBuffer(n.buffer),delete this.bufferCache_[i]},h.prototype.disposeInternal=function(){(0,n.unlistenAll)(this.canvas_);var e=this.getGL();if(!e.isContextLost()){for(var t in this.bufferCache_)e.deleteBuffer(this.bufferCache_[t].buffer);for(var r in this.programCache_)e.deleteProgram(this.programCache_[r]);for(var i in this.shaderCache_)e.deleteShader(this.shaderCache_[i]);e.deleteFramebuffer(this.hitDetectionFramebuffer_),e.deleteRenderbuffer(this.hitDetectionRenderbuffer_),e.deleteTexture(this.hitDetectionTexture_)}},h.prototype.getCanvas=function(){return this.canvas_},h.prototype.getGL=function(){return this.gl_},h.prototype.getHitDetectionFramebuffer=function(){return this.hitDetectionFramebuffer_||this.initHitDetectionFramebuffer_(),this.hitDetectionFramebuffer_},h.prototype.getShader=function(t){var r=(0,e.getUid)(t);if(r in this.shaderCache_)return this.shaderCache_[r];var i=this.getGL(),n=i.createShader(t.getType());return i.shaderSource(n,t.getSource()),i.compileShader(n),this.shaderCache_[r]=n,n},h.prototype.getProgram=function(t,r){var i=(0,e.getUid)(t)+"/"+(0,e.getUid)(r);if(i in this.programCache_)return this.programCache_[i];var n=this.getGL(),a=n.createProgram();return n.attachShader(a,this.getShader(t)),n.attachShader(a,this.getShader(r)),n.linkProgram(a),this.programCache_[i]=a,a},h.prototype.handleWebGLContextLost=function(){(0,a.clear)(this.bufferCache_),(0,a.clear)(this.shaderCache_),(0,a.clear)(this.programCache_),this.currentProgram_=null,this.hitDetectionFramebuffer_=null,this.hitDetectionTexture_=null,this.hitDetectionRenderbuffer_=null},h.prototype.handleWebGLContextRestored=function(){},h.prototype.initHitDetectionFramebuffer_=function(){var e=this.gl_,t=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,t);var r=s(e,1,1),i=e.createRenderbuffer();e.bindRenderbuffer(e.RENDERBUFFER,i),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,1,1),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,i),e.bindTexture(e.TEXTURE_2D,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null),this.hitDetectionFramebuffer_=t,this.hitDetectionTexture_=r,this.hitDetectionRenderbuffer_=i},h.prototype.useProgram=function(e){return e!=this.currentProgram_&&(this.getGL().useProgram(e),this.currentProgram_=e,!0)},h}(r.default);function o(e,r,i){var n=e.createTexture();return e.bindTexture(e.TEXTURE_2D,n),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),void 0!==r&&e.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,r),void 0!==i&&e.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,i),n}function s(e,t,r,i,n){var a=o(e,i,n);return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,r,0,e.RGBA,e.UNSIGNED_BYTE,null),a}function c(e,t,r,i){var n=o(e,r,i);return e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),n}var _=f;exports.default=_;
},{"../util.js":"KniQ","../webgl.js":"SCyv","../Disposable.js":"DDda","../array.js":"luEr","../events.js":"55Uq","../obj.js":"mH6q","../webgl/ContextEventType.js":"HqWy"}],"rtlq":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../util.js"),e=require("../../extent.js"),i=require("../../obj.js"),r=require("./texturereplay/defaultshader.js"),s=a(require("./texturereplay/defaultshader/Locations.js")),o=a(require("./Replay.js")),h=require("../../webgl.js"),n=require("../../webgl/Context.js");function a(t){return t&&t.__esModule?t:{default:t}}var c=function(o){function a(t,e){o.call(this,t,e),this.anchorX=void 0,this.anchorY=void 0,this.groupIndices=[],this.hitDetectionGroupIndices=[],this.height=void 0,this.imageHeight=void 0,this.imageWidth=void 0,this.defaultLocations=null,this.opacity=void 0,this.originX=void 0,this.originY=void 0,this.rotateWithView=void 0,this.rotation=void 0,this.scale=void 0,this.width=void 0}return o&&(a.__proto__=o),a.prototype=Object.create(o&&o.prototype),a.prototype.constructor=a,a.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,i=this.indicesBuffer,r=this.getTextures(!0),s=t.getGL();return function(){var o,h;if(!s.isContextLost())for(o=0,h=r.length;o<h;++o)s.deleteTexture(r[o]);t.deleteBuffer(e),t.deleteBuffer(i)}},a.prototype.drawCoordinates=function(t,e,i,r){var s,o,h,n,a,c,d=this.anchorX,v=this.anchorY,u=this.height,l=this.imageHeight,p=this.imageWidth,g=this.opacity,f=this.originX,y=this.originY,x=this.rotateWithView?1:0,b=-this.rotation,_=this.scale,A=this.width,T=Math.cos(b),w=Math.sin(b),E=this.indices.length,I=this.vertices.length;for(s=e;s<i;s+=r)a=t[s]-this.origin[0],c=t[s+1]-this.origin[1],o=I/8,h=-_*d,n=-_*(u-v),this.vertices[I++]=a,this.vertices[I++]=c,this.vertices[I++]=h*T-n*w,this.vertices[I++]=h*w+n*T,this.vertices[I++]=f/p,this.vertices[I++]=(y+u)/l,this.vertices[I++]=g,this.vertices[I++]=x,h=_*(A-d),n=-_*(u-v),this.vertices[I++]=a,this.vertices[I++]=c,this.vertices[I++]=h*T-n*w,this.vertices[I++]=h*w+n*T,this.vertices[I++]=(f+A)/p,this.vertices[I++]=(y+u)/l,this.vertices[I++]=g,this.vertices[I++]=x,h=_*(A-d),n=_*v,this.vertices[I++]=a,this.vertices[I++]=c,this.vertices[I++]=h*T-n*w,this.vertices[I++]=h*w+n*T,this.vertices[I++]=(f+A)/p,this.vertices[I++]=y/l,this.vertices[I++]=g,this.vertices[I++]=x,h=-_*d,n=_*v,this.vertices[I++]=a,this.vertices[I++]=c,this.vertices[I++]=h*T-n*w,this.vertices[I++]=h*w+n*T,this.vertices[I++]=f/p,this.vertices[I++]=y/l,this.vertices[I++]=g,this.vertices[I++]=x,this.indices[E++]=o,this.indices[E++]=o+1,this.indices[E++]=o+2,this.indices[E++]=o,this.indices[E++]=o+2,this.indices[E++]=o+3;return I},a.prototype.createTextures=function(e,i,r,s){var o,a,c,d,v=i.length;for(d=0;d<v;++d)a=i[d],(c=(0,t.getUid)(a))in r?o=r[c]:(o=(0,n.createTexture)(s,a,h.CLAMP_TO_EDGE,h.CLAMP_TO_EDGE),r[c]=o),e[d]=o},a.prototype.setUpProgram=function(t,e,i,o){var n,a=e.getProgram(r.fragment,r.vertex);return this.defaultLocations?n=this.defaultLocations:(n=new s.default(t,a),this.defaultLocations=n),e.useProgram(a),t.enableVertexAttribArray(n.a_position),t.vertexAttribPointer(n.a_position,2,h.FLOAT,!1,32,0),t.enableVertexAttribArray(n.a_offsets),t.vertexAttribPointer(n.a_offsets,2,h.FLOAT,!1,32,8),t.enableVertexAttribArray(n.a_texCoord),t.vertexAttribPointer(n.a_texCoord,2,h.FLOAT,!1,32,16),t.enableVertexAttribArray(n.a_opacity),t.vertexAttribPointer(n.a_opacity,1,h.FLOAT,!1,32,24),t.enableVertexAttribArray(n.a_rotateWithView),t.vertexAttribPointer(n.a_rotateWithView,1,h.FLOAT,!1,32,28),n},a.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_position),t.disableVertexAttribArray(e.a_offsets),t.disableVertexAttribArray(e.a_texCoord),t.disableVertexAttribArray(e.a_opacity),t.disableVertexAttribArray(e.a_rotateWithView)},a.prototype.drawReplay=function(t,e,r,s){var o,n,a,c=s?this.getHitDetectionTextures():this.getTextures(),d=s?this.hitDetectionGroupIndices:this.groupIndices;if((0,i.isEmpty)(r))for(o=0,n=c.length,a=0;o<n;++o){t.bindTexture(h.TEXTURE_2D,c[o]);var v=d[o];this.drawElements(t,e,a,v),a=v}else this.drawReplaySkipping(t,e,r,c,d)},a.prototype.drawReplaySkipping=function(e,i,r,s,o){var n,a,c=0;for(n=0,a=s.length;n<a;++n){e.bindTexture(h.TEXTURE_2D,s[n]);for(var d=n>0?o[n-1]:0,v=o[n],u=d,l=d;c<this.startIndices.length&&this.startIndices[c]<=v;){var p=this.startIndicesFeature[c];void 0!==r[(0,t.getUid)(p)]?(u!==l&&this.drawElements(e,i,u,l),l=u=c===this.startIndices.length-1?v:this.startIndices[c+1]):l=c===this.startIndices.length-1?v:this.startIndices[c+1],c++}u!==l&&this.drawElements(e,i,u,l)}},a.prototype.drawHitDetectionReplayOneByOne=function(i,r,s,o,n){var a,c,d,v,u,l=this.startIndices.length-1,p=this.getHitDetectionTextures();for(a=p.length-1;a>=0;--a)for(i.bindTexture(h.TEXTURE_2D,p[a]),c=a>0?this.hitDetectionGroupIndices[a-1]:0,v=this.hitDetectionGroupIndices[a];l>=0&&this.startIndices[l]>=c;){if(d=this.startIndices[l],u=this.startIndicesFeature[l],void 0===s[(0,t.getUid)(u)]&&u.getGeometry()&&(void 0===n||(0,e.intersects)(n,u.getGeometry().getExtent()))){i.clear(i.COLOR_BUFFER_BIT|i.DEPTH_BUFFER_BIT),this.drawElements(i,r,d,v);var g=o(u);if(g)return g}v=d,l--}},a.prototype.finish=function(t){this.anchorX=void 0,this.anchorY=void 0,this.height=void 0,this.imageHeight=void 0,this.imageWidth=void 0,this.indices=null,this.opacity=void 0,this.originX=void 0,this.originY=void 0,this.rotateWithView=void 0,this.rotation=void 0,this.scale=void 0,this.vertices=null,this.width=void 0},a.prototype.getTextures=function(e){return(0,t.abstract)()},a.prototype.getHitDetectionTextures=function(){return(0,t.abstract)()},a}(o.default),d=c;exports.default=d;
},{"../../util.js":"KniQ","../../extent.js":"QDir","../../obj.js":"mH6q","./texturereplay/defaultshader.js":"DqLP","./texturereplay/defaultshader/Locations.js":"ieq5","./Replay.js":"HMSc","../../webgl.js":"SCyv","../../webgl/Context.js":"2nJO"}],"cwcG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../util.js"),e=s(require("./TextureReplay.js")),i=s(require("../../webgl/Buffer.js"));function s(t){return t&&t.__esModule?t:{default:t}}var h=function(e){function s(t,i){e.call(this,t,i),this.images_=[],this.hitDetectionImages_=[],this.textures_=[],this.hitDetectionTextures_=[]}return e&&(s.__proto__=e),s.prototype=Object.create(e&&e.prototype),s.prototype.constructor=s,s.prototype.drawMultiPoint=function(t,e){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e);var i=t.getFlatCoordinates(),s=t.getStride();this.drawCoordinates(i,0,i.length,s)},s.prototype.drawPoint=function(t,e){this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e);var i=t.getFlatCoordinates(),s=t.getStride();this.drawCoordinates(i,0,i.length,s)},s.prototype.finish=function(t){var s=t.getGL();this.groupIndices.push(this.indices.length),this.hitDetectionGroupIndices.push(this.indices.length),this.verticesBuffer=new i.default(this.vertices);var h=this.indices;this.indicesBuffer=new i.default(h);var r={};this.createTextures(this.textures_,this.images_,r,s),this.createTextures(this.hitDetectionTextures_,this.hitDetectionImages_,r,s),this.images_=null,this.hitDetectionImages_=null,e.prototype.finish.call(this,t)},s.prototype.setImageStyle=function(e){var i,s=e.getAnchor(),h=e.getImage(1),r=e.getImageSize(),n=e.getHitDetectionImage(1),o=e.getOpacity(),a=e.getOrigin(),u=e.getRotateWithView(),g=e.getRotation(),c=e.getSize(),p=e.getScale();0===this.images_.length?this.images_.push(h):(i=this.images_[this.images_.length-1],(0,t.getUid)(i)!=(0,t.getUid)(h)&&(this.groupIndices.push(this.indices.length),this.images_.push(h))),0===this.hitDetectionImages_.length?this.hitDetectionImages_.push(n):(i=this.hitDetectionImages_[this.hitDetectionImages_.length-1],(0,t.getUid)(i)!=(0,t.getUid)(n)&&(this.hitDetectionGroupIndices.push(this.indices.length),this.hitDetectionImages_.push(n))),this.anchorX=s[0],this.anchorY=s[1],this.height=c[1],this.imageHeight=r[1],this.imageWidth=r[0],this.opacity=o,this.originX=a[0],this.originY=a[1],this.rotation=g,this.rotateWithView=u,this.scale=p,this.width=c[0]},s.prototype.getTextures=function(t){return t?this.textures_.concat(this.hitDetectionTextures_):this.textures_},s.prototype.getHitDetectionTextures=function(){return this.hitDetectionTextures_},s}(e.default),r=h;exports.default=r;
},{"../../util.js":"KniQ","./TextureReplay.js":"rtlq","../../webgl/Buffer.js":"zsRd"}],"p6xK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.lineStringIsClosed=r;var e=require("./area.js");function r(r,t,i,n){var s=i-n;return r[t]===r[s]&&r[t+1]===r[s+1]&&(i-t)/n>3&&!!(0,e.linearRing)(r,t,i,n)}
},{"./area.js":"EOSm"}],"7YtU":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.vertex=exports.fragment=void 0;var e=require("../../../webgl.js"),o=n(require("../../../webgl/Fragment.js")),t=n(require("../../../webgl/Vertex.js"));function n(e){return e&&e.__esModule?e:{default:e}}var r=new o.default(e.DEBUG?"precision mediump float;\nvarying float v_round;\nvarying vec2 v_roundVertex;\nvarying float v_halfWidth;\n\n\n\nuniform float u_opacity;\nuniform vec4 u_color;\nuniform vec2 u_size;\nuniform float u_pixelRatio;\n\nvoid main(void) {\n  if (v_round > 0.0) {\n    vec2 windowCoords = vec2((v_roundVertex.x + 1.0) / 2.0 * u_size.x * u_pixelRatio,\n        (v_roundVertex.y + 1.0) / 2.0 * u_size.y * u_pixelRatio);\n    if (length(windowCoords - gl_FragCoord.xy) > v_halfWidth * u_pixelRatio) {\n      discard;\n    }\n  }\n  gl_FragColor = u_color;\n  float alpha = u_color.a * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;varying float a;varying vec2 aVertex;varying float c;uniform float m;uniform vec4 n;uniform vec2 o;uniform float p;void main(void){if(a>0.0){vec2 windowCoords=vec2((aVertex.x+1.0)/2.0*o.x*p,(aVertex.y+1.0)/2.0*o.y*p);if(length(windowCoords-gl_FragCoord.xy)>c*p){discard;}} gl_FragColor=n;float alpha=n.a*m;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}");exports.fragment=r;var i=new t.default(e.DEBUG?"varying float v_round;\nvarying vec2 v_roundVertex;\nvarying float v_halfWidth;\n\n\nattribute vec2 a_lastPos;\nattribute vec2 a_position;\nattribute vec2 a_nextPos;\nattribute float a_direction;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\nuniform float u_lineWidth;\nuniform float u_miterLimit;\n\nbool nearlyEquals(in float value, in float ref) {\n  float epsilon = 0.000000000001;\n  return value >= ref - epsilon && value <= ref + epsilon;\n}\n\nvoid alongNormal(out vec2 offset, in vec2 nextP, in float turnDir, in float direction) {\n  vec2 dirVect = nextP - a_position;\n  vec2 normal = normalize(vec2(-turnDir * dirVect.y, turnDir * dirVect.x));\n  offset = u_lineWidth / 2.0 * normal * direction;\n}\n\nvoid miterUp(out vec2 offset, out float round, in bool isRound, in float direction) {\n  float halfWidth = u_lineWidth / 2.0;\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 dirVect = a_nextPos - a_position;\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\n  float miterLength = abs(halfWidth / dot(normal, tmpNormal));\n  offset = normal * direction * miterLength;\n  round = 0.0;\n  if (isRound) {\n    round = 1.0;\n  } else if (miterLength > u_miterLimit + u_lineWidth) {\n    offset = halfWidth * tmpNormal * direction;\n  }\n}\n\nbool miterDown(out vec2 offset, in vec4 projPos, in mat4 offsetMatrix, in float direction) {\n  bool degenerate = false;\n  vec2 tangent = normalize(normalize(a_nextPos - a_position) + normalize(a_position - a_lastPos));\n  vec2 normal = vec2(-tangent.y, tangent.x);\n  vec2 dirVect = a_lastPos - a_position;\n  vec2 tmpNormal = normalize(vec2(-dirVect.y, dirVect.x));\n  vec2 longOffset, shortOffset, longVertex;\n  vec4 shortProjVertex;\n  float halfWidth = u_lineWidth / 2.0;\n  if (length(a_nextPos - a_position) > length(a_lastPos - a_position)) {\n    longOffset = tmpNormal * direction * halfWidth;\n    shortOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\n    longVertex = a_nextPos;\n    shortProjVertex = u_projectionMatrix * vec4(a_lastPos, 0.0, 1.0);\n  } else {\n    shortOffset = tmpNormal * direction * halfWidth;\n    longOffset = normalize(vec2(dirVect.y, -dirVect.x)) * direction * halfWidth;\n    longVertex = a_lastPos;\n    shortProjVertex = u_projectionMatrix * vec4(a_nextPos, 0.0, 1.0);\n  }\n  //Intersection algorithm based on theory by Paul Bourke (http://paulbourke.net/geometry/pointlineplane/).\n  vec4 p1 = u_projectionMatrix * vec4(longVertex, 0.0, 1.0) + offsetMatrix * vec4(longOffset, 0.0, 0.0);\n  vec4 p2 = projPos + offsetMatrix * vec4(longOffset, 0.0, 0.0);\n  vec4 p3 = shortProjVertex + offsetMatrix * vec4(-shortOffset, 0.0, 0.0);\n  vec4 p4 = shortProjVertex + offsetMatrix * vec4(shortOffset, 0.0, 0.0);\n  float denom = (p4.y - p3.y) * (p2.x - p1.x) - (p4.x - p3.x) * (p2.y - p1.y);\n  float firstU = ((p4.x - p3.x) * (p1.y - p3.y) - (p4.y - p3.y) * (p1.x - p3.x)) / denom;\n  float secondU = ((p2.x - p1.x) * (p1.y - p3.y) - (p2.y - p1.y) * (p1.x - p3.x)) / denom;\n  float epsilon = 0.000000000001;\n  if (firstU > epsilon && firstU < 1.0 - epsilon && secondU > epsilon && secondU < 1.0 - epsilon) {\n    shortProjVertex.x = p1.x + firstU * (p2.x - p1.x);\n    shortProjVertex.y = p1.y + firstU * (p2.y - p1.y);\n    offset = shortProjVertex.xy;\n    degenerate = true;\n  } else {\n    float miterLength = abs(halfWidth / dot(normal, tmpNormal));\n    offset = normal * direction * miterLength;\n  }\n  return degenerate;\n}\n\nvoid squareCap(out vec2 offset, out float round, in bool isRound, in vec2 nextP,\n    in float turnDir, in float direction) {\n  round = 0.0;\n  vec2 dirVect = a_position - nextP;\n  vec2 firstNormal = normalize(dirVect);\n  vec2 secondNormal = vec2(turnDir * firstNormal.y * direction, -turnDir * firstNormal.x * direction);\n  vec2 hypotenuse = normalize(firstNormal - secondNormal);\n  vec2 normal = vec2(turnDir * hypotenuse.y * direction, -turnDir * hypotenuse.x * direction);\n  float length = sqrt(v_halfWidth * v_halfWidth * 2.0);\n  offset = normal * length;\n  if (isRound) {\n    round = 1.0;\n  }\n}\n\nvoid main(void) {\n  bool degenerate = false;\n  float direction = float(sign(a_direction));\n  mat4 offsetMatrix = u_offsetScaleMatrix * u_offsetRotateMatrix;\n  vec2 offset;\n  vec4 projPos = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n  bool round = nearlyEquals(mod(a_direction, 2.0), 0.0);\n\n  v_round = 0.0;\n  v_halfWidth = u_lineWidth / 2.0;\n  v_roundVertex = projPos.xy;\n\n  if (nearlyEquals(mod(a_direction, 3.0), 0.0) || nearlyEquals(mod(a_direction, 17.0), 0.0)) {\n    alongNormal(offset, a_nextPos, 1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 5.0), 0.0) || nearlyEquals(mod(a_direction, 13.0), 0.0)) {\n    alongNormal(offset, a_lastPos, -1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 23.0), 0.0)) {\n    miterUp(offset, v_round, round, direction);\n  } else if (nearlyEquals(mod(a_direction, 19.0), 0.0)) {\n    degenerate = miterDown(offset, projPos, offsetMatrix, direction);\n  } else if (nearlyEquals(mod(a_direction, 7.0), 0.0)) {\n    squareCap(offset, v_round, round, a_nextPos, 1.0, direction);\n  } else if (nearlyEquals(mod(a_direction, 11.0), 0.0)) {\n    squareCap(offset, v_round, round, a_lastPos, -1.0, direction);\n  }\n  if (!degenerate) {\n    vec4 offsets = offsetMatrix * vec4(offset, 0.0, 0.0);\n    gl_Position = projPos + offsets;\n  } else {\n    gl_Position = vec4(offset, 0.0, 1.0);\n  }\n}\n\n\n":"varying float a;varying vec2 aVertex;varying float c;attribute vec2 d;attribute vec2 e;attribute vec2 f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;bool nearlyEquals(in float value,in float ref){float epsilon=0.000000000001;return value>=ref-epsilon&&value<=ref+epsilon;}void alongNormal(out vec2 offset,in vec2 nextP,in float turnDir,in float direction){vec2 dirVect=nextP-e;vec2 normal=normalize(vec2(-turnDir*dirVect.y,turnDir*dirVect.x));offset=k/2.0*normal*direction;}void miterUp(out vec2 offset,out float round,in bool isRound,in float direction){float halfWidth=k/2.0;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=f-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;round=0.0;if(isRound){round=1.0;}else if(miterLength>l+k){offset=halfWidth*tmpNormal*direction;}} bool miterDown(out vec2 offset,in vec4 projPos,in mat4 offsetMatrix,in float direction){bool degenerate=false;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=d-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));vec2 longOffset,shortOffset,longVertex;vec4 shortProjVertex;float halfWidth=k/2.0;if(length(f-e)>length(d-e)){longOffset=tmpNormal*direction*halfWidth;shortOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=f;shortProjVertex=h*vec4(d,0.0,1.0);}else{shortOffset=tmpNormal*direction*halfWidth;longOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=d;shortProjVertex=h*vec4(f,0.0,1.0);}vec4 p1=h*vec4(longVertex,0.0,1.0)+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p2=projPos+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p3=shortProjVertex+offsetMatrix*vec4(-shortOffset,0.0,0.0);vec4 p4=shortProjVertex+offsetMatrix*vec4(shortOffset,0.0,0.0);float denom=(p4.y-p3.y)*(p2.x-p1.x)-(p4.x-p3.x)*(p2.y-p1.y);float firstU=((p4.x-p3.x)*(p1.y-p3.y)-(p4.y-p3.y)*(p1.x-p3.x))/denom;float secondU=((p2.x-p1.x)*(p1.y-p3.y)-(p2.y-p1.y)*(p1.x-p3.x))/denom;float epsilon=0.000000000001;if(firstU>epsilon&&firstU<1.0-epsilon&&secondU>epsilon&&secondU<1.0-epsilon){shortProjVertex.x=p1.x+firstU*(p2.x-p1.x);shortProjVertex.y=p1.y+firstU*(p2.y-p1.y);offset=shortProjVertex.xy;degenerate=true;}else{float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;}return degenerate;}void squareCap(out vec2 offset,out float round,in bool isRound,in vec2 nextP,in float turnDir,in float direction){round=0.0;vec2 dirVect=e-nextP;vec2 firstNormal=normalize(dirVect);vec2 secondNormal=vec2(turnDir*firstNormal.y*direction,-turnDir*firstNormal.x*direction);vec2 hypotenuse=normalize(firstNormal-secondNormal);vec2 normal=vec2(turnDir*hypotenuse.y*direction,-turnDir*hypotenuse.x*direction);float length=sqrt(c*c*2.0);offset=normal*length;if(isRound){round=1.0;}} void main(void){bool degenerate=false;float direction=float(sign(g));mat4 offsetMatrix=i*j;vec2 offset;vec4 projPos=h*vec4(e,0.0,1.0);bool round=nearlyEquals(mod(g,2.0),0.0);a=0.0;c=k/2.0;aVertex=projPos.xy;if(nearlyEquals(mod(g,3.0),0.0)||nearlyEquals(mod(g,17.0),0.0)){alongNormal(offset,f,1.0,direction);}else if(nearlyEquals(mod(g,5.0),0.0)||nearlyEquals(mod(g,13.0),0.0)){alongNormal(offset,d,-1.0,direction);}else if(nearlyEquals(mod(g,23.0),0.0)){miterUp(offset,a,round,direction);}else if(nearlyEquals(mod(g,19.0),0.0)){degenerate=miterDown(offset,projPos,offsetMatrix,direction);}else if(nearlyEquals(mod(g,7.0),0.0)){squareCap(offset,a,round,f,1.0,direction);}else if(nearlyEquals(mod(g,11.0),0.0)){squareCap(offset,a,round,d,-1.0,direction);}if(!degenerate){vec4 offsets=offsetMatrix*vec4(offset,0.0,0.0);gl_Position=projPos+offsets;}else{gl_Position=vec4(offset,0.0,1.0);}}");exports.vertex=i;
},{"../../../webgl.js":"SCyv","../../../webgl/Fragment.js":"SAYv","../../../webgl/Vertex.js":"mo14"}],"EnqV":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../../../webgl.js"),i=function(i,o){this.u_projectionMatrix=i.getUniformLocation(o,t.DEBUG?"u_projectionMatrix":"h"),this.u_offsetScaleMatrix=i.getUniformLocation(o,t.DEBUG?"u_offsetScaleMatrix":"i"),this.u_offsetRotateMatrix=i.getUniformLocation(o,t.DEBUG?"u_offsetRotateMatrix":"j"),this.u_lineWidth=i.getUniformLocation(o,t.DEBUG?"u_lineWidth":"k"),this.u_miterLimit=i.getUniformLocation(o,t.DEBUG?"u_miterLimit":"l"),this.u_opacity=i.getUniformLocation(o,t.DEBUG?"u_opacity":"m"),this.u_color=i.getUniformLocation(o,t.DEBUG?"u_color":"n"),this.u_size=i.getUniformLocation(o,t.DEBUG?"u_size":"o"),this.u_pixelRatio=i.getUniformLocation(o,t.DEBUG?"u_pixelRatio":"p"),this.a_lastPos=i.getAttribLocation(o,t.DEBUG?"a_lastPos":"d"),this.a_position=i.getAttribLocation(o,t.DEBUG?"a_position":"e"),this.a_nextPos=i.getAttribLocation(o,t.DEBUG?"a_nextPos":"f"),this.a_direction=i.getAttribLocation(o,t.DEBUG?"a_direction":"g")},o=i;exports.default=o;
},{"../../../../webgl.js":"SCyv"}],"Nu72":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../util.js"),e=require("../../array.js"),i=require("../../color.js"),s=require("../../extent.js"),r=require("../../geom/flat/orient.js"),n=require("../../geom/flat/transform.js"),a=require("../../geom/flat/topology.js"),h=require("../../obj.js"),o=require("../webgl.js"),d=f(require("./Replay.js")),l=require("./linestringreplay/defaultshader.js"),c=f(require("./linestringreplay/defaultshader/Locations.js")),_=require("../../webgl.js"),u=f(require("../../webgl/Buffer.js"));function f(t){return t&&t.__esModule?t:{default:t}}var g={ROUND:2,BEGIN_LINE:3,END_LINE:5,BEGIN_LINE_CAP:7,END_LINE_CAP:11,BEVEL_FIRST:13,BEVEL_SECOND:17,MITER_BOTTOM:19,MITER_TOP:23},p=function(d){function f(t,e){d.call(this,t,e),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0,changed:!1}}return d&&(f.__proto__=d),f.prototype=Object.create(d&&d.prototype),f.prototype.constructor=f,f.prototype.drawCoordinates_=function(t,i,s,n){var h,d,l,c,_,u,f,p,E=this.vertices.length,I=this.indices.length,y="bevel"===this.state_.lineJoin?0:"miter"===this.state_.lineJoin?1:2,v="butt"===this.state_.lineCap?0:"square"===this.state_.lineCap?1:2,L=(0,a.lineStringIsClosed)(t,i,s,n),T=I,A=1;for(h=i,d=s;h<d;h+=n){if(_=E/7,u=f,f=p||[t[h],t[h+1]],h===i){if(p=[t[h+n],t[h+n+1]],s-i==2*n&&(0,e.equals)(f,p))break;if(!L){v&&(E=this.addVertices_([0,0],f,p,A*g.BEGIN_LINE_CAP*v,E),E=this.addVertices_([0,0],f,p,-A*g.BEGIN_LINE_CAP*v,E),this.indices[I++]=_+2,this.indices[I++]=_,this.indices[I++]=_+1,this.indices[I++]=_+1,this.indices[I++]=_+3,this.indices[I++]=_+2),E=this.addVertices_([0,0],f,p,A*g.BEGIN_LINE*(v||1),E),T=(E=this.addVertices_([0,0],f,p,-A*g.BEGIN_LINE*(v||1),E))/7-1;continue}u=[t[s-2*n],t[s-2*n+1]],l=p}else{if(h===s-n){if(L){p=l;break}u=u||[0,0],E=this.addVertices_(u,f,[0,0],A*g.END_LINE*(v||1),E),E=this.addVertices_(u,f,[0,0],-A*g.END_LINE*(v||1),E),this.indices[I++]=_,this.indices[I++]=T-1,this.indices[I++]=T,this.indices[I++]=T,this.indices[I++]=_+1,this.indices[I++]=_,v&&(E=this.addVertices_(u,f,[0,0],A*g.END_LINE_CAP*v,E),E=this.addVertices_(u,f,[0,0],-A*g.END_LINE_CAP*v,E),this.indices[I++]=_+2,this.indices[I++]=_,this.indices[I++]=_+1,this.indices[I++]=_+1,this.indices[I++]=_+3,this.indices[I++]=_+2);break}p=[t[h+n],t[h+n+1]]}c=(0,o.triangleIsCounterClockwise)(u[0],u[1],f[0],f[1],p[0],p[1])?-1:1,E=this.addVertices_(u,f,p,c*g.BEVEL_FIRST*(y||1),E),E=this.addVertices_(u,f,p,c*g.BEVEL_SECOND*(y||1),E),E=this.addVertices_(u,f,p,-c*g.MITER_BOTTOM*(y||1),E),h>i&&(this.indices[I++]=_,this.indices[I++]=T-1,this.indices[I++]=T,this.indices[I++]=_+2,this.indices[I++]=_,this.indices[I++]=A*c>0?T:T-1),this.indices[I++]=_,this.indices[I++]=_+2,this.indices[I++]=_+1,T=_+2,A=c,y&&(E=this.addVertices_(u,f,p,c*g.MITER_TOP*y,E),this.indices[I++]=_+1,this.indices[I++]=_+3,this.indices[I++]=_)}L&&(_=_||E/7,c=(0,r.linearRingIsClockwise)([u[0],u[1],f[0],f[1],p[0],p[1]],0,6,2)?1:-1,E=this.addVertices_(u,f,p,c*g.BEVEL_FIRST*(y||1),E),E=this.addVertices_(u,f,p,-c*g.MITER_BOTTOM*(y||1),E),this.indices[I++]=_,this.indices[I++]=T-1,this.indices[I++]=T,this.indices[I++]=_+1,this.indices[I++]=_,this.indices[I++]=A*c>0?T:T-1)},f.prototype.addVertices_=function(t,e,i,s,r){return this.vertices[r++]=t[0],this.vertices[r++]=t[1],this.vertices[r++]=e[0],this.vertices[r++]=e[1],this.vertices[r++]=i[0],this.vertices[r++]=i[1],this.vertices[r++]=s,r},f.prototype.isValid_=function(t,i,s,r){var n=s-i;if(n<2*r)return!1;if(n===2*r){var a=[t[i],t[i+1]],h=[t[i+r],t[i+r+1]];return!(0,e.equals)(a,h)}return!0},f.prototype.drawLineString=function(t,e){var i=t.getFlatCoordinates(),s=t.getStride();this.isValid_(i,0,i.length,s)&&(i=(0,n.translate)(i,0,i.length,s,-this.origin[0],-this.origin[1]),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e),this.drawCoordinates_(i,0,i.length,s))},f.prototype.drawMultiLineString=function(t,e){var i=this.indices.length,s=t.getEnds();s.unshift(0);var r,a,h=t.getFlatCoordinates(),o=t.getStride();if(s.length>1)for(r=1,a=s.length;r<a;++r)if(this.isValid_(h,s[r-1],s[r],o)){var d=(0,n.translate)(h,s[r-1],s[r],o,-this.origin[0],-this.origin[1]);this.drawCoordinates_(d,0,d.length,o)}this.indices.length>i&&(this.startIndices.push(i),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(i),this.state_.changed=!1))},f.prototype.drawPolygonCoordinates=function(t,e,i){var s,r;if((0,a.lineStringIsClosed)(t,0,t.length,i)||(t.push(t[0]),t.push(t[1])),this.drawCoordinates_(t,0,t.length,i),e.length)for(s=0,r=e.length;s<r;++s)(0,a.lineStringIsClosed)(e[s],0,e[s].length,i)||(e[s].push(e[s][0]),e[s].push(e[s][1])),this.drawCoordinates_(e[s],0,e[s].length,i)},f.prototype.setPolygonStyle=function(t,e){var i=void 0===e?this.indices.length:e;this.startIndices.push(i),this.startIndicesFeature.push(t),this.state_.changed&&(this.styleIndices_.push(i),this.state_.changed=!1)},f.prototype.getCurrentIndex=function(){return this.indices.length},f.prototype.finish=function(t){this.verticesBuffer=new u.default(this.vertices),this.indicesBuffer=new u.default(this.indices),this.startIndices.push(this.indices.length),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},f.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,i=this.indicesBuffer;return function(){t.deleteBuffer(e),t.deleteBuffer(i)}},f.prototype.setUpProgram=function(t,e,i,s){var r,n=e.getProgram(l.fragment,l.vertex);return this.defaultLocations_?r=this.defaultLocations_:(r=new c.default(t,n),this.defaultLocations_=r),e.useProgram(n),t.enableVertexAttribArray(r.a_lastPos),t.vertexAttribPointer(r.a_lastPos,2,_.FLOAT,!1,28,0),t.enableVertexAttribArray(r.a_position),t.vertexAttribPointer(r.a_position,2,_.FLOAT,!1,28,8),t.enableVertexAttribArray(r.a_nextPos),t.vertexAttribPointer(r.a_nextPos,2,_.FLOAT,!1,28,16),t.enableVertexAttribArray(r.a_direction),t.vertexAttribPointer(r.a_direction,1,_.FLOAT,!1,28,24),t.uniform2fv(r.u_size,i),t.uniform1f(r.u_pixelRatio,s),r},f.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_lastPos),t.disableVertexAttribArray(e.a_position),t.disableVertexAttribArray(e.a_nextPos),t.disableVertexAttribArray(e.a_direction)},f.prototype.drawReplay=function(t,e,i,s){var r,n,a,o,d=t.getParameter(t.DEPTH_FUNC),l=t.getParameter(t.DEPTH_WRITEMASK);if(s||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),(0,h.isEmpty)(i))for(a=this.startIndices[this.startIndices.length-1],r=this.styleIndices_.length-1;r>=0;--r)n=this.styleIndices_[r],o=this.styles_[r],this.setStrokeStyle_(t,o[0],o[1],o[2]),this.drawElements(t,e,n,a),t.clear(t.DEPTH_BUFFER_BIT),a=n;else this.drawReplaySkipping_(t,e,i);s||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(l),t.depthFunc(d))},f.prototype.drawReplaySkipping_=function(e,i,s){var r,n,a,h,o,d,l,c;for(l=this.startIndices.length-2,a=n=this.startIndices[l+1],r=this.styleIndices_.length-1;r>=0;--r){for(h=this.styles_[r],this.setStrokeStyle_(e,h[0],h[1],h[2]),o=this.styleIndices_[r];l>=0&&this.startIndices[l]>=o;)c=this.startIndices[l],d=this.startIndicesFeature[l],s[(0,t.getUid)(d)]&&(n!==a&&(this.drawElements(e,i,n,a),e.clear(e.DEPTH_BUFFER_BIT)),a=c),l--,n=c;n!==a&&(this.drawElements(e,i,n,a),e.clear(e.DEPTH_BUFFER_BIT)),n=a=o}},f.prototype.drawHitDetectionReplayOneByOne=function(e,i,r,n,a){var h,o,d,l,c,_,u;for(u=this.startIndices.length-2,d=this.startIndices[u+1],h=this.styleIndices_.length-1;h>=0;--h)for(l=this.styles_[h],this.setStrokeStyle_(e,l[0],l[1],l[2]),c=this.styleIndices_[h];u>=0&&this.startIndices[u]>=c;){if(o=this.startIndices[u],_=this.startIndicesFeature[u],void 0===r[(0,t.getUid)(_)]&&_.getGeometry()&&(void 0===a||(0,s.intersects)(a,_.getGeometry().getExtent()))){e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),this.drawElements(e,i,o,d);var f=n(_);if(f)return f}u--,d=o}},f.prototype.setStrokeStyle_=function(t,e,i,s){t.uniform4fv(this.defaultLocations_.u_color,e),t.uniform1f(this.defaultLocations_.u_lineWidth,i),t.uniform1f(this.defaultLocations_.u_miterLimit,s)},f.prototype.setFillStrokeStyle=function(t,s){var r=s.getLineCap();this.state_.lineCap=void 0!==r?r:o.DEFAULT_LINECAP;var n=s.getLineDash();this.state_.lineDash=n||o.DEFAULT_LINEDASH;var a=s.getLineDashOffset();this.state_.lineDashOffset=a||o.DEFAULT_LINEDASHOFFSET;var h=s.getLineJoin();this.state_.lineJoin=void 0!==h?h:o.DEFAULT_LINEJOIN;var d=s.getColor();d=d instanceof CanvasGradient||d instanceof CanvasPattern?o.DEFAULT_STROKESTYLE:(0,i.asArray)(d).map(function(t,e){return 3!=e?t/255:t})||o.DEFAULT_STROKESTYLE;var l=s.getWidth();l=void 0!==l?l:o.DEFAULT_LINEWIDTH;var c=s.getMiterLimit();c=void 0!==c?c:o.DEFAULT_MITERLIMIT,this.state_.strokeColor&&(0,e.equals)(this.state_.strokeColor,d)&&this.state_.lineWidth===l&&this.state_.miterLimit===c||(this.state_.changed=!0,this.state_.strokeColor=d,this.state_.lineWidth=l,this.state_.miterLimit=c,this.styles_.push([d,l,c]))},f}(d.default),E=p;exports.default=E;
},{"../../util.js":"KniQ","../../array.js":"luEr","../../color.js":"eucy","../../extent.js":"QDir","../../geom/flat/orient.js":"2/8c","../../geom/flat/transform.js":"LGwr","../../geom/flat/topology.js":"p6xK","../../obj.js":"mH6q","../webgl.js":"7DIo","./Replay.js":"HMSc","./linestringreplay/defaultshader.js":"7YtU","./linestringreplay/defaultshader/Locations.js":"EnqV","../../webgl.js":"SCyv","../../webgl/Buffer.js":"zsRd"}],"KUzN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.vertex=exports.fragment=void 0;var o=require("../../../webgl.js"),a=n(require("../../../webgl/Fragment.js")),e=n(require("../../../webgl/Vertex.js"));function n(o){return o&&o.__esModule?o:{default:o}}var r=new a.default(o.DEBUG?"precision mediump float;\n\n\n\nuniform vec4 u_color;\nuniform float u_opacity;\n\nvoid main(void) {\n  gl_FragColor = u_color;\n  float alpha = u_color.a * u_opacity;\n  if (alpha == 0.0) {\n    discard;\n  }\n  gl_FragColor.a = alpha;\n}\n":"precision mediump float;uniform vec4 e;uniform float f;void main(void){gl_FragColor=e;float alpha=e.a*f;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}");exports.fragment=r;var i=new e.default(o.DEBUG?"\n\nattribute vec2 a_position;\n\nuniform mat4 u_projectionMatrix;\nuniform mat4 u_offsetScaleMatrix;\nuniform mat4 u_offsetRotateMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0.0, 1.0);\n}\n\n\n":"attribute vec2 a;uniform mat4 b;uniform mat4 c;uniform mat4 d;void main(void){gl_Position=b*vec4(a,0.0,1.0);}");exports.vertex=i;
},{"../../../webgl.js":"SCyv","../../../webgl/Fragment.js":"SAYv","../../../webgl/Vertex.js":"mo14"}],"mO11":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../../../webgl.js"),o=function(o,i){this.u_projectionMatrix=o.getUniformLocation(i,t.DEBUG?"u_projectionMatrix":"b"),this.u_offsetScaleMatrix=o.getUniformLocation(i,t.DEBUG?"u_offsetScaleMatrix":"c"),this.u_offsetRotateMatrix=o.getUniformLocation(i,t.DEBUG?"u_offsetRotateMatrix":"d"),this.u_color=o.getUniformLocation(i,t.DEBUG?"u_color":"e"),this.u_opacity=o.getUniformLocation(i,t.DEBUG?"u_opacity":"f"),this.a_position=o.getAttribLocation(i,t.DEBUG?"a_position":"a")},i=o;exports.default=i;
},{"../../../../webgl.js":"SCyv"}],"2gDc":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=function(t){this.first_,this.last_,this.head_,this.circular_=void 0===t||t,this.length_=0};t.prototype.insertItem=function(t){var e={prev:void 0,next:void 0,data:t},i=this.head_;if(i){var h=i.next;e.prev=i,e.next=h,i.next=e,h&&(h.prev=e),i===this.last_&&(this.last_=e)}else this.first_=e,this.last_=e,this.circular_&&(e.next=e,e.prev=e);this.head_=e,this.length_++},t.prototype.removeItem=function(){var t=this.head_;if(t){var e=t.next,i=t.prev;e&&(e.prev=i),i&&(i.next=e),this.head_=e||i,this.first_===this.last_?(this.head_=void 0,this.first_=void 0,this.last_=void 0):this.first_===t?this.first_=this.head_:this.last_===t&&(this.last_=i?this.head_.prev:this.head_),this.length_--}},t.prototype.firstItem=function(){if(this.head_=this.first_,this.head_)return this.head_.data},t.prototype.lastItem=function(){if(this.head_=this.last_,this.head_)return this.head_.data},t.prototype.nextItem=function(){if(this.head_&&this.head_.next)return this.head_=this.head_.next,this.head_.data},t.prototype.getNextItem=function(){if(this.head_&&this.head_.next)return this.head_.next.data},t.prototype.prevItem=function(){if(this.head_&&this.head_.prev)return this.head_=this.head_.prev,this.head_.data},t.prototype.getPrevItem=function(){if(this.head_&&this.head_.prev)return this.head_.prev.data},t.prototype.getCurrItem=function(){if(this.head_)return this.head_.data},t.prototype.setFirstItem=function(){this.circular_&&this.head_&&(this.first_=this.head_,this.last_=this.head_.prev)},t.prototype.concat=function(t){if(t.head_){if(this.head_){var e=this.head_.next;this.head_.next=t.first_,t.first_.prev=this.head_,e.prev=t.last_,t.last_.next=e,this.length_+=t.length_}else this.head_=t.head_,this.first_=t.first_,this.last_=t.last_,this.length_=t.length_;t.head_=void 0,t.first_=void 0,t.last_=void 0,t.length_=0}},t.prototype.getLength=function(){return this.length_};var e=t;exports.default=e;
},{}],"Cbiy":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../util.js"),e=require("../../array.js"),i=require("../../color.js"),s=require("../../extent.js"),r=require("../../obj.js"),n=require("../../geom/flat/contains.js"),a=require("../../geom/flat/orient.js"),o=require("../../geom/flat/transform.js"),h=require("./polygonreplay/defaultshader.js"),l=m(require("./polygonreplay/defaultshader/Locations.js")),p=m(require("./LineStringReplay.js")),y=m(require("./Replay.js")),x=require("../webgl.js"),c=m(require("../../style/Stroke.js")),u=m(require("../../structs/LinkedList.js")),d=m(require("../../structs/RBush.js")),f=require("../../webgl.js"),g=m(require("../../webgl/Buffer.js"));function m(t){return t&&t.__esModule?t:{default:t}}var _=function(y){function m(t,e){y.call(this,t,e),this.lineStringReplay=new p.default(t,e),this.defaultLocations_=null,this.styles_=[],this.styleIndices_=[],this.state_={fillColor:null,changed:!1}}return y&&(m.__proto__=y),m.prototype=Object.create(y&&y.prototype),m.prototype.constructor=m,m.prototype.drawCoordinates_=function(t,e,i){var s=new u.default,r=new d.default;this.processFlatCoordinates_(t,i,s,r,!0);var n=this.getMaxCoords_(s);if(e.length){var a,o,h=[];for(a=0,o=e.length;a<o;++a){var l={list:new u.default,maxCoords:void 0,rtree:new d.default};h.push(l),this.processFlatCoordinates_(e[a],i,l.list,l.rtree,!1),this.classifyPoints_(l.list,l.rtree,!0),l.maxCoords=this.getMaxCoords_(l.list)}for(h.sort(function(t,e){return e.maxCoords[0]===t.maxCoords[0]?t.maxCoords[1]-e.maxCoords[1]:e.maxCoords[0]-t.maxCoords[0]}),a=0;a<h.length;++a){var p=h[a].list,y=p.firstItem(),x=y,c=void 0;do{if(this.getIntersections_(x,r).length){c=!0;break}x=p.nextItem()}while(y!==x);c||this.bridgeHole_(p,h[a].maxCoords[0],s,n[0],r)&&(r.concat(h[a].rtree),this.classifyPoints_(s,r,!1))}}else this.classifyPoints_(s,r,!1);this.triangulate_(s,r)},m.prototype.processFlatCoordinates_=function(t,e,i,s,r){var n,o,h,l,p,y=(0,a.linearRingIsClockwise)(t,0,t.length,e),x=this.vertices.length/2,c=[],u=[];if(r===y){for(l=h=this.createPoint_(t[0],t[1],x++),n=e,o=t.length;n<o;n+=e)p=this.createPoint_(t[n],t[n+1],x++),u.push(this.insertItem_(l,p,i)),c.push([Math.min(l.x,p.x),Math.min(l.y,p.y),Math.max(l.x,p.x),Math.max(l.y,p.y)]),l=p;u.push(this.insertItem_(p,h,i)),c.push([Math.min(l.x,p.x),Math.min(l.y,p.y),Math.max(l.x,p.x),Math.max(l.y,p.y)])}else{var d=t.length-e;for(l=h=this.createPoint_(t[d],t[d+1],x++),n=d-e,o=0;n>=o;n-=e)p=this.createPoint_(t[n],t[n+1],x++),u.push(this.insertItem_(l,p,i)),c.push([Math.min(l.x,p.x),Math.min(l.y,p.y),Math.max(l.x,p.x),Math.max(l.y,p.y)]),l=p;u.push(this.insertItem_(p,h,i)),c.push([Math.min(l.x,p.x),Math.min(l.y,p.y),Math.max(l.x,p.x),Math.max(l.y,p.y)])}s.load(c,u)},m.prototype.getMaxCoords_=function(t){var e=t.firstItem(),i=e,s=[i.p0.x,i.p0.y];do{(i=t.nextItem()).p0.x>s[0]&&(s=[i.p0.x,i.p0.y])}while(i!==e);return s},m.prototype.classifyPoints_=function(t,e,i){var s=t.firstItem(),r=s,n=t.nextItem(),a=!1;do{var o=i?(0,x.triangleIsCounterClockwise)(n.p1.x,n.p1.y,r.p1.x,r.p1.y,r.p0.x,r.p0.y):(0,x.triangleIsCounterClockwise)(r.p0.x,r.p0.y,r.p1.x,r.p1.y,n.p1.x,n.p1.y);void 0===o?(this.removeItem_(r,n,t,e),a=!0,n===s&&(s=t.getNextItem()),n=r,t.prevItem()):r.p1.reflex!==o&&(r.p1.reflex=o,a=!0),r=n,n=t.nextItem()}while(r!==s);return a},m.prototype.bridgeHole_=function(t,e,i,s,r){for(var n=t.firstItem();n.p1.x!==e;)n=t.nextItem();var a,o,h,l,p=n.p1,y={x:s,y:p.y,i:-1},c=1/0,u=this.getIntersections_({p0:p,p1:y},r,!0);for(a=0,o=u.length;a<o;++a){var d=u[a],f=this.calculateIntersection_(p,y,d.p0,d.p1,!0),g=Math.abs(p.x-f[0]);g<c&&void 0!==(0,x.triangleIsCounterClockwise)(p.x,p.y,d.p0.x,d.p0.y,d.p1.x,d.p1.y)&&(c=g,l={x:f[0],y:f[1],i:-1},n=d)}if(c===1/0)return!1;if(h=n.p1,c>0){var m=this.getPointsInTriangle_(p,l,n.p1,r);if(m.length){var _=1/0;for(a=0,o=m.length;a<o;++a){var I=m[a],v=Math.atan2(p.y-I.y,y.x-I.x);(v<_||v===_&&I.x<h.x)&&(_=v,h=I)}}}for(n=i.firstItem();n.p1.x!==h.x||n.p1.y!==h.y;)n=i.nextItem();var M={x:p.x,y:p.y,i:p.i,reflex:void 0},P={x:n.p1.x,y:n.p1.y,i:n.p1.i,reflex:void 0};return t.getNextItem().p0=M,this.insertItem_(p,n.p1,t,r),this.insertItem_(P,M,t,r),n.p1=P,t.setFirstItem(),i.concat(t),!0},m.prototype.triangulate_=function(t,e){for(var i=!1,s=this.isSimple_(t,e);t.getLength()>3;)if(s){if(!this.clipEars_(t,e,s,i)&&!this.classifyPoints_(t,e,i)&&!this.resolveSelfIntersections_(t,e,!0))break}else if(!this.clipEars_(t,e,s,i)&&!this.classifyPoints_(t,e,i)&&!this.resolveSelfIntersections_(t,e)){if(!(s=this.isSimple_(t,e))){this.splitPolygon_(t,e);break}i=!this.isClockwise_(t),this.classifyPoints_(t,e,i)}if(3===t.getLength()){var r=this.indices.length;this.indices[r++]=t.getPrevItem().p0.i,this.indices[r++]=t.getCurrItem().p0.i,this.indices[r++]=t.getNextItem().p0.i}},m.prototype.clipEars_=function(t,e,i,s){var r,n,o,h=this.indices.length,l=t.firstItem(),p=t.getPrevItem(),y=l,x=t.nextItem(),c=t.getNextItem(),u=!1;do{if(r=y.p0,n=y.p1,o=x.p1,!1===n.reflex){var d=void 0;d=i?0===this.getPointsInTriangle_(r,n,o,e,!0).length:s?this.diagonalIsInside_(c.p1,o,n,r,p.p0):this.diagonalIsInside_(p.p0,r,n,o,c.p1),(i||0===this.getIntersections_({p0:r,p1:o},e).length)&&d&&(i||!1===r.reflex||!1===o.reflex||(0,a.linearRingIsClockwise)([p.p0.x,p.p0.y,r.x,r.y,n.x,n.y,o.x,o.y,c.p1.x,c.p1.y],0,10,2)===!s)&&(this.indices[h++]=r.i,this.indices[h++]=n.i,this.indices[h++]=o.i,this.removeItem_(y,x,t,e),x===l&&(l=c),u=!0)}p=t.getPrevItem(),y=t.getCurrItem(),x=t.nextItem(),c=t.getNextItem()}while(y!==l&&t.getLength()>3);return u},m.prototype.resolveSelfIntersections_=function(t,e,i){var s=t.firstItem();t.nextItem();var r=s,n=t.nextItem(),a=!1;do{var o=this.calculateIntersection_(r.p0,r.p1,n.p0,n.p1,i);if(o){var h=!1,l=this.vertices.length,p=this.indices.length,y=l/2,x=t.prevItem();t.removeItem(),e.remove(x),h=x===s;var c=void 0;if(i?(o[0]===r.p0.x&&o[1]===r.p0.y?(t.prevItem(),c=r.p0,n.p0=c,e.remove(r),h=h||r===s):(c=n.p1,r.p1=c,e.remove(n),h=h||n===s),t.removeItem()):(c=this.createPoint_(o[0],o[1],y),r.p1=c,n.p0=c,e.update([Math.min(r.p0.x,r.p1.x),Math.min(r.p0.y,r.p1.y),Math.max(r.p0.x,r.p1.x),Math.max(r.p0.y,r.p1.y)],r),e.update([Math.min(n.p0.x,n.p1.x),Math.min(n.p0.y,n.p1.y),Math.max(n.p0.x,n.p1.x),Math.max(n.p0.y,n.p1.y)],n)),this.indices[p++]=x.p0.i,this.indices[p++]=x.p1.i,this.indices[p++]=c.i,a=!0,h)break}r=t.getPrevItem(),n=t.nextItem()}while(r!==s);return a},m.prototype.isSimple_=function(t,e){var i=t.firstItem(),s=i;do{if(this.getIntersections_(s,e).length)return!1;s=t.nextItem()}while(s!==i);return!0},m.prototype.isClockwise_=function(t){var e=2*t.getLength(),i=new Array(e),s=t.firstItem(),r=s,n=0;do{i[n++]=r.p0.x,i[n++]=r.p0.y,r=t.nextItem()}while(r!==s);return(0,a.linearRingIsClockwise)(i,0,e,2)},m.prototype.splitPolygon_=function(t,e){var i=t.firstItem(),s=i;do{var r=this.getIntersections_(s,e);if(r.length){var n=r[0],a=this.vertices.length/2,o=this.calculateIntersection_(s.p0,s.p1,n.p0,n.p1),h=this.createPoint_(o[0],o[1],a),l=new u.default,p=new d.default;this.insertItem_(h,s.p1,l,p),s.p1=h,e.update([Math.min(s.p0.x,h.x),Math.min(s.p0.y,h.y),Math.max(s.p0.x,h.x),Math.max(s.p0.y,h.y)],s);for(var y=t.nextItem();y!==n;)this.insertItem_(y.p0,y.p1,l,p),e.remove(y),t.removeItem(),y=t.getCurrItem();this.insertItem_(n.p0,h,l,p),n.p0=h,e.update([Math.min(n.p1.x,h.x),Math.min(n.p1.y,h.y),Math.max(n.p1.x,h.x),Math.max(n.p1.y,h.y)],n),this.classifyPoints_(t,e,!1),this.triangulate_(t,e),this.classifyPoints_(l,p,!1),this.triangulate_(l,p);break}s=t.nextItem()}while(s!==i)},m.prototype.createPoint_=function(t,e,i){var s=this.vertices.length;return this.vertices[s++]=t,this.vertices[s++]=e,{x:t,y:e,i:i,reflex:void 0}},m.prototype.insertItem_=function(t,e,i,s){var r={p0:t,p1:e};return i.insertItem(r),s&&s.insert([Math.min(t.x,e.x),Math.min(t.y,e.y),Math.max(t.x,e.x),Math.max(t.y,e.y)],r),r},m.prototype.removeItem_=function(t,e,i,s){i.getCurrItem()===e&&(i.removeItem(),t.p1=e.p1,s.remove(e),s.update([Math.min(t.p0.x,t.p1.x),Math.min(t.p0.y,t.p1.y),Math.max(t.p0.x,t.p1.x),Math.max(t.p0.y,t.p1.y)],t))},m.prototype.getPointsInTriangle_=function(t,e,i,s,r){for(var a=[],o=s.getInExtent([Math.min(t.x,e.x,i.x),Math.min(t.y,e.y,i.y),Math.max(t.x,e.x,i.x),Math.max(t.y,e.y,i.y)]),h=0,l=o.length;h<l;++h)for(var p in o[h]){var y=o[h][p];"object"!=typeof y||r&&!y.reflex||y.x===t.x&&y.y===t.y||y.x===e.x&&y.y===e.y||y.x===i.x&&y.y===i.y||-1!==a.indexOf(y)||!(0,n.linearRingContainsXY)([t.x,t.y,e.x,e.y,i.x,i.y],0,6,2,y.x,y.y)||a.push(y)}return a},m.prototype.getIntersections_=function(t,e,i){for(var s=t.p0,r=t.p1,n=e.getInExtent([Math.min(s.x,r.x),Math.min(s.y,r.y),Math.max(s.x,r.x),Math.max(s.y,r.y)]),a=[],o=0,h=n.length;o<h;++o){var l=n[o];t!==l&&(i||l.p0!==r||l.p1!==s)&&this.calculateIntersection_(s,r,l.p0,l.p1,i)&&a.push(l)}return a},m.prototype.calculateIntersection_=function(t,e,i,s,r){var n=(s.y-i.y)*(e.x-t.x)-(s.x-i.x)*(e.y-t.y);if(0!==n){var a=((s.x-i.x)*(t.y-i.y)-(s.y-i.y)*(t.x-i.x))/n,o=((e.x-t.x)*(t.y-i.y)-(e.y-t.y)*(t.x-i.x))/n;if(!r&&a>x.EPSILON&&a<1-x.EPSILON&&o>x.EPSILON&&o<1-x.EPSILON||r&&a>=0&&a<=1&&o>=0&&o<=1)return[t.x+a*(e.x-t.x),t.y+a*(e.y-t.y)]}},m.prototype.diagonalIsInside_=function(t,e,i,s,r){if(void 0===e.reflex||void 0===s.reflex)return!1;var n=(i.x-s.x)*(e.y-s.y)>(i.y-s.y)*(e.x-s.x),a=(r.x-s.x)*(e.y-s.y)<(r.y-s.y)*(e.x-s.x),o=(t.x-e.x)*(s.y-e.y)>(t.y-e.y)*(s.x-e.x),h=(i.x-e.x)*(s.y-e.y)<(i.y-e.y)*(s.x-e.x),l=s.reflex?a||n:a&&n,p=e.reflex?h||o:h&&o;return l&&p},m.prototype.drawMultiPolygon=function(t,e){var i,s,r,n,a=t.getEndss(),h=t.getStride(),l=this.indices.length,p=this.lineStringReplay.getCurrentIndex(),y=t.getFlatCoordinates(),x=0;for(i=0,s=a.length;i<s;++i){var c=a[i];if(c.length>0){var u=(0,o.translate)(y,x,c[0],h,-this.origin[0],-this.origin[1]);if(u.length){var d=[],f=void 0;for(r=1,n=c.length;r<n;++r)c[r]!==c[r-1]&&(f=(0,o.translate)(y,c[r-1],c[r],h,-this.origin[0],-this.origin[1]),d.push(f));this.lineStringReplay.drawPolygonCoordinates(u,d,h),this.drawCoordinates_(u,d,h)}}x=c[c.length-1]}this.indices.length>l&&(this.startIndices.push(l),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(l),this.state_.changed=!1)),this.lineStringReplay.getCurrentIndex()>p&&this.lineStringReplay.setPolygonStyle(e,p)},m.prototype.drawPolygon=function(t,e){var i=t.getEnds(),s=t.getStride();if(i.length>0){var r=t.getFlatCoordinates().map(Number),n=(0,o.translate)(r,0,i[0],s,-this.origin[0],-this.origin[1]);if(n.length){var a,h,l,p=[];for(a=1,h=i.length;a<h;++a)i[a]!==i[a-1]&&(l=(0,o.translate)(r,i[a-1],i[a],s,-this.origin[0],-this.origin[1]),p.push(l));this.startIndices.push(this.indices.length),this.startIndicesFeature.push(e),this.state_.changed&&(this.styleIndices_.push(this.indices.length),this.state_.changed=!1),this.lineStringReplay.setPolygonStyle(e),this.lineStringReplay.drawPolygonCoordinates(n,p,s),this.drawCoordinates_(n,p,s)}}},m.prototype.finish=function(t){this.verticesBuffer=new g.default(this.vertices),this.indicesBuffer=new g.default(this.indices),this.startIndices.push(this.indices.length),this.lineStringReplay.finish(t),0===this.styleIndices_.length&&this.styles_.length>0&&(this.styles_=[]),this.vertices=null,this.indices=null},m.prototype.getDeleteResourcesFunction=function(t){var e=this.verticesBuffer,i=this.indicesBuffer,s=this.lineStringReplay.getDeleteResourcesFunction(t);return function(){t.deleteBuffer(e),t.deleteBuffer(i),s()}},m.prototype.setUpProgram=function(t,e,i,s){var r,n=e.getProgram(h.fragment,h.vertex);return this.defaultLocations_?r=this.defaultLocations_:(r=new l.default(t,n),this.defaultLocations_=r),e.useProgram(n),t.enableVertexAttribArray(r.a_position),t.vertexAttribPointer(r.a_position,2,f.FLOAT,!1,8,0),r},m.prototype.shutDownProgram=function(t,e){t.disableVertexAttribArray(e.a_position)},m.prototype.drawReplay=function(t,e,i,s){var n,a,o,h,l=t.getParameter(t.DEPTH_FUNC),p=t.getParameter(t.DEPTH_WRITEMASK);if(s||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),(0,r.isEmpty)(i))for(o=this.startIndices[this.startIndices.length-1],n=this.styleIndices_.length-1;n>=0;--n)a=this.styleIndices_[n],h=this.styles_[n],this.setFillStyle_(t,h),this.drawElements(t,e,a,o),o=a;else this.drawReplaySkipping_(t,e,i);s||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(p),t.depthFunc(l))},m.prototype.drawHitDetectionReplayOneByOne=function(e,i,r,n,a){var o,h,l,p,y,x,c;for(c=this.startIndices.length-2,l=this.startIndices[c+1],o=this.styleIndices_.length-1;o>=0;--o)for(p=this.styles_[o],this.setFillStyle_(e,p),y=this.styleIndices_[o];c>=0&&this.startIndices[c]>=y;){if(h=this.startIndices[c],x=this.startIndicesFeature[c],void 0===r[(0,t.getUid)(x)]&&x.getGeometry()&&(void 0===a||(0,s.intersects)(a,x.getGeometry().getExtent()))){e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),this.drawElements(e,i,h,l);var u=n(x);if(u)return u}c--,l=h}},m.prototype.drawReplaySkipping_=function(e,i,s){var r,n,a,o,h,l,p,y;for(p=this.startIndices.length-2,a=n=this.startIndices[p+1],r=this.styleIndices_.length-1;r>=0;--r){for(o=this.styles_[r],this.setFillStyle_(e,o),h=this.styleIndices_[r];p>=0&&this.startIndices[p]>=h;)y=this.startIndices[p],l=this.startIndicesFeature[p],s[(0,t.getUid)(l)]&&(n!==a&&(this.drawElements(e,i,n,a),e.clear(e.DEPTH_BUFFER_BIT)),a=y),p--,n=y;n!==a&&(this.drawElements(e,i,n,a),e.clear(e.DEPTH_BUFFER_BIT)),n=a=h}},m.prototype.setFillStyle_=function(t,e){t.uniform4fv(this.defaultLocations_.u_color,e)},m.prototype.setFillStrokeStyle=function(t,s){var r=t?t.getColor():[0,0,0,0];if(r=r instanceof CanvasGradient||r instanceof CanvasPattern?x.DEFAULT_FILLSTYLE:(0,i.asArray)(r).map(function(t,e){return 3!=e?t/255:t})||x.DEFAULT_FILLSTYLE,this.state_.fillColor&&(0,e.equals)(r,this.state_.fillColor)||(this.state_.fillColor=r,this.state_.changed=!0,this.styles_.push(r)),s)this.lineStringReplay.setFillStrokeStyle(null,s);else{var n=new c.default({color:[0,0,0,0],width:0});this.lineStringReplay.setFillStrokeStyle(null,n)}},m}(y.default),I=_;exports.default=I;
},{"../../util.js":"KniQ","../../array.js":"luEr","../../color.js":"eucy","../../extent.js":"QDir","../../obj.js":"mH6q","../../geom/flat/contains.js":"dzdN","../../geom/flat/orient.js":"2/8c","../../geom/flat/transform.js":"LGwr","./polygonreplay/defaultshader.js":"KUzN","./polygonreplay/defaultshader/Locations.js":"mO11","./LineStringReplay.js":"Nu72","./Replay.js":"HMSc","../webgl.js":"7DIo","../../style/Stroke.js":"TXDt","../../structs/LinkedList.js":"2gDc","../../structs/RBush.js":"MiUH","../../webgl.js":"SCyv","../../webgl/Buffer.js":"zsRd"}],"N0HK":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../dom.js"),e=function(e,i){this.space_=i,this.emptyBlocks_=[{x:0,y:0,width:e,height:e}],this.entries_={},this.context_=(0,t.createCanvasContext2D)(e,e),this.canvas_=this.context_.canvas};e.prototype.get=function(t){return this.entries_[t]||null},e.prototype.add=function(t,e,i,h,s){for(var p=0,a=this.emptyBlocks_.length;p<a;++p){var o=this.emptyBlocks_[p];if(o.width>=e+this.space_&&o.height>=i+this.space_){var c={offsetX:o.x+this.space_,offsetY:o.y+this.space_,image:this.canvas_};return this.entries_[t]=c,h.call(s,this.context_,o.x+this.space_,o.y+this.space_),this.split_(p,o,e+this.space_,i+this.space_),c}}return null},e.prototype.split_=function(t,e,i,h){var s,p;e.width-i>e.height-h?(s={x:e.x+i,y:e.y,width:e.width-i,height:e.height},p={x:e.x,y:e.y+h,width:i,height:e.height-h},this.updateBlocks_(t,s,p)):(s={x:e.x+i,y:e.y,width:e.width-i,height:h},p={x:e.x,y:e.y+h,width:e.width,height:e.height-h},this.updateBlocks_(t,s,p))},e.prototype.updateBlocks_=function(t,e,i){var h=[t,1];e.width>0&&e.height>0&&h.push(e),i.width>0&&i.height>0&&h.push(i),this.emptyBlocks_.splice.apply(this.emptyBlocks_,h)};var i=e;exports.default=i;
},{"../dom.js":"Xno5"}],"SyS8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../webgl.js"),e=require("../functions.js"),i=r(require("./Atlas.js"));function r(t){return t&&t.__esModule?t:{default:t}}var s=256,n=-1,a=function(e){var r=e||{};this.currentSize_=void 0!==r.initialSize?r.initialSize:s,this.maxSize_=void 0!==r.maxSize?r.maxSize:-1!=n?n:void 0!==t.MAX_TEXTURE_SIZE?t.MAX_TEXTURE_SIZE:2048,this.space_=void 0!==r.space?r.space:1,this.atlases_=[new i.default(this.currentSize_,this.space_)],this.currentHitSize_=this.currentSize_,this.hitAtlases_=[new i.default(this.currentHitSize_,this.space_)]};a.prototype.getInfo=function(t){var e=this.getInfo_(this.atlases_,t);if(!e)return null;var i=this.getInfo_(this.hitAtlases_,t);return this.mergeInfos_(e,i)},a.prototype.getInfo_=function(t,e){for(var i=0,r=t.length;i<r;++i){var s=t[i].get(e);if(s)return s}return null},a.prototype.mergeInfos_=function(t,e){return{offsetX:t.offsetX,offsetY:t.offsetY,image:t.image,hitImage:e.image}},a.prototype.add=function(t,i,r,s,n,a){if(i+this.space_>this.maxSize_||r+this.space_>this.maxSize_)return null;var u=this.add_(!1,t,i,r,s,a);if(!u)return null;var o=void 0!==n?n:e.VOID,_=this.add_(!0,t,i,r,o,a);return this.mergeInfos_(u,_)},a.prototype.add_=function(t,e,r,s,n,a){var u,o,_,h,f=t?this.hitAtlases_:this.atlases_;for(_=0,h=f.length;_<h;++_){if(o=(u=f[_]).add(e,r,s,n,a))return o;if(!o&&_===h-1){var l=void 0;t?(l=Math.min(2*this.currentHitSize_,this.maxSize_),this.currentHitSize_=l):(l=Math.min(2*this.currentSize_,this.maxSize_),this.currentSize_=l),u=new i.default(l,this.space_),f.push(u),++h}}return null};var u=a;exports.default=u;
},{"../webgl.js":"SCyv","../functions.js":"RgA2","./Atlas.js":"N0HK"}],"0Vdg":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../util.js"),e=require("../../colorlike.js"),i=require("../../dom.js"),s=f(require("../../geom/GeometryType.js")),a=require("../../has.js"),r=require("../replay.js"),o=require("../webgl.js"),l=f(require("./TextureReplay.js")),h=f(require("../../style/AtlasManager.js")),n=f(require("../../webgl/Buffer.js"));function f(t){return t&&t.__esModule?t:{default:t}}var u=function(l){function f(t,e){l.call(this,t,e),this.images_=[],this.textures_=[],this.measureCanvas_=(0,i.createCanvasContext2D)(0,0).canvas,this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0},this.text_="",this.textAlign_=void 0,this.textBaseline_=void 0,this.offsetX_=void 0,this.offsetY_=void 0,this.atlases_={},this.currAtlas_=void 0,this.scale=1,this.opacity=1}return l&&(f.__proto__=l),f.prototype=Object.create(l&&l.prototype),f.prototype.constructor=f,f.prototype.drawText=function(e,i){if(this.text_){var a=null,r=2,o=2;switch(e.getType()){case s.default.POINT:case s.default.MULTI_POINT:r=(a=e.getFlatCoordinates()).length,o=e.getStride();break;case s.default.CIRCLE:a=e.getCenter();break;case s.default.LINE_STRING:a=e.getFlatMidpoint();break;case s.default.MULTI_LINE_STRING:r=(a=e.getFlatMidpoints()).length;break;case s.default.POLYGON:a=e.getFlatInteriorPoint();break;case s.default.MULTI_POLYGON:r=(a=e.getFlatInteriorPoints()).length}this.startIndices.push(this.indices.length),this.startIndicesFeature.push(i);var l,h,n,f,u,d,_,g,c=this.currAtlas_,p=this.text_.split("\n"),v=this.getTextSize_(p),T=Math.round(v[0]*this.textAlign_-this.offsetX_),L=Math.round(v[1]*this.textBaseline_-this.offsetY_),x=this.state_.lineWidth/2*this.state_.scale;for(l=0,h=p.length;l<h;++l)for(u=0,d=c.height*l,n=0,f=(_=p[l].split("")).length;n<f;++n){if(g=c.atlas.getInfo(_[n])){var A=g.image;if(this.anchorX=T-u,this.anchorY=L-d,this.originX=0===n?g.offsetX-x:g.offsetX,this.originY=g.offsetY,this.height=c.height,this.width=0===n||n===_.length-1?c.width[_[n]]+x:c.width[_[n]],this.imageHeight=A.height,this.imageWidth=A.width,0===this.images_.length)this.images_.push(A);else{var C=this.images_[this.images_.length-1];(0,t.getUid)(C)!=(0,t.getUid)(A)&&(this.groupIndices.push(this.indices.length),this.images_.push(A))}this.drawText_(a,0,r,o)}u+=this.width}}},f.prototype.getTextSize_=function(t){var e=this,i=this.currAtlas_,s=t.length*i.height;return[t.map(function(t){for(var s=0,a=0,r=t.length;a<r;++a){var o=t[a];i.width[o]||e.addCharToAtlas_(o),s+=i.width[o]?i.width[o]:0}return s}).reduce(function(t,e){return Math.max(t,e)}),s]},f.prototype.drawText_=function(t,e,i,s){for(var a=e,r=i;a<r;a+=s)this.drawCoordinates(t,e,i,s)},f.prototype.addCharToAtlas_=function(t){if(1===t.length){var e=this.currAtlas_,i=this.state_,s=this.measureCanvas_.getContext("2d");s.font=i.font;var r=Math.ceil(s.measureText(t).width*i.scale);e.atlas.add(t,r,e.height,function(e,s,r){e.font=i.font,e.fillStyle=i.fillColor,e.strokeStyle=i.strokeColor,e.lineWidth=i.lineWidth,e.lineCap=i.lineCap,e.lineJoin=i.lineJoin,e.miterLimit=i.miterLimit,e.textAlign="left",e.textBaseline="top",a.CANVAS_LINE_DASH&&i.lineDash&&(e.setLineDash(i.lineDash),e.lineDashOffset=i.lineDashOffset),1!==i.scale&&e.setTransform(i.scale,0,0,i.scale,0,0),i.strokeColor&&e.strokeText(t,s,r),i.fillColor&&e.fillText(t,s,r)})&&(e.width[t]=r)}},f.prototype.finish=function(t){var e=t.getGL();this.groupIndices.push(this.indices.length),this.hitDetectionGroupIndices=this.groupIndices,this.verticesBuffer=new n.default(this.vertices),this.indicesBuffer=new n.default(this.indices);this.createTextures(this.textures_,this.images_,{},e),this.state_={strokeColor:null,lineCap:void 0,lineDash:null,lineDashOffset:void 0,lineJoin:void 0,lineWidth:0,miterLimit:void 0,fillColor:null,font:void 0,scale:void 0},this.text_="",this.textAlign_=void 0,this.textBaseline_=void 0,this.offsetX_=void 0,this.offsetY_=void 0,this.images_=null,this.atlases_={},this.currAtlas_=void 0,l.prototype.finish.call(this,t)},f.prototype.setTextStyle=function(t){var i=this.state_,s=t.getFill(),a=t.getStroke();if(t&&t.getText()&&(s||a)){if(s){var l=s.getColor();i.fillColor=(0,e.asColorLike)(l||o.DEFAULT_FILLSTYLE)}else i.fillColor=null;if(a){var h=a.getColor();i.strokeColor=(0,e.asColorLike)(h||o.DEFAULT_STROKESTYLE),i.lineWidth=a.getWidth()||o.DEFAULT_LINEWIDTH,i.lineCap=a.getLineCap()||o.DEFAULT_LINECAP,i.lineDashOffset=a.getLineDashOffset()||o.DEFAULT_LINEDASHOFFSET,i.lineJoin=a.getLineJoin()||o.DEFAULT_LINEJOIN,i.miterLimit=a.getMiterLimit()||o.DEFAULT_MITERLIMIT;var n=a.getLineDash();i.lineDash=n?n.slice():o.DEFAULT_LINEDASH}else i.strokeColor=null,i.lineWidth=0;i.font=t.getFont()||o.DEFAULT_FONT,i.scale=t.getScale()||1,this.text_=t.getText();var f=r.TEXT_ALIGN[t.getTextAlign()],u=r.TEXT_ALIGN[t.getTextBaseline()];this.textAlign_=void 0===f?o.DEFAULT_TEXTALIGN:f,this.textBaseline_=void 0===u?o.DEFAULT_TEXTBASELINE:u,this.offsetX_=t.getOffsetX()||0,this.offsetY_=t.getOffsetY()||0,this.rotateWithView=!!t.getRotateWithView(),this.rotation=t.getRotation()||0,this.currAtlas_=this.getAtlas_(i)}else this.text_=""},f.prototype.getAtlas_=function(t){var e=[];for(var i in t)(t[i]||0===t[i])&&(Array.isArray(t[i])?e=e.concat(t[i]):e.push(t[i]));var s=this.calculateHash_(e);if(!this.atlases_[s]){var a=this.measureCanvas_.getContext("2d");a.font=t.font;var r=Math.ceil((1.5*a.measureText("M").width+t.lineWidth/2)*t.scale);this.atlases_[s]={atlas:new h.default({space:t.lineWidth+1}),width:{},height:r}}return this.atlases_[s]},f.prototype.calculateHash_=function(t){for(var e="",i=0,s=t.length;i<s;++i)e+=t[i];return e},f.prototype.getTextures=function(t){return this.textures_},f.prototype.getHitDetectionTextures=function(){return this.textures_},f}(l.default),d=u;exports.default=d;
},{"../../util.js":"KniQ","../../colorlike.js":"V5+X","../../dom.js":"Xno5","../../geom/GeometryType.js":"lmV0","../../has.js":"f3Nv","../replay.js":"FzwX","../webgl.js":"7DIo","./TextureReplay.js":"rtlq","../../style/AtlasManager.js":"SyS8","../../webgl/Buffer.js":"zsRd"}],"aOHC":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../array.js"),r=require("../../extent.js"),t=require("../../obj.js"),n=require("../replay.js"),i=y(require("../ReplayGroup.js")),o=y(require("./CircleReplay.js")),a=y(require("./ImageReplay.js")),u=y(require("./LineStringReplay.js")),s=y(require("./PolygonReplay.js")),p=y(require("./TextReplay.js"));function y(e){return e&&e.__esModule?e:{default:e}}var f=[1,1],l={Circle:o.default,Image:a.default,LineString:u.default,Polygon:s.default,Text:p.default},d=function(i){function o(e,r,t){i.call(this),this.maxExtent_=r,this.tolerance_=e,this.renderBuffer_=t,this.replaysByZIndex_={}}return i&&(o.__proto__=i),o.prototype=Object.create(i&&i.prototype),o.prototype.constructor=o,o.prototype.addDeclutter=function(e){return[]},o.prototype.getDeleteResourcesFunction=function(e){var r,t=[];for(r in this.replaysByZIndex_){var n=this.replaysByZIndex_[r];for(var i in n)t.push(n[i].getDeleteResourcesFunction(e))}return function(){for(var e,r=arguments,n=t.length,i=0;i<n;i++)e=t[i].apply(this,r);return e}},o.prototype.finish=function(e){var r;for(r in this.replaysByZIndex_){var t=this.replaysByZIndex_[r];for(var n in t)t[n].finish(e)}},o.prototype.getReplay=function(e,r){var t=void 0!==e?e.toString():"0",n=this.replaysByZIndex_[t];void 0===n&&(n={},this.replaysByZIndex_[t]=n);var i=n[r];void 0===i&&(i=new(0,l[r])(this.tolerance_,this.maxExtent_),n[r]=i);return i},o.prototype.isEmpty=function(){return(0,t.isEmpty)(this.replaysByZIndex_)},o.prototype.replay=function(r,t,i,o,a,u,s,p){var y,f,l,d,c,h,_=Object.keys(this.replaysByZIndex_).map(Number);for(_.sort(e.numberSafeCompareFunction),y=0,f=_.length;y<f;++y)for(c=this.replaysByZIndex_[_[y].toString()],l=0,d=n.ORDER.length;l<d;++l)h=c[n.ORDER[l]],void 0!==h&&h.replay(r,t,i,o,a,u,s,p,void 0,!1)},o.prototype.replayHitDetection_=function(e,r,t,i,o,a,u,s,p,y,f){var l,d,c,h,_,v,x=Object.keys(this.replaysByZIndex_).map(Number);for(x.sort(function(e,r){return r-e}),l=0,d=x.length;l<d;++l)for(h=this.replaysByZIndex_[x[l].toString()],c=n.ORDER.length-1;c>=0;--c)if(void 0!==(_=h[n.ORDER[c]])&&(v=_.replay(e,r,t,i,o,a,u,s,p,y,f)))return v},o.prototype.forEachFeatureAtCoordinate=function(e,t,n,i,o,a,u,s,p,y){var l,d=t.getGL();return d.bindFramebuffer(d.FRAMEBUFFER,t.getHitDetectionFramebuffer()),void 0!==this.renderBuffer_&&(l=(0,r.buffer)((0,r.createOrUpdateFromCoordinate)(e),i*this.renderBuffer_)),this.replayHitDetection_(t,e,i,o,f,u,s,p,function(e){var r=new Uint8Array(4);if(d.readPixels(0,0,1,1,d.RGBA,d.UNSIGNED_BYTE,r),r[3]>0){var t=y(e);if(t)return t}},!0,l)},o.prototype.hasFeatureAtCoordinate=function(e,r,t,n,i,o,a,u,s){var p=r.getGL();return p.bindFramebuffer(p.FRAMEBUFFER,r.getHitDetectionFramebuffer()),void 0!==this.replayHitDetection_(r,e,n,i,f,a,u,s,function(e){var r=new Uint8Array(4);return p.readPixels(0,0,1,1,p.RGBA,p.UNSIGNED_BYTE,r),r[3]>0},!1)},o}(i.default),c=d;exports.default=c;
},{"../../array.js":"luEr","../../extent.js":"QDir","../../obj.js":"mH6q","../replay.js":"FzwX","../ReplayGroup.js":"TK0U","./CircleReplay.js":"sHZH","./ImageReplay.js":"cwcG","./LineStringReplay.js":"Nu72","./PolygonReplay.js":"Cbiy","./TextReplay.js":"0Vdg"}],"PT5w":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../extent.js"),e=l(require("../../geom/GeometryType.js")),i=l(require("../ReplayType.js")),s=l(require("../VectorContext.js")),o=l(require("./ReplayGroup.js"));function l(t){return t&&t.__esModule?t:{default:t}}var r=function(s){function l(t,e,i,o,l,r,n){s.call(this),this.context_=t,this.center_=e,this.extent_=r,this.pixelRatio_=n,this.size_=l,this.rotation_=o,this.resolution_=i,this.imageStyle_=null,this.fillStyle_=null,this.strokeStyle_=null,this.textStyle_=null}return s&&(l.__proto__=s),l.prototype=Object.create(s&&s.prototype),l.prototype.constructor=l,l.prototype.drawText_=function(t,e){var s=this.context_,o=t.getReplay(0,i.default.TEXT);o.setTextStyle(this.textStyle_),o.drawText(e,null),o.finish(s);o.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),o.getDeleteResourcesFunction(s)()},l.prototype.setStyle=function(t){this.setFillStrokeStyle(t.getFill(),t.getStroke()),this.setImageStyle(t.getImage()),this.setTextStyle(t.getText())},l.prototype.drawGeometry=function(t){switch(t.getType()){case e.default.POINT:this.drawPoint(t,null);break;case e.default.LINE_STRING:this.drawLineString(t,null);break;case e.default.POLYGON:this.drawPolygon(t,null);break;case e.default.MULTI_POINT:this.drawMultiPoint(t,null);break;case e.default.MULTI_LINE_STRING:this.drawMultiLineString(t,null);break;case e.default.MULTI_POLYGON:this.drawMultiPolygon(t,null);break;case e.default.GEOMETRY_COLLECTION:this.drawGeometryCollection(t,null);break;case e.default.CIRCLE:this.drawCircle(t,null)}},l.prototype.drawFeature=function(e,i){var s=i.getGeometryFunction()(e);s&&(0,t.intersects)(this.extent_,s.getExtent())&&(this.setStyle(i),this.drawGeometry(s))},l.prototype.drawGeometryCollection=function(t,e){var i,s,o=t.getGeometriesArray();for(i=0,s=o.length;i<s;++i)this.drawGeometry(o[i])},l.prototype.drawPoint=function(t,e){var s=this.context_,l=new o.default(1,this.extent_),r=l.getReplay(0,i.default.IMAGE);r.setImageStyle(this.imageStyle_),r.drawPoint(t,e),r.finish(s);r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(s)(),this.textStyle_&&this.drawText_(l,t)},l.prototype.drawMultiPoint=function(t,e){var s=this.context_,l=new o.default(1,this.extent_),r=l.getReplay(0,i.default.IMAGE);r.setImageStyle(this.imageStyle_),r.drawMultiPoint(t,e),r.finish(s);r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(s)(),this.textStyle_&&this.drawText_(l,t)},l.prototype.drawLineString=function(t,e){var s=this.context_,l=new o.default(1,this.extent_),r=l.getReplay(0,i.default.LINE_STRING);r.setFillStrokeStyle(null,this.strokeStyle_),r.drawLineString(t,e),r.finish(s);r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(s)(),this.textStyle_&&this.drawText_(l,t)},l.prototype.drawMultiLineString=function(t,e){var s=this.context_,l=new o.default(1,this.extent_),r=l.getReplay(0,i.default.LINE_STRING);r.setFillStrokeStyle(null,this.strokeStyle_),r.drawMultiLineString(t,e),r.finish(s);r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(s)(),this.textStyle_&&this.drawText_(l,t)},l.prototype.drawPolygon=function(t,e){var s=this.context_,l=new o.default(1,this.extent_),r=l.getReplay(0,i.default.POLYGON);r.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),r.drawPolygon(t,e),r.finish(s);r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(s)(),this.textStyle_&&this.drawText_(l,t)},l.prototype.drawMultiPolygon=function(t,e){var s=this.context_,l=new o.default(1,this.extent_),r=l.getReplay(0,i.default.POLYGON);r.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),r.drawMultiPolygon(t,e),r.finish(s);r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(s)(),this.textStyle_&&this.drawText_(l,t)},l.prototype.drawCircle=function(t,e){var s=this.context_,l=new o.default(1,this.extent_),r=l.getReplay(0,i.default.CIRCLE);r.setFillStrokeStyle(this.fillStyle_,this.strokeStyle_),r.drawCircle(t,e),r.finish(s);r.replay(this.context_,this.center_,this.resolution_,this.rotation_,this.size_,this.pixelRatio_,1,{},void 0,!1),r.getDeleteResourcesFunction(s)(),this.textStyle_&&this.drawText_(l,t)},l.prototype.setImageStyle=function(t){this.imageStyle_=t},l.prototype.setFillStrokeStyle=function(t,e){this.fillStyle_=t,this.strokeStyle_=e},l.prototype.setTextStyle=function(t){this.textStyle_=t},l}(s.default),n=r;exports.default=n;
},{"../../extent.js":"QDir","../../geom/GeometryType.js":"lmV0","../ReplayType.js":"D882","../VectorContext.js":"4LQ/","./ReplayGroup.js":"aOHC"}],"6MfN":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.vertex=exports.fragment=void 0;var e=require("../../webgl.js"),o=t(require("../../webgl/Fragment.js")),r=t(require("../../webgl/Vertex.js"));function t(e){return e&&e.__esModule?e:{default:e}}var n=new o.default(e.DEBUG?"precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform float u_opacity;\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  vec4 texColor = texture2D(u_texture, v_texCoord);\n  gl_FragColor.rgb = texColor.rgb;\n  gl_FragColor.a = texColor.a * u_opacity;\n}\n":"precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor=texture2D(g,a);gl_FragColor.rgb=texColor.rgb;gl_FragColor.a=texColor.a*f;}");exports.fragment=n;var i=new r.default(e.DEBUG?"varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\n\nuniform mat4 u_texCoordMatrix;\nuniform mat4 u_projectionMatrix;\n\nvoid main(void) {\n  gl_Position = u_projectionMatrix * vec4(a_position, 0., 1.);\n  v_texCoord = (u_texCoordMatrix * vec4(a_texCoord, 0., 1.)).st;\n}\n\n\n":"varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position=e*vec4(b,0.,1.);a=(d*vec4(c,0.,1.)).st;}");exports.vertex=i;
},{"../../webgl.js":"SCyv","../../webgl/Fragment.js":"SAYv","../../webgl/Vertex.js":"mo14"}],"jKm2":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../../webgl.js"),o=function(o,i){this.u_texCoordMatrix=o.getUniformLocation(i,t.DEBUG?"u_texCoordMatrix":"d"),this.u_projectionMatrix=o.getUniformLocation(i,t.DEBUG?"u_projectionMatrix":"e"),this.u_opacity=o.getUniformLocation(i,t.DEBUG?"u_opacity":"f"),this.u_texture=o.getUniformLocation(i,t.DEBUG?"u_texture":"g"),this.a_position=o.getAttribLocation(i,t.DEBUG?"a_position":"b"),this.a_texCoord=o.getAttribLocation(i,t.DEBUG?"a_texCoord":"c")},i=o;exports.default=i;
},{"../../../webgl.js":"SCyv"}],"7nUx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../util.js"),t=m(require("../../render/Event.js")),r=m(require("../../render/EventType.js")),i=m(require("../../render/webgl/Immediate.js")),o=m(require("../Layer.js")),a=require("./defaultmapshader.js"),n=m(require("./defaultmapshader/Locations.js")),u=require("../../transform.js"),f=require("../../vec/mat4.js"),s=require("../../webgl.js"),p=m(require("../../webgl/Buffer.js")),d=require("../../webgl/Context.js");function m(e){return e&&e.__esModule?e:{default:e}}var l=function(o){function m(e,t){o.call(this,t),this.mapRenderer=e,this.arrayBuffer_=new p.default([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]),this.texture=null,this.framebuffer=null,this.framebufferDimension=void 0,this.texCoordMatrix=(0,u.create)(),this.projectionMatrix=(0,u.create)(),this.tmpMat4_=(0,f.create)(),this.defaultLocations_=null}return o&&(m.__proto__=o),m.prototype=Object.create(o&&o.prototype),m.prototype.constructor=m,m.prototype.bindFramebuffer=function(e,t){var r=this.mapRenderer.getGL();if(void 0===this.framebufferDimension||this.framebufferDimension!=t){var i=function(e,t,r){e.isContextLost()||(e.deleteFramebuffer(t),e.deleteTexture(r))}.bind(null,r,this.framebuffer,this.texture);e.postRenderFunctions.push(i);var o=(0,d.createEmptyTexture)(r,t,t),a=r.createFramebuffer();r.bindFramebuffer(s.FRAMEBUFFER,a),r.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,o,0),this.texture=o,this.framebuffer=a,this.framebufferDimension=t}else r.bindFramebuffer(s.FRAMEBUFFER,this.framebuffer)},m.prototype.composeFrame=function(e,t,i){this.dispatchComposeEvent_(r.default.PRECOMPOSE,i,e),i.bindBuffer(s.ARRAY_BUFFER,this.arrayBuffer_);var o,u=i.getGL(),p=i.getProgram(a.fragment,a.vertex);this.defaultLocations_?o=this.defaultLocations_:(o=new n.default(u,p),this.defaultLocations_=o),i.useProgram(p)&&(u.enableVertexAttribArray(o.a_position),u.vertexAttribPointer(o.a_position,2,s.FLOAT,!1,16,0),u.enableVertexAttribArray(o.a_texCoord),u.vertexAttribPointer(o.a_texCoord,2,s.FLOAT,!1,16,8),u.uniform1i(o.u_texture,0)),u.uniformMatrix4fv(o.u_texCoordMatrix,!1,(0,f.fromTransform)(this.tmpMat4_,this.getTexCoordMatrix())),u.uniformMatrix4fv(o.u_projectionMatrix,!1,(0,f.fromTransform)(this.tmpMat4_,this.getProjectionMatrix())),u.uniform1f(o.u_opacity,t.opacity),u.bindTexture(s.TEXTURE_2D,this.getTexture()),u.drawArrays(s.TRIANGLE_STRIP,0,4),this.dispatchComposeEvent_(r.default.POSTCOMPOSE,i,e)},m.prototype.dispatchComposeEvent_=function(e,r,o){var a=this.getLayer();if(a.hasListener(e)){var n=o.viewState,u=n.resolution,f=o.pixelRatio,s=o.extent,p=n.center,d=n.rotation,m=o.size,l=new i.default(r,p,u,d,m,s,f),c=new t.default(e,l,o,null,r);a.dispatchEvent(c)}},m.prototype.getTexCoordMatrix=function(){return this.texCoordMatrix},m.prototype.getTexture=function(){return this.texture},m.prototype.getProjectionMatrix=function(){return this.projectionMatrix},m.prototype.handleWebGLContextLost=function(){this.texture=null,this.framebuffer=null,this.framebufferDimension=void 0},m.prototype.prepareFrame=function(t,r,i){return(0,e.abstract)()},m.prototype.forEachLayerAtPixel=function(t,r,i,o){return(0,e.abstract)()},m}(o.default),c=l;exports.default=c;
},{"../../util.js":"KniQ","../../render/Event.js":"E+B6","../../render/EventType.js":"z39m","../../render/webgl/Immediate.js":"PT5w","../Layer.js":"fpOz","./defaultmapshader.js":"6MfN","./defaultmapshader/Locations.js":"jKm2","../../transform.js":"P4eA","../../vec/mat4.js":"UkOi","../../webgl.js":"SCyv","../../webgl/Buffer.js":"zsRd","../../webgl/Context.js":"2nJO"}],"w+NT":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../reproj/common.js"),e=h(require("../../LayerType.js")),r=h(require("../../ViewHint.js")),a=require("../../dom.js"),i=require("../../extent.js"),n=h(require("./Layer.js")),s=require("../../transform.js"),o=require("../../webgl.js"),u=require("../../webgl/Context.js");function h(t){return t&&t.__esModule?t:{default:t}}var l=function(e){function n(t,r){e.call(this,t,r),this.image_=null,this.hitCanvasContext_=null,this.hitTransformationMatrix_=null}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.createTexture_=function(t){var e=t.getImage(),r=this.mapRenderer.getGL();return(0,u.createTexture)(r,e,o.CLAMP_TO_EDGE,o.CLAMP_TO_EDGE)},n.prototype.prepareFrame=function(e,a,n){var o=this.mapRenderer.getGL(),u=e.pixelRatio,h=e.viewState,l=h.center,c=h.resolution,p=h.rotation,g=this.image_,x=this.texture,_=this.getLayer().getSource(),f=e.viewHints,m=e.extent;if(void 0!==a.extent&&(m=(0,i.getIntersection)(m,a.extent)),!f[r.default.ANIMATING]&&!f[r.default.INTERACTING]&&!(0,i.isEmpty)(m)){var v=h.projection;if(!t.ENABLE_RASTER_REPROJECTION){var d=_.getProjection();d&&(v=d)}var C=_.getImage(m,c,u,v);if(C)if(this.loadImage(C)&&(g=C,x=this.createTexture_(C),this.texture)){var y=function(t,e){t.isContextLost()||t.deleteTexture(e)}.bind(null,o,this.texture);e.postRenderFunctions.push(y)}}if(g){var T=this.mapRenderer.getContext().getCanvas();this.updateProjectionMatrix_(T.width,T.height,u,l,c,p,g.getExtent()),this.hitTransformationMatrix_=null;var j=this.texCoordMatrix;(0,s.reset)(j),(0,s.scale)(j,1,-1),(0,s.translate)(j,0,-1),this.image_=g,this.texture=x}return!!g},n.prototype.updateProjectionMatrix_=function(t,e,r,a,i,n,o){var u=t*i,h=e*i,l=this.projectionMatrix;(0,s.reset)(l),(0,s.scale)(l,2*r/u,2*r/h),(0,s.rotate)(l,-n),(0,s.translate)(l,o[0]-a[0],o[1]-a[1]),(0,s.scale)(l,(o[2]-o[0])/2,(o[3]-o[1])/2),(0,s.translate)(l,1,1)},n.prototype.forEachLayerAtPixel=function(t,e,r,i){if(this.image_&&this.image_.getImage()){var n=[this.image_.getImage().width,this.image_.getImage().height];this.hitTransformationMatrix_||(this.hitTransformationMatrix_=this.getHitTransformationMatrix_(e.size,n));var o=(0,s.apply)(this.hitTransformationMatrix_,t.slice());if(!(o[0]<0||o[0]>n[0]||o[1]<0||o[1]>n[1])){this.hitCanvasContext_||(this.hitCanvasContext_=(0,a.createCanvasContext2D)(1,1)),this.hitCanvasContext_.clearRect(0,0,1,1),this.hitCanvasContext_.drawImage(this.image_.getImage(),o[0],o[1],1,1,0,0,1,1);var u=this.hitCanvasContext_.getImageData(0,0,1,1).data;return u[3]>0?r.call(i,this.getLayer(),u):void 0}}},n.prototype.getHitTransformationMatrix_=function(t,e){var r=(0,s.create)();(0,s.translate)(r,-1,-1),(0,s.scale)(r,2/t[0],2/t[1]),(0,s.translate)(r,0,t[1]),(0,s.scale)(r,1,-1);var a=(0,s.invert)(this.projectionMatrix.slice()),i=(0,s.create)();return(0,s.translate)(i,0,e[1]),(0,s.scale)(i,1,-1),(0,s.scale)(i,e[0]/2,e[1]/2),(0,s.translate)(i,1,1),(0,s.multiply)(i,a),(0,s.multiply)(i,r),i},n}(n.default);l.handles=function(t){return t.getType()===e.default.IMAGE},l.create=function(t,e){return new l(t,e)};var c=l;exports.default=c;
},{"../../reproj/common.js":"7f+F","../../LayerType.js":"8+bQ","../../ViewHint.js":"cuLW","../../dom.js":"Xno5","../../extent.js":"QDir","./Layer.js":"7nUx","../../transform.js":"P4eA","../../webgl.js":"SCyv","../../webgl/Context.js":"2nJO"}],"VyQL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../array.js"),t=require("../../css.js"),r=require("../../dom.js"),i=require("../../events.js"),a=require("../../layer/Layer.js"),s=f(require("../../render/Event.js")),n=f(require("../../render/EventType.js")),o=f(require("../../render/webgl/Immediate.js")),u=T(require("../Map.js")),h=f(require("../../source/State.js")),l=f(require("../../structs/LRUCache.js")),c=f(require("../../structs/PriorityQueue.js")),_=require("../../webgl.js"),d=f(require("../../webgl/Context.js")),p=f(require("../../webgl/ContextEventType.js"));function T(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};i.get||i.set?Object.defineProperty(t,r,i):t[r]=e[r]}return t.default=e,t}function f(e){return e&&e.__esModule?e:{default:e}}var x=1024,E=function(T){function f(e){T.call(this,e);var a=e.getViewport();this.canvas_=document.createElement("canvas"),this.canvas_.style.width="100%",this.canvas_.style.height="100%",this.canvas_.style.display="block",this.canvas_.className=t.CLASS_UNSELECTABLE,a.insertBefore(this.canvas_,a.childNodes[0]||null),this.clipTileCanvasWidth_=0,this.clipTileCanvasHeight_=0,this.clipTileContext_=(0,r.createCanvasContext2D)(),this.renderedVisible_=!0,this.gl_=(0,_.getContext)(this.canvas_,{antialias:!0,depth:!0,failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!1,stencil:!0}),this.context_=new d.default(this.canvas_,this.gl_),(0,i.listen)(this.canvas_,p.default.LOST,this.handleWebGLContextLost,this),(0,i.listen)(this.canvas_,p.default.RESTORED,this.handleWebGLContextRestored,this),this.textureCache_=new l.default,this.focus_=null,this.tileTextureQueue_=new c.default(function(e){var t=e[1],r=e[2],i=t[0]-this.focus_[0],a=t[1]-this.focus_[1];return 65536*Math.log(r)+Math.sqrt(i*i+a*a)/r}.bind(this),function(e){return e[0].getKey()}),this.loadNextTileTexture_=function(e,t){if(!this.tileTextureQueue_.isEmpty()){this.tileTextureQueue_.reprioritize();var r=this.tileTextureQueue_.dequeue(),i=r[0],a=r[3],s=r[4];this.bindTileTexture(i,a,s,_.LINEAR,_.LINEAR)}return!1}.bind(this),this.textureCacheFrameMarkerCount_=0,this.initializeGL_()}return T&&(f.__proto__=T),f.prototype=Object.create(T&&T.prototype),f.prototype.constructor=f,f.prototype.bindTileTexture=function(e,t,r,i,a){var s=this.getGL(),n=e.getKey();if(this.textureCache_.containsKey(n)){var o=this.textureCache_.get(n);s.bindTexture(_.TEXTURE_2D,o.texture),o.magFilter!=i&&(s.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,i),o.magFilter=i),o.minFilter!=a&&(s.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,a),o.minFilter=a)}else{var u=s.createTexture(),h=e;if(s.bindTexture(_.TEXTURE_2D,u),r>0){var l=this.clipTileContext_.canvas,c=this.clipTileContext_;this.clipTileCanvasWidth_!==t[0]||this.clipTileCanvasHeight_!==t[1]?(l.width=t[0],l.height=t[1],this.clipTileCanvasWidth_=t[0],this.clipTileCanvasHeight_=t[1]):c.clearRect(0,0,t[0],t[1]),c.drawImage(h.getImage(),r,r,t[0],t[1],0,0,t[0],t[1]),s.texImage2D(_.TEXTURE_2D,0,_.RGBA,_.RGBA,_.UNSIGNED_BYTE,l)}else s.texImage2D(_.TEXTURE_2D,0,_.RGBA,_.RGBA,_.UNSIGNED_BYTE,h.getImage());s.texParameteri(_.TEXTURE_2D,_.TEXTURE_MAG_FILTER,i),s.texParameteri(_.TEXTURE_2D,_.TEXTURE_MIN_FILTER,a),s.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_S,_.CLAMP_TO_EDGE),s.texParameteri(_.TEXTURE_2D,_.TEXTURE_WRAP_T,_.CLAMP_TO_EDGE),this.textureCache_.set(n,{texture:u,magFilter:i,minFilter:a})}},f.prototype.dispatchRenderEvent=function(e,t){var r=this.getMap();if(r.hasListener(e)){var i=this.context_,a=t.extent,n=t.size,u=t.viewState,h=t.pixelRatio,l=u.resolution,c=u.center,_=u.rotation,d=new o.default(i,c,l,_,n,a,h),p=new s.default(e,d,t,null,i);r.dispatchEvent(p)}},f.prototype.disposeInternal=function(){var e=this.getGL();e.isContextLost()||this.textureCache_.forEach(function(t){t&&e.deleteTexture(t.texture)}),this.context_.dispose(),T.prototype.disposeInternal.call(this)},f.prototype.expireCache_=function(e,t){for(var r,i=this.getGL();this.textureCache_.getCount()-this.textureCacheFrameMarkerCount_>x;){if(r=this.textureCache_.peekLast())i.deleteTexture(r.texture);else{if(+this.textureCache_.peekLastKey()==t.index)break;--this.textureCacheFrameMarkerCount_}this.textureCache_.pop()}},f.prototype.getContext=function(){return this.context_},f.prototype.getGL=function(){return this.gl_},f.prototype.getTileTextureQueue=function(){return this.tileTextureQueue_},f.prototype.handleWebGLContextLost=function(e){e.preventDefault(),this.textureCache_.clear(),this.textureCacheFrameMarkerCount_=0;var t=this.getLayerRenderers();for(var r in t){t[r].handleWebGLContextLost()}},f.prototype.handleWebGLContextRestored=function(){this.initializeGL_(),this.getMap().render()},f.prototype.initializeGL_=function(){var e=this.gl_;e.activeTexture(_.TEXTURE0),e.blendFuncSeparate(_.SRC_ALPHA,_.ONE_MINUS_SRC_ALPHA,_.ONE,_.ONE_MINUS_SRC_ALPHA),e.disable(_.CULL_FACE),e.disable(_.DEPTH_TEST),e.disable(_.SCISSOR_TEST),e.disable(_.STENCIL_TEST)},f.prototype.isTileTextureLoaded=function(e){return this.textureCache_.containsKey(e.getKey())},f.prototype.renderFrame=function(t){var r=this.getContext(),i=this.getGL();if(i.isContextLost())return!1;if(!t)return this.renderedVisible_&&(this.canvas_.style.display="none",this.renderedVisible_=!1),!1;this.focus_=t.focus,this.textureCache_.set((-t.index).toString(),null),++this.textureCacheFrameMarkerCount_,this.dispatchRenderEvent(n.default.PRECOMPOSE,t);var s=[],o=t.layerStatesArray;(0,e.stableSort)(o,u.sortByZIndex);var l,c,d=t.viewState.resolution;for(l=0,c=o.length;l<c;++l){var p=o[l];if((0,a.visibleAtResolution)(p,d)&&p.sourceState==h.default.READY)this.getLayerRenderer(p.layer).prepareFrame(t,p,r)&&s.push(p)}var T=t.size[0]*t.pixelRatio,f=t.size[1]*t.pixelRatio;for(this.canvas_.width==T&&this.canvas_.height==f||(this.canvas_.width=T,this.canvas_.height=f),i.bindFramebuffer(_.FRAMEBUFFER,null),i.clearColor(0,0,0,0),i.clear(_.COLOR_BUFFER_BIT),i.enable(_.BLEND),i.viewport(0,0,this.canvas_.width,this.canvas_.height),l=0,c=s.length;l<c;++l){var E=s[l];this.getLayerRenderer(E.layer).composeFrame(t,E,r)}this.renderedVisible_||(this.canvas_.style.display="",this.renderedVisible_=!0),this.calculateMatrices2D(t),this.textureCache_.getCount()-this.textureCacheFrameMarkerCount_>x&&t.postRenderFunctions.push(this.expireCache_.bind(this)),this.tileTextureQueue_.isEmpty()||(t.postRenderFunctions.push(this.loadNextTileTexture_),t.animate=!0),this.dispatchRenderEvent(n.default.POSTCOMPOSE,t),this.scheduleRemoveUnusedLayerRenderers(t),this.scheduleExpireIconCache(t)},f.prototype.forEachFeatureAtCoordinate=function(e,t,r,i,s,n,o){var u;if(this.getGL().isContextLost())return!1;var h,l=t.viewState,c=t.layerStatesArray;for(h=c.length-1;h>=0;--h){var _=c[h],d=_.layer;if((0,a.visibleAtResolution)(_,l.resolution)&&n.call(o,d))if(u=this.getLayerRenderer(d).forEachFeatureAtCoordinate(e,t,r,i))return u}},f.prototype.hasFeatureAtCoordinate=function(e,t,r,i,s){var n=!1;if(this.getGL().isContextLost())return!1;var o,u=t.viewState,h=t.layerStatesArray;for(o=h.length-1;o>=0;--o){var l=h[o],c=l.layer;if((0,a.visibleAtResolution)(l,u.resolution)&&i.call(s,c))if(n=this.getLayerRenderer(c).hasFeatureAtCoordinate(e,t))return!0}return n},f.prototype.forEachLayerAtPixel=function(e,t,r,i,s,n,o){if(this.getGL().isContextLost())return!1;var u,h,l=t.viewState,c=t.layerStatesArray;for(h=c.length-1;h>=0;--h){var _=c[h],d=_.layer;if((0,a.visibleAtResolution)(_,l.resolution)&&n.call(s,d))if(u=this.getLayerRenderer(d).forEachLayerAtPixel(e,t,i,s))return u}},f}(u.default),v=E;exports.default=v;
},{"../../array.js":"luEr","../../css.js":"HgMV","../../dom.js":"Xno5","../../events.js":"55Uq","../../layer/Layer.js":"GCgv","../../render/Event.js":"E+B6","../../render/EventType.js":"z39m","../../render/webgl/Immediate.js":"PT5w","../Map.js":"8oIh","../../source/State.js":"iC8j","../../structs/LRUCache.js":"oMDz","../../structs/PriorityQueue.js":"RQLY","../../webgl.js":"SCyv","../../webgl/Context.js":"2nJO","../../webgl/ContextEventType.js":"HqWy"}],"5dp/":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("./common.js"),e=require("../asserts.js"),i=h(require("../TileRange.js")),o=require("../array.js"),r=require("../extent.js"),n=require("../math.js"),s=require("../size.js"),l=require("../tilecoord.js");function h(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,i):{};o.get||o.set?Object.defineProperty(e,i,o):e[i]=t[i]}return e.default=t,e}var a=[0,0,0],u=function(n){var s;if(this.minZoom=void 0!==n.minZoom?n.minZoom:0,this.resolutions_=n.resolutions,(0,e.assert)((0,o.isSorted)(this.resolutions_,function(t,e){return e-t},!0),17),!n.origins)for(var l=0,h=this.resolutions_.length-1;l<h;++l)if(s){if(this.resolutions_[l]/this.resolutions_[l+1]!==s){s=void 0;break}}else s=this.resolutions_[l]/this.resolutions_[l+1];this.zoomFactor_=s,this.maxZoom=this.resolutions_.length-1,this.origin_=void 0!==n.origin?n.origin:null,this.origins_=null,void 0!==n.origins&&(this.origins_=n.origins,(0,e.assert)(this.origins_.length==this.resolutions_.length,20));var a=n.extent;void 0===a||this.origin_||this.origins_||(this.origin_=(0,r.getTopLeft)(a)),(0,e.assert)(!this.origin_&&this.origins_||this.origin_&&!this.origins_,18),this.tileSizes_=null,void 0!==n.tileSizes&&(this.tileSizes_=n.tileSizes,(0,e.assert)(this.tileSizes_.length==this.resolutions_.length,19)),this.tileSize_=void 0!==n.tileSize?n.tileSize:this.tileSizes_?null:t.DEFAULT_TILE_SIZE,(0,e.assert)(!this.tileSize_&&this.tileSizes_||this.tileSize_&&!this.tileSizes_,22),this.extent_=void 0!==a?a:null,this.fullTileRanges_=null,this.tmpSize_=[0,0],void 0!==n.sizes?this.fullTileRanges_=n.sizes.map(function(t,e){return new i.default(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))},this):a&&this.calculateTileRanges_(a)};u.prototype.forEachTileCoord=function(t,e,i){for(var o=this.getTileRangeForExtentAndZ(t,e),r=o.minX,n=o.maxX;r<=n;++r)for(var s=o.minY,l=o.maxY;s<=l;++s)i([e,r,s])},u.prototype.forEachTileCoordParentTileRange=function(t,e,o,r,n){var s,l,h,a=null,u=t[0]-1;for(2===this.zoomFactor_?(l=t[1],h=t[2]):a=this.getTileCoordExtent(t,n);u>=this.minZoom;){if(2===this.zoomFactor_?(l=Math.floor(l/2),h=Math.floor(h/2),s=(0,i.createOrUpdate)(l,l,h,h,r)):s=this.getTileRangeForExtentAndZ(a,u,r),e.call(o,u,s))return!0;--u}return!1},u.prototype.getExtent=function(){return this.extent_},u.prototype.getMaxZoom=function(){return this.maxZoom},u.prototype.getMinZoom=function(){return this.minZoom},u.prototype.getOrigin=function(t){return this.origin_?this.origin_:this.origins_[t]},u.prototype.getResolution=function(t){return this.resolutions_[t]},u.prototype.getResolutions=function(){return this.resolutions_},u.prototype.getTileCoordChildTileRange=function(t,e,o){if(t[0]<this.maxZoom){if(2===this.zoomFactor_){var r=2*t[1],n=2*t[2];return(0,i.createOrUpdate)(r,r+1,n,n+1,e)}var s=this.getTileCoordExtent(t,o);return this.getTileRangeForExtentAndZ(s,t[0]+1,e)}return null},u.prototype.getTileRangeExtent=function(t,e,i){var o=this.getOrigin(t),n=this.getResolution(t),l=(0,s.toSize)(this.getTileSize(t),this.tmpSize_),h=o[0]+e.minX*l[0]*n,a=o[0]+(e.maxX+1)*l[0]*n,u=o[1]+e.minY*l[1]*n,g=o[1]+(e.maxY+1)*l[1]*n;return(0,r.createOrUpdate)(h,u,a,g,i)},u.prototype.getTileRangeForExtentAndZ=function(t,e,o){var r=a;this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,r);var n=r[1],s=r[2];return this.getTileCoordForXYAndZ_(t[2],t[3],e,!0,r),(0,i.createOrUpdate)(n,r[1],s,r[2],o)},u.prototype.getTileCoordCenter=function(t){var e=this.getOrigin(t[0]),i=this.getResolution(t[0]),o=(0,s.toSize)(this.getTileSize(t[0]),this.tmpSize_);return[e[0]+(t[1]+.5)*o[0]*i,e[1]+(t[2]+.5)*o[1]*i]},u.prototype.getTileCoordExtent=function(t,e){var i=this.getOrigin(t[0]),o=this.getResolution(t[0]),n=(0,s.toSize)(this.getTileSize(t[0]),this.tmpSize_),l=i[0]+t[1]*n[0]*o,h=i[1]+t[2]*n[1]*o,a=l+n[0]*o,u=h+n[1]*o;return(0,r.createOrUpdate)(l,h,a,u,e)},u.prototype.getTileCoordForCoordAndResolution=function(t,e,i){return this.getTileCoordForXYAndResolution_(t[0],t[1],e,!1,i)},u.prototype.getTileCoordForXYAndResolution_=function(t,e,i,o,r){var n=this.getZForResolution(i),h=i/this.getResolution(n),a=this.getOrigin(n),u=(0,s.toSize)(this.getTileSize(n),this.tmpSize_),g=o?.5:0,p=o?0:.5,_=Math.floor((t-a[0])/i+g),f=Math.floor((e-a[1])/i+p),c=h*_/u[0],d=h*f/u[1];return o?(c=Math.ceil(c)-1,d=Math.ceil(d)-1):(c=Math.floor(c),d=Math.floor(d)),(0,l.createOrUpdate)(n,c,d,r)},u.prototype.getTileCoordForXYAndZ_=function(t,e,i,o,r){var n=this.getOrigin(i),h=this.getResolution(i),a=(0,s.toSize)(this.getTileSize(i),this.tmpSize_),u=o?.5:0,g=o?0:.5,p=Math.floor((t-n[0])/h+u),_=Math.floor((e-n[1])/h+g),f=p/a[0],c=_/a[1];return o?(f=Math.ceil(f)-1,c=Math.ceil(c)-1):(f=Math.floor(f),c=Math.floor(c)),(0,l.createOrUpdate)(i,f,c,r)},u.prototype.getTileCoordForCoordAndZ=function(t,e,i){return this.getTileCoordForXYAndZ_(t[0],t[1],e,!1,i)},u.prototype.getTileCoordResolution=function(t){return this.resolutions_[t[0]]},u.prototype.getTileSize=function(t){return this.tileSize_?this.tileSize_:this.tileSizes_[t]},u.prototype.getFullTileRange=function(t){return this.fullTileRanges_?this.fullTileRanges_[t]:null},u.prototype.getZForResolution=function(t,e){var i=(0,o.linearFindNearest)(this.resolutions_,t,e||0);return(0,n.clamp)(i,this.minZoom,this.maxZoom)},u.prototype.calculateTileRanges_=function(t){for(var e=this.resolutions_.length,i=new Array(e),o=this.minZoom;o<e;++o)i[o]=this.getTileRangeForExtentAndZ(t,o);this.fullTileRanges_=i};var g=u;exports.default=g;
},{"./common.js":"mOEX","../asserts.js":"fLG6","../TileRange.js":"346s","../array.js":"luEr","../extent.js":"QDir","../math.js":"B96G","../size.js":"TAHd","../tilecoord.js":"2faT"}],"ExRx":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getForProjection=s,exports.wrapX=d,exports.createForExtent=l,exports.createXYZ=c,exports.createForProjection=x,exports.extentFromProjection=g;var e=require("./tilegrid/common.js"),t=require("./size.js"),r=require("./extent.js"),i=a(require("./extent/Corner.js")),o=require("./proj.js"),n=a(require("./proj/Units.js")),u=a(require("./tilegrid/TileGrid.js"));function a(e){return e&&e.__esModule?e:{default:e}}function s(e){var t=e.getDefaultTileGrid();return t||(t=x(e),e.setDefaultTileGrid(t)),t}function d(e,t,i){var o=t[0],n=e.getTileCoordCenter(t),u=g(i);if((0,r.containsCoordinate)(u,n))return t;var a=(0,r.getWidth)(u),s=Math.ceil((u[0]-n[0])/a);return n[0]+=a*s,e.getTileCoordForCoordAndZ(n,o)}function l(e,t,o,n){var a=void 0!==n?n:i.default.TOP_LEFT,s=f(e,t,o);return new u.default({extent:e,origin:(0,r.getCorner)(e,a),resolutions:s,tileSize:o})}function c(e){var t=e||{},r=t.extent||(0,o.get)("EPSG:3857").getExtent(),i={extent:r,minZoom:t.minZoom,tileSize:t.tileSize,resolutions:f(r,t.maxZoom,t.tileSize)};return new u.default(i)}function f(i,o,n){for(var u=void 0!==o?o:e.DEFAULT_MAX_ZOOM,a=(0,r.getHeight)(i),s=(0,r.getWidth)(i),d=(0,t.toSize)(void 0!==n?n:e.DEFAULT_TILE_SIZE),l=Math.max(s/d[0],a/d[1]),c=u+1,f=new Array(c),x=0;x<c;++x)f[x]=l/Math.pow(2,x);return f}function x(e,t,r,i){return l(g(e),t,r,i)}function g(e){var t=(e=(0,o.get)(e)).getExtent();if(!t){var i=180*o.METERS_PER_UNIT[n.default.DEGREES]/e.getMetersPerUnit();t=(0,r.createOrUpdate)(-i,-i,i,i)}return t}
},{"./tilegrid/common.js":"mOEX","./size.js":"TAHd","./extent.js":"QDir","./extent/Corner.js":"urGY","./proj.js":"Diht","./proj/Units.js":"yZx6","./tilegrid/TileGrid.js":"5dp/"}],"JECm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.TileSourceEvent=void 0;var t=require("../util.js"),e=a(require("../TileCache.js")),i=a(require("../TileState.js")),r=a(require("../events/Event.js")),o=require("../proj.js"),n=require("../size.js"),u=a(require("./Source.js")),l=require("../tilecoord.js"),s=require("../tilegrid.js");function a(t){return t&&t.__esModule?t:{default:t}}var p=function(r){function u(t){r.call(this,{attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,projection:t.projection,state:t.state,wrapX:t.wrapX}),this.opaque_=void 0!==t.opaque&&t.opaque,this.tilePixelRatio_=void 0!==t.tilePixelRatio?t.tilePixelRatio:1,this.tileGrid=void 0!==t.tileGrid?t.tileGrid:null,this.tileCache=new e.default(t.cacheSize),this.tmpSize=[0,0],this.key_=t.key||"",this.tileOptions={transition:t.transition}}return r&&(u.__proto__=r),u.prototype=Object.create(r&&r.prototype),u.prototype.constructor=u,u.prototype.canExpireCache=function(){return this.tileCache.canExpireCache()},u.prototype.expireCache=function(t,e){var i=this.getTileCacheForProjection(t);i&&i.expireCache(e)},u.prototype.forEachLoadedTile=function(t,e,r,o){var n=this.getTileCacheForProjection(t);if(!n)return!1;for(var u,s,a,p=!0,c=r.minX;c<=r.maxX;++c)for(var h=r.minY;h<=r.maxY;++h)s=(0,l.getKeyZXY)(e,c,h),a=!1,n.containsKey(s)&&(a=(u=n.get(s)).getState()===i.default.LOADED)&&(a=!1!==o(u)),a||(p=!1);return p},u.prototype.getGutterForProjection=function(t){return 0},u.prototype.getKey=function(){return this.key_},u.prototype.setKey=function(t){this.key_!==t&&(this.key_=t,this.changed())},u.prototype.getOpaque=function(t){return this.opaque_},u.prototype.getResolutions=function(){return this.tileGrid.getResolutions()},u.prototype.getTile=function(e,i,r,o,n){return(0,t.abstract)()},u.prototype.getTileGrid=function(){return this.tileGrid},u.prototype.getTileGridForProjection=function(t){return this.tileGrid?this.tileGrid:(0,s.getForProjection)(t)},u.prototype.getTileCacheForProjection=function(t){var e=this.getProjection();return e&&!(0,o.equivalent)(e,t)?null:this.tileCache},u.prototype.getTilePixelRatio=function(t){return this.tilePixelRatio_},u.prototype.getTilePixelSize=function(t,e,i){var r=this.getTileGridForProjection(i),o=this.getTilePixelRatio(e),u=(0,n.toSize)(r.getTileSize(t),this.tmpSize);return 1==o?u:(0,n.scale)(u,o,this.tmpSize)},u.prototype.getTileCoordForTileUrlFunction=function(t,e){var i=void 0!==e?e:this.getProjection(),r=this.getTileGridForProjection(i);return this.getWrapX()&&i.isGlobal()&&(t=(0,s.wrapX)(r,t,i)),(0,l.withinExtentAndZ)(t,r)?t:null},u.prototype.refresh=function(){this.tileCache.clear(),this.changed()},u.prototype.useTile=function(t,e,i,r){},u}(u.default),c=function(t){function e(e,i){t.call(this,e),this.tile=i}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(r.default);exports.TileSourceEvent=c;var h=p;exports.default=h;
},{"../util.js":"KniQ","../TileCache.js":"YFDe","../TileState.js":"Xz9x","../events/Event.js":"fKNg","../proj.js":"Diht","../size.js":"TAHd","./Source.js":"H38a","../tilecoord.js":"2faT","../tilegrid.js":"ExRx"}],"POLO":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.vertex=exports.fragment=void 0;var e=require("../../webgl.js"),t=o(require("../../webgl/Fragment.js")),r=o(require("../../webgl/Vertex.js"));function o(e){return e&&e.__esModule?e:{default:e}}var n=new t.default(e.DEBUG?"precision mediump float;\nvarying vec2 v_texCoord;\n\n\nuniform sampler2D u_texture;\n\nvoid main(void) {\n  gl_FragColor = texture2D(u_texture, v_texCoord);\n}\n":"precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor=texture2D(e,a);}");exports.fragment=n;var i=new r.default(e.DEBUG?"varying vec2 v_texCoord;\n\n\nattribute vec2 a_position;\nattribute vec2 a_texCoord;\nuniform vec4 u_tileOffset;\n\nvoid main(void) {\n  gl_Position = vec4(a_position * u_tileOffset.xy + u_tileOffset.zw, 0., 1.);\n  v_texCoord = a_texCoord;\n}\n\n\n":"varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position=vec4(b*d.xy+d.zw,0.,1.);a=c;}");exports.vertex=i;
},{"../../webgl.js":"SCyv","../../webgl/Fragment.js":"SAYv","../../webgl/Vertex.js":"mo14"}],"t0kf":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../../../webgl.js"),e=function(e,o){this.u_tileOffset=e.getUniformLocation(o,t.DEBUG?"u_tileOffset":"d"),this.u_texture=e.getUniformLocation(o,t.DEBUG?"u_texture":"e"),this.a_position=e.getAttribLocation(o,t.DEBUG?"a_position":"b"),this.a_texCoord=e.getAttribLocation(o,t.DEBUG?"a_texCoord":"c")},o=e;exports.default=o;
},{"../../../webgl.js":"SCyv"}],"colh":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=T(require("../../LayerType.js")),t=T(require("../../ImageTile.js")),r=T(require("../../TileRange.js")),i=T(require("../../TileState.js")),o=T(require("../../source/Tile.js")),n=require("../../array.js"),a=require("../../extent.js"),s=require("../../math.js"),l=T(require("./Layer.js")),u=require("./tilelayershader.js"),d=T(require("./tilelayershader/Locations.js")),f=require("../../size.js"),h=require("../../transform.js"),c=require("../../webgl.js"),g=T(require("../../webgl/Buffer.js"));function T(e){return e&&e.__esModule?e:{default:e}}var _=function(e){function l(t,r){e.call(this,t,r),this.fragmentShader_=u.fragment,this.vertexShader_=u.vertex,this.locations_=null,this.renderArrayBuffer_=new g.default([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]),this.renderedTileRange_=null,this.renderedFramebufferExtent_=null,this.renderedRevision_=-1,this.tmpSize_=[0,0]}return e&&(l.__proto__=e),l.prototype=Object.create(e&&e.prototype),l.prototype.constructor=l,l.prototype.disposeInternal=function(){this.mapRenderer.getContext().deleteBuffer(this.renderArrayBuffer_),e.prototype.disposeInternal.call(this)},l.prototype.createLoadedTileFinder=function(e,t,r){var i=this.mapRenderer;return function(o,n){return e.forEachLoadedTile(t,o,n,function(e){var t=i.isTileTextureLoaded(e);return t&&(r[o]||(r[o]={}),r[o][e.tileCoord.toString()]=e),t})}},l.prototype.handleWebGLContextLost=function(){e.prototype.handleWebGLContextLost.call(this),this.locations_=null},l.prototype.prepareFrame=function(e,l,u){var g=this.mapRenderer,T=u.getGL(),_=e.viewState,p=_.projection,m=this.getLayer(),x=m.getSource();if(!(x instanceof o.default))return!0;var R,v=x.getTileGridForProjection(p),y=v.getZForResolution(_.resolution),E=v.getResolution(y),b=x.getTilePixelSize(y,e.pixelRatio,p),L=b[0]/(0,f.toSize)(v.getTileSize(y),this.tmpSize_)[0],C=E/L,A=x.getTilePixelRatio(L)*x.getGutterForProjection(p),F=_.center,j=e.extent,S=v.getTileRangeForExtentAndZ(j,y);if(this.renderedTileRange_&&this.renderedTileRange_.equals(S)&&this.renderedRevision_==x.getRevision())R=this.renderedFramebufferExtent_;else{var P=S.getSize(),q=Math.max(P[0]*b[0],P[1]*b[1]),O=(0,s.roundUpToPowerOfTwo)(q),w=C*O,B=v.getOrigin(y),z=B[0]+S.minX*b[0]*C,I=B[1]+S.minY*b[1]*C;R=[z,I,z+w,I+w],this.bindFramebuffer(e,O),T.viewport(0,0,O,O),T.clearColor(0,0,0,0),T.clear(c.COLOR_BUFFER_BIT),T.disable(c.BLEND);var D=u.getProgram(this.fragmentShader_,this.vertexShader_);u.useProgram(D),this.locations_||(this.locations_=new d.default(T,D)),u.bindBuffer(c.ARRAY_BUFFER,this.renderArrayBuffer_),T.enableVertexAttribArray(this.locations_.a_position),T.vertexAttribPointer(this.locations_.a_position,2,c.FLOAT,!1,16,0),T.enableVertexAttribArray(this.locations_.a_texCoord),T.vertexAttribPointer(this.locations_.a_texCoord,2,c.FLOAT,!1,16,8),T.uniform1i(this.locations_.u_texture,0);var M={};M[y]={};var G,U,N,Y,X,K,Q=this.createLoadedTileFinder(x,p,M),V=m.getUseInterimTilesOnError(),W=!0,Z=(0,a.createEmpty)(),k=new r.default(0,0,0,0);for(Y=S.minX;Y<=S.maxX;++Y)for(X=S.minY;X<=S.maxY;++X)if(U=x.getTile(y,Y,X,L,p),void 0===l.extent||(K=v.getTileCoordExtent(U.tileCoord,Z),(0,a.intersects)(K,l.extent))){if((N=U.getState())==i.default.LOADED||N==i.default.EMPTY||N==i.default.ERROR&&!V||(U=U.getInterimTile()),(N=U.getState())==i.default.LOADED){if(g.isTileTextureLoaded(U)){M[y][U.tileCoord.toString()]=U;continue}}else if(N==i.default.EMPTY||N==i.default.ERROR&&!V)continue;W=!1,v.forEachTileCoordParentTileRange(U.tileCoord,Q,null,k,Z)||(G=v.getTileCoordChildTileRange(U.tileCoord,k,Z))&&Q(y+1,G)}var H=Object.keys(M).map(Number);H.sort(n.numberSafeCompareFunction);for(var J=new Float32Array(4),$=0,ee=H.length;$<ee;++$){var te=M[H[$]];for(var re in te)(U=te[re])instanceof t.default&&(K=v.getTileCoordExtent(U.tileCoord,Z),J[0]=2*(K[2]-K[0])/w,J[1]=2*(K[3]-K[1])/w,J[2]=2*(K[0]-R[0])/w-1,J[3]=2*(K[1]-R[1])/w-1,T.uniform4fv(this.locations_.u_tileOffset,J),g.bindTileTexture(U,b,A*L,c.LINEAR,c.LINEAR),T.drawArrays(c.TRIANGLE_STRIP,0,4))}W?(this.renderedTileRange_=S,this.renderedFramebufferExtent_=R,this.renderedRevision_=x.getRevision()):(this.renderedTileRange_=null,this.renderedFramebufferExtent_=null,this.renderedRevision_=-1,e.animate=!0)}this.updateUsedTiles(e.usedTiles,x,y,S);var ie=g.getTileTextureQueue();this.manageTilePyramid(e,x,v,L,p,j,y,m.getPreload(),function(e){e.getState()!=i.default.LOADED||g.isTileTextureLoaded(e)||ie.isKeyQueued(e.getKey())||ie.enqueue([e,v.getTileCoordCenter(e.tileCoord),v.getResolution(e.tileCoord[0]),b,A*L])},this),this.scheduleExpireCache(e,x);var oe=this.texCoordMatrix;return(0,h.reset)(oe),(0,h.translate)(oe,(Math.round(F[0]/E)*E-R[0])/(R[2]-R[0]),(Math.round(F[1]/E)*E-R[1])/(R[3]-R[1])),0!==_.rotation&&(0,h.rotate)(oe,_.rotation),(0,h.scale)(oe,e.size[0]*_.resolution/(R[2]-R[0]),e.size[1]*_.resolution/(R[3]-R[1])),(0,h.translate)(oe,-.5,-.5),!0},l.prototype.forEachLayerAtPixel=function(e,t,r,i){if(this.framebuffer){var o=[e[0]/t.size[0],(t.size[1]-e[1])/t.size[1]],n=(0,h.apply)(this.texCoordMatrix,o.slice()),a=[n[0]*this.framebufferDimension,n[1]*this.framebufferDimension],s=this.mapRenderer.getContext().getGL();s.bindFramebuffer(s.FRAMEBUFFER,this.framebuffer);var l=new Uint8Array(4);return s.readPixels(a[0],a[1],1,1,s.RGBA,s.UNSIGNED_BYTE,l),l[3]>0?r.call(i,this.getLayer(),l):void 0}},l}(l.default);_.handles=function(t){return t.getType()===e.default.TILE},_.create=function(e,t){return new _(e,t)};var p=_;exports.default=p;
},{"../../LayerType.js":"8+bQ","../../ImageTile.js":"T/Os","../../TileRange.js":"346s","../../TileState.js":"Xz9x","../../source/Tile.js":"JECm","../../array.js":"luEr","../../extent.js":"QDir","../../math.js":"B96G","./Layer.js":"7nUx","./tilelayershader.js":"POLO","./tilelayershader/Locations.js":"t0kf","../../size.js":"TAHd","../../transform.js":"P4eA","../../webgl.js":"SCyv","../../webgl/Buffer.js":"zsRd"}],"u0w/":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("../../util.js"),t=u(require("../../LayerType.js")),r=u(require("../../ViewHint.js")),i=require("../../extent.js"),n=u(require("../../render/webgl/ReplayGroup.js")),a=require("../vector.js"),o=u(require("./Layer.js")),s=require("../../transform.js");function u(e){return e&&e.__esModule?e:{default:e}}var d=function(t){function o(e,r){t.call(this,e,r),this.dirty_=!1,this.renderedRevision_=-1,this.renderedResolution_=NaN,this.renderedExtent_=(0,i.createEmpty)(),this.renderedRenderOrder_=null,this.replayGroup_=null,this.layerState_=null}return t&&(o.__proto__=t),o.prototype=Object.create(t&&t.prototype),o.prototype.constructor=o,o.prototype.composeFrame=function(e,t,r){this.layerState_=t;var i=e.viewState,n=this.replayGroup_,a=e.size,o=e.pixelRatio,s=this.mapRenderer.getGL();n&&!n.isEmpty()&&(s.enable(s.SCISSOR_TEST),s.scissor(0,0,a[0]*o,a[1]*o),n.replay(r,i.center,i.resolution,i.rotation,a,o,t.opacity,t.managed?e.skippedFeatureUids:{}),s.disable(s.SCISSOR_TEST))},o.prototype.disposeInternal=function(){var e=this.replayGroup_;if(e){var r=this.mapRenderer.getContext();e.getDeleteResourcesFunction(r)(),this.replayGroup_=null}t.prototype.disposeInternal.call(this)},o.prototype.forEachFeatureAtCoordinate=function(t,r,i,n,a){if(this.replayGroup_&&this.layerState_){var o=this.mapRenderer.getContext(),s=r.viewState,u=this.getLayer(),d=this.layerState_,l={};return this.replayGroup_.forEachFeatureAtCoordinate(t,o,s.center,s.resolution,s.rotation,r.size,r.pixelRatio,d.opacity,{},function(t){var r=(0,e.getUid)(t);if(!(r in l))return l[r]=!0,n.call(a,t,u)})}},o.prototype.hasFeatureAtCoordinate=function(e,t){if(this.replayGroup_&&this.layerState_){var r=this.mapRenderer.getContext(),i=t.viewState,n=this.layerState_;return this.replayGroup_.hasFeatureAtCoordinate(e,r,i.center,i.resolution,i.rotation,t.size,t.pixelRatio,n.opacity,t.skippedFeatureUids)}return!1},o.prototype.forEachLayerAtPixel=function(e,t,r,i){var n=(0,s.apply)(t.pixelToCoordinateTransform,e.slice());return this.hasFeatureAtCoordinate(n,t)?r.call(i,this.getLayer(),null):void 0},o.prototype.handleStyleImageChange_=function(e){this.renderIfReadyAndVisible()},o.prototype.prepareFrame=function(e,t,o){var s=this.getLayer(),u=s.getSource(),d=e.viewHints[r.default.ANIMATING],l=e.viewHints[r.default.INTERACTING],p=s.getUpdateWhileAnimating(),h=s.getUpdateWhileInteracting();if(!this.dirty_&&!p&&d||!h&&l)return!0;var y=e.extent,c=e.viewState,f=c.projection,_=c.resolution,v=e.pixelRatio,g=s.getRevision(),R=s.getRenderBuffer(),S=s.getRenderOrder();void 0===S&&(S=a.defaultOrder);var F=(0,i.buffer)(y,R*_);if(!this.dirty_&&this.renderedResolution_==_&&this.renderedRevision_==g&&this.renderedRenderOrder_==S&&(0,i.containsExtent)(this.renderedExtent_,F))return!0;this.replayGroup_&&e.postRenderFunctions.push(this.replayGroup_.getDeleteResourcesFunction(o)),this.dirty_=!1;var x=new n.default((0,a.getTolerance)(_,v),F,s.getRenderBuffer());u.loadFeatures(F,_,f);var E=function(e){var t,r=e.getStyleFunction()||s.getStyleFunction();if(r&&(t=r(e,_)),t){var i=this.renderFeature(e,_,v,t,x);this.dirty_=this.dirty_||i}}.bind(this);if(S){var m=[];u.forEachFeatureInExtent(F,function(e){m.push(e)}),m.sort(S),m.forEach(E.bind(this))}else u.forEachFeatureInExtent(F,E);return x.finish(o),this.renderedResolution_=_,this.renderedRevision_=g,this.renderedRenderOrder_=S,this.renderedExtent_=F,this.replayGroup_=x,!0},o.prototype.renderFeature=function(e,t,r,i,n){if(!i)return!1;var o=!1;if(Array.isArray(i))for(var s=i.length-1;s>=0;--s)o=(0,a.renderFeature)(n,e,i[s],(0,a.getSquaredTolerance)(t,r),this.handleStyleImageChange_,this)||o;else o=(0,a.renderFeature)(n,e,i,(0,a.getSquaredTolerance)(t,r),this.handleStyleImageChange_,this)||o;return o},o}(o.default);d.handles=function(e){return e.getType()===t.default.VECTOR},d.create=function(e,t){return new d(e,t)};var l=d;exports.default=l;
},{"../../util.js":"KniQ","../../LayerType.js":"8+bQ","../../ViewHint.js":"cuLW","../../extent.js":"QDir","../../render/webgl/ReplayGroup.js":"aOHC","../vector.js":"UCah","./Layer.js":"7nUx","../../transform.js":"P4eA"}],"4/P8":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=i(require("./PluggableMap.js")),r=require("./control.js"),t=require("./interaction.js"),o=require("./obj.js"),u=i(require("./renderer/webgl/ImageLayer.js")),n=i(require("./renderer/webgl/Map.js")),a=i(require("./renderer/webgl/TileLayer.js")),s=i(require("./renderer/webgl/VectorLayer.js"));function i(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function i(u){(u=(0,o.assign)({},u)).controls||(u.controls=(0,r.defaults)()),u.interactions||(u.interactions=(0,t.defaults)()),e.call(this,u)}return e&&(i.__proto__=e),i.prototype=Object.create(e&&e.prototype),i.prototype.constructor=i,i.prototype.createRenderer=function(){var e=new n.default(this);return e.registerLayerRenderers([u.default,a.default,s.default]),e},i}(e.default),d=l;exports.default=d;
},{"./PluggableMap.js":"kRwz","./control.js":"95uc","./interaction.js":"aMDX","./obj.js":"mH6q","./renderer/webgl/ImageLayer.js":"w+NT","./renderer/webgl/Map.js":"VyQL","./renderer/webgl/TileLayer.js":"colh","./renderer/webgl/VectorLayer.js":"u0w/"}],"DRei":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"AssertionError",{enumerable:!0,get:function(){return e.default}}),Object.defineProperty(exports,"Collection",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(exports,"Disposable",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(exports,"Feature",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(exports,"Geolocation",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(exports,"Graticule",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(exports,"Image",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(exports,"ImageBase",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(exports,"ImageCanvas",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(exports,"ImageTile",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(exports,"Kinetic",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(exports,"Map",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(exports,"MapBrowserEvent",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(exports,"MapBrowserEventHandler",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(exports,"MapBrowserPointerEvent",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(exports,"MapEvent",{enumerable:!0,get:function(){return j.default}}),Object.defineProperty(exports,"Object",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(exports,"Observable",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(exports,"Overlay",{enumerable:!0,get:function(){return O.default}}),Object.defineProperty(exports,"PluggableMap",{enumerable:!0,get:function(){return P.default}}),Object.defineProperty(exports,"Tile",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(exports,"TileCache",{enumerable:!0,get:function(){return x.default}}),Object.defineProperty(exports,"TileQueue",{enumerable:!0,get:function(){return q.default}}),Object.defineProperty(exports,"TileRange",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(exports,"VectorImageTile",{enumerable:!0,get:function(){return M.default}}),Object.defineProperty(exports,"VectorTile",{enumerable:!0,get:function(){return T.default}}),Object.defineProperty(exports,"View",{enumerable:!0,get:function(){return E.default}}),Object.defineProperty(exports,"WebGLMap",{enumerable:!0,get:function(){return I.default}}),Object.defineProperty(exports,"getUid",{enumerable:!0,get:function(){return w.getUid}}),Object.defineProperty(exports,"inherits",{enumerable:!0,get:function(){return w.inherits}}),Object.defineProperty(exports,"VERSION",{enumerable:!0,get:function(){return w.VERSION}});var e=B(require("./AssertionError.js")),r=B(require("./Collection.js")),t=B(require("./Disposable.js")),n=B(require("./Feature.js")),u=B(require("./Geolocation.js")),i=B(require("./Graticule.js")),o=B(require("./Image.js")),a=B(require("./ImageBase.js")),l=B(require("./ImageCanvas.js")),f=B(require("./ImageTile.js")),s=B(require("./Kinetic.js")),c=B(require("./Map.js")),p=B(require("./MapBrowserEvent.js")),b=B(require("./MapBrowserEventHandler.js")),d=B(require("./MapBrowserPointerEvent.js")),j=B(require("./MapEvent.js")),g=B(require("./Object.js")),m=B(require("./Observable.js")),O=B(require("./Overlay.js")),P=B(require("./PluggableMap.js")),y=B(require("./Tile.js")),x=B(require("./TileCache.js")),q=B(require("./TileQueue.js")),v=B(require("./TileRange.js")),M=B(require("./VectorImageTile.js")),T=B(require("./VectorTile.js")),E=B(require("./View.js")),I=B(require("./WebGLMap.js")),w=require("./util.js");function B(e){return e&&e.__esModule?e:{default:e}}
},{"./AssertionError.js":"ygGQ","./Collection.js":"FnDa","./Disposable.js":"DDda","./Feature.js":"mYW9","./Geolocation.js":"X4ix","./Graticule.js":"/QUi","./Image.js":"DHWK","./ImageBase.js":"Ojbp","./ImageCanvas.js":"K7j2","./ImageTile.js":"T/Os","./Kinetic.js":"77gA","./Map.js":"8kYy","./MapBrowserEvent.js":"HMLS","./MapBrowserEventHandler.js":"ohHk","./MapBrowserPointerEvent.js":"J1WQ","./MapEvent.js":"vFcA","./Object.js":"PhPh","./Observable.js":"8IdS","./Overlay.js":"/qWc","./PluggableMap.js":"kRwz","./Tile.js":"IWZI","./TileCache.js":"YFDe","./TileQueue.js":"0tHO","./TileRange.js":"346s","./VectorImageTile.js":"xDao","./VectorTile.js":"yj80","./View.js":"hNqE","./WebGLMap.js":"4/P8","./util.js":"KniQ"}],"2KHB":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("../LayerType.js")),t=r(require("./Layer.js"));function r(e){return e&&e.__esModule?e:{default:e}}var o=function(t){function r(r){var o=r||{};t.call(this,o),this.type=e.default.IMAGE}return t&&(r.__proto__=t),r.prototype=Object.create(t&&t.prototype),r.prototype.constructor=r,r}(t.default);o.prototype.getSource;var u=o;exports.default=u;
},{"../LayerType.js":"8+bQ","./Layer.js":"GCgv"}],"M5pz":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={PRELOAD:"preload",USE_INTERIM_TILES_ON_ERROR:"useInterimTilesOnError"};exports.default=e;
},{}],"BU+E":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=s(require("../LayerType.js")),t=s(require("./Layer.js")),r=s(require("./TileProperty.js")),o=require("../obj.js");function s(e){return e&&e.__esModule?e:{default:e}}var i=function(t){function s(r){var s=r||{},i=(0,o.assign)({},s);delete i.preload,delete i.useInterimTilesOnError,t.call(this,i),this.setPreload(void 0!==s.preload?s.preload:0),this.setUseInterimTilesOnError(void 0===s.useInterimTilesOnError||s.useInterimTilesOnError),this.type=e.default.TILE}return t&&(s.__proto__=t),s.prototype=Object.create(t&&t.prototype),s.prototype.constructor=s,s.prototype.getPreload=function(){return this.get(r.default.PRELOAD)},s.prototype.setPreload=function(e){this.set(r.default.PRELOAD,e)},s.prototype.getUseInterimTilesOnError=function(){return this.get(r.default.USE_INTERIM_TILES_ON_ERROR)},s.prototype.setUseInterimTilesOnError=function(e){this.set(r.default.USE_INTERIM_TILES_ON_ERROR,e)},s}(t.default);i.prototype.getSource;var n=i;exports.default=n;
},{"../LayerType.js":"8+bQ","./Layer.js":"GCgv","./TileProperty.js":"M5pz","../obj.js":"mH6q"}],"a8mu":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DEFAULT_WMS_VERSION=void 0;var e="1.3.0";exports.DEFAULT_WMS_VERSION=e;
},{}],"U255":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.calculateSourceResolution=n,exports.render=i;var e=require("./dom.js"),t=require("./extent.js"),r=require("./math.js"),a=require("./proj.js");function n(e,r,n,o){var i=(0,a.transform)(n,r,e),s=(0,a.getPointResolution)(r,o,n),u=r.getMetersPerUnit();void 0!==u&&(s*=u);var c=e.getMetersPerUnit();void 0!==c&&(s/=c);var v=e.getExtent();if(!v||(0,t.containsCoordinate)(v,i)){var g=(0,a.getPointResolution)(e,s,i)/s;isFinite(g)&&g>0&&(s/=g)}return s}function o(e,t,r,a){var n=r-e,o=a-t,i=Math.sqrt(n*n+o*o);return[Math.round(r+n/i),Math.round(a+o/i)]}function i(a,n,i,s,u,c,v,g,h,l,d){var f=(0,e.createCanvasContext2D)(Math.round(i*a),Math.round(i*n));if(0===h.length)return f.canvas;f.scale(i,i);var m=(0,t.createEmpty)();h.forEach(function(e,r,a){(0,t.extend)(m,e.extent)});var x=(0,t.getWidth)(m),M=(0,t.getHeight)(m),T=(0,e.createCanvasContext2D)(Math.round(i*x/s),Math.round(i*M/s)),p=i/s;h.forEach(function(e,r,a){var n=e.extent[0]-m[0],o=-(e.extent[3]-m[3]),i=(0,t.getWidth)(e.extent),s=(0,t.getHeight)(e.extent);T.drawImage(e.image,l,l,e.image.width-2*l,e.image.height-2*l,n*p,o*p,i*p,s*p)});var P=(0,t.getTopLeft)(v);return g.getTriangles().forEach(function(e,t,a){var n=e.source,u=e.target,v=n[0][0],g=n[0][1],h=n[1][0],l=n[1][1],d=n[2][0],x=n[2][1],M=(u[0][0]-P[0])/c,p=-(u[0][1]-P[1])/c,j=(u[1][0]-P[0])/c,E=-(u[1][1]-P[1])/c,q=(u[2][0]-P[0])/c,C=-(u[2][1]-P[1])/c,b=v,y=g;v=0,g=0;var k=[[h-=b,l-=y,0,0,j-M],[d-=b,x-=y,0,0,q-M],[0,0,h,l,E-p],[0,0,d,x,C-p]],w=(0,r.solveLinearSystem)(k);if(w){f.save(),f.beginPath();var R=(M+j+q)/3,S=(p+E+C)/3,W=o(R,S,M,p),D=o(R,S,j,E),H=o(R,S,q,C);f.moveTo(D[0],D[1]),f.lineTo(W[0],W[1]),f.lineTo(H[0],H[1]),f.clip(),f.transform(w[0],w[2],w[1],w[3],M,p),f.translate(m[0]-b,m[3]-y),f.scale(s/i,-s/i),f.drawImage(T.canvas,0,0),f.restore()}}),d&&(f.save(),f.strokeStyle="black",f.lineWidth=1,g.getTriangles().forEach(function(e,t,r){var a=e.target,n=(a[0][0]-P[0])/c,o=-(a[0][1]-P[1])/c,i=(a[1][0]-P[0])/c,s=-(a[1][1]-P[1])/c,u=(a[2][0]-P[0])/c,v=-(a[2][1]-P[1])/c;f.beginPath(),f.moveTo(i,s),f.lineTo(n,o),f.lineTo(u,v),f.closePath(),f.stroke()}),f.restore()),f.canvas}
},{"./dom.js":"Xno5","./extent.js":"QDir","./math.js":"B96G","./proj.js":"Diht"}],"BiRY":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("../extent.js"),r=require("../math.js"),i=require("../proj.js"),e=10,s=.25,o=function(r,s,o,n,a){this.sourceProj_=r,this.targetProj_=s;var h={},u=(0,i.getTransform)(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){var r=t[0]+"/"+t[1];return h[r]||(h[r]=u(t)),h[r]},this.maxSourceExtent_=n,this.errorThresholdSquared_=a*a,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!n&&!!this.sourceProj_.getExtent()&&(0,t.getWidth)(n)==(0,t.getWidth)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?(0,t.getWidth)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?(0,t.getWidth)(this.targetProj_.getExtent()):null;var d=(0,t.getTopLeft)(o),c=(0,t.getTopRight)(o),_=(0,t.getBottomRight)(o),l=(0,t.getBottomLeft)(o),f=this.transformInv_(d),g=this.transformInv_(c),W=this.transformInv_(_),v=this.transformInv_(l);if(this.addQuad_(d,c,_,l,f,g,W,v,e),this.wrapsXInSource_){var m=1/0;this.triangles_.forEach(function(t,r,i){m=Math.min(m,t.source[0][0],t.source[1][0],t.source[2][0])}),this.triangles_.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-m>this.sourceWorldWidth_/2){var r=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];r[0][0]-m>this.sourceWorldWidth_/2&&(r[0][0]-=this.sourceWorldWidth_),r[1][0]-m>this.sourceWorldWidth_/2&&(r[1][0]-=this.sourceWorldWidth_),r[2][0]-m>this.sourceWorldWidth_/2&&(r[2][0]-=this.sourceWorldWidth_);var i=Math.min(r[0][0],r[1][0],r[2][0]);Math.max(r[0][0],r[1][0],r[2][0])-i<this.sourceWorldWidth_/2&&(t.source=r)}}.bind(this))}h={}};o.prototype.addTriangle_=function(t,r,i,e,s,o){this.triangles_.push({source:[e,s,o],target:[t,r,i]})},o.prototype.addQuad_=function(i,e,o,n,a,h,u,d,c){var _=(0,t.boundingExtent)([a,h,u,d]),l=this.sourceWorldWidth_?(0,t.getWidth)(_)/this.sourceWorldWidth_:null,f=this.sourceWorldWidth_,g=this.sourceProj_.canWrapX()&&l>.5&&l<1,W=!1;if(c>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){var v=(0,t.boundingExtent)([i,e,o,n]);W=(0,t.getWidth)(v)/this.targetWorldWidth_>s||W}!g&&this.sourceProj_.isGlobal()&&l&&(W=l>s||W)}if(W||!this.maxSourceExtent_||(0,t.intersects)(_,this.maxSourceExtent_)){if(!(W||isFinite(a[0])&&isFinite(a[1])&&isFinite(h[0])&&isFinite(h[1])&&isFinite(u[0])&&isFinite(u[1])&&isFinite(d[0])&&isFinite(d[1]))){if(!(c>0))return;W=!0}if(c>0){if(!W){var m,p=[(i[0]+o[0])/2,(i[1]+o[1])/2],x=this.transformInv_(p);if(g)m=((0,r.modulo)(a[0],f)+(0,r.modulo)(u[0],f))/2-(0,r.modulo)(x[0],f);else m=(a[0]+u[0])/2-x[0];var j=(a[1]+u[1])/2-x[1];W=m*m+j*j>this.errorThresholdSquared_}if(W){if(Math.abs(i[0]-o[0])<=Math.abs(i[1]-o[1])){var E=[(e[0]+o[0])/2,(e[1]+o[1])/2],I=this.transformInv_(E),P=[(n[0]+i[0])/2,(n[1]+i[1])/2],S=this.transformInv_(P);this.addQuad_(i,e,E,P,a,h,I,S,c-1),this.addQuad_(P,E,o,n,S,I,u,d,c-1)}else{var T=[(i[0]+e[0])/2,(i[1]+e[1])/2],b=this.transformInv_(T),F=[(o[0]+n[0])/2,(o[1]+n[1])/2],M=this.transformInv_(F);this.addQuad_(i,T,F,n,a,b,M,d,c-1),this.addQuad_(T,e,o,F,b,h,u,M,c-1)}return}}if(g){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}this.addTriangle_(i,o,n,a,u,d),this.addTriangle_(i,e,o,a,h,u)}},o.prototype.calculateSourceExtent=function(){var r=(0,t.createEmpty)();return this.triangles_.forEach(function(i,e,s){var o=i.source;(0,t.extendCoordinate)(r,o[0]),(0,t.extendCoordinate)(r,o[1]),(0,t.extendCoordinate)(r,o[2])}),r},o.prototype.getTriangles=function(){return this.triangles_};var n=o;exports.default=n;
},{"../extent.js":"QDir","../math.js":"B96G","../proj.js":"Diht"}],"rc7/":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var t=require("./common.js"),e=u(require("../ImageBase.js")),r=u(require("../ImageState.js")),s=require("../events.js"),i=u(require("../events/EventType.js")),o=require("../extent.js"),a=require("../reproj.js"),n=u(require("./Triangulation.js"));function u(t){return t&&t.__esModule?t:{default:t}}var c=function(e){function u(s,i,u,c,l,h){var _=s.getExtent(),g=i.getExtent(),p=g?(0,o.getIntersection)(u,g):u,f=(0,o.getCenter)(p),d=(0,a.calculateSourceResolution)(s,i,f,c),E=t.ERROR_THRESHOLD,x=new n.default(s,i,p,_,d*E),I=h(x.calculateSourceExtent(),d,l),R=r.default.LOADED;I&&(R=r.default.IDLE);var m=I?I.getPixelRatio():1;e.call(this,u,c,m,R),this.targetProj_=i,this.maxSourceExtent_=_,this.triangulation_=x,this.targetResolution_=c,this.targetExtent_=u,this.sourceImage_=I,this.sourcePixelRatio_=m,this.canvas_=null,this.sourceListenerKey_=null}return e&&(u.__proto__=e),u.prototype=Object.create(e&&e.prototype),u.prototype.constructor=u,u.prototype.disposeInternal=function(){this.state==r.default.LOADING&&this.unlistenSource_(),e.prototype.disposeInternal.call(this)},u.prototype.getImage=function(){return this.canvas_},u.prototype.getProjection=function(){return this.targetProj_},u.prototype.reproject_=function(){var t=this.sourceImage_.getState();if(t==r.default.LOADED){var e=(0,o.getWidth)(this.targetExtent_)/this.targetResolution_,s=(0,o.getHeight)(this.targetExtent_)/this.targetResolution_;this.canvas_=(0,a.render)(e,s,this.sourcePixelRatio_,this.sourceImage_.getResolution(),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0)}this.state=t,this.changed()},u.prototype.load=function(){if(this.state==r.default.IDLE){this.state=r.default.LOADING,this.changed();var t=this.sourceImage_.getState();t==r.default.LOADED||t==r.default.ERROR?this.reproject_():(this.sourceListenerKey_=(0,s.listen)(this.sourceImage_,i.default.CHANGE,function(t){var e=this.sourceImage_.getState();e!=r.default.LOADED&&e!=r.default.ERROR||(this.unlistenSource_(),this.reproject_())},this),this.sourceImage_.load())}},u.prototype.unlistenSource_=function(){(0,s.unlistenByKey)(this.sourceListenerKey_),this.sourceListenerKey_=null},u}(e.default),l=c;exports.default=l;
},{"./common.js":"7f+F","../ImageBase.js":"Ojbp","../ImageState.js":"u3k+","../events.js":"55Uq","../events/EventType.js":"C8cu","../extent.js":"QDir","../reproj.js":"U255","./Triangulation.js":"BiRY"}],"XHvt":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.defaultImageLoadFunction=g,exports.default=void 0;var e=require("../util.js"),t=require("../reproj/common.js"),r=c(require("../ImageState.js")),o=require("../array.js"),i=c(require("../events/Event.js")),s=require("../extent.js"),n=require("../proj.js"),a=c(require("../reproj/Image.js")),u=c(require("./Source.js"));function c(e){return e&&e.__esModule?e:{default:e}}var p={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"},l=function(e){function t(t,r){e.call(this,t),this.image=r}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(i.default),d=function(i){function u(e){i.call(this,{attributions:e.attributions,projection:e.projection,state:e.state}),this.resolutions_=void 0!==e.resolutions?e.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0}return i&&(u.__proto__=i),u.prototype=Object.create(i&&i.prototype),u.prototype.constructor=u,u.prototype.getResolutions=function(){return this.resolutions_},u.prototype.findNearestResolution=function(e){if(this.resolutions_){var t=(0,o.linearFindNearest)(this.resolutions_,e,0);e=this.resolutions_[t]}return e},u.prototype.getImage=function(e,r,o,i){var u=this.getProjection();if(t.ENABLE_RASTER_REPROJECTION&&u&&i&&!(0,n.equivalent)(u,i)){if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&(0,n.equivalent)(this.reprojectedImage_.getProjection(),i)&&this.reprojectedImage_.getResolution()==r&&(0,s.equals)(this.reprojectedImage_.getExtent(),e))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new a.default(u,i,e,r,o,function(e,t,r){return this.getImageInternal(e,t,r,u)}.bind(this)),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}return u&&(i=u),this.getImageInternal(e,r,o,i)},u.prototype.getImageInternal=function(t,r,o,i){return(0,e.abstract)()},u.prototype.handleImageChange=function(e){var t=e.target;switch(t.getState()){case r.default.LOADING:this.loading=!0,this.dispatchEvent(new l(p.IMAGELOADSTART,t));break;case r.default.LOADED:this.loading=!1,this.dispatchEvent(new l(p.IMAGELOADEND,t));break;case r.default.ERROR:this.loading=!1,this.dispatchEvent(new l(p.IMAGELOADERROR,t))}},u}(u.default);function g(e,t){e.getImage().src=t}var h=d;exports.default=h;
},{"../util.js":"KniQ","../reproj/common.js":"7f+F","../ImageState.js":"u3k+","../array.js":"luEr","../events/Event.js":"fKNg","../extent.js":"QDir","../proj.js":"Diht","../reproj/Image.js":"rc7/","./Source.js":"H38a"}],"mXwm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={CARMENTA_SERVER:"carmentaserver",GEOSERVER:"geoserver",MAPSERVER:"mapserver",QGIS:"qgis"};exports.default=e;
},{}],"2n7G":[function(require,module,exports) {
"use strict";function e(e,n){var o=[];Object.keys(n).forEach(function(e){null!==n[e]&&void 0!==n[e]&&o.push(e+"="+encodeURIComponent(n[e]))});var r=o.join("&");return(e=-1===(e=e.replace(/[?&]$/,"")).indexOf("?")?e+"?":e+"&")+r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.appendParams=e;
},{}],"e4Kb":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=require("./common.js"),t=l(require("../Image.js")),i=require("../asserts.js"),r=require("../events.js"),s=l(require("../events/EventType.js")),o=require("../extent.js"),a=require("../obj.js"),n=require("../proj.js"),u=require("../reproj.js"),h=d(require("./Image.js")),_=l(require("./WMSServerType.js")),p=require("../string.js"),g=require("../uri.js");function d(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)if(Object.prototype.hasOwnProperty.call(e,i)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,i):{};r.get||r.set?Object.defineProperty(t,i,r):t[i]=e[i]}return t.default=e,t}function l(e){return e&&e.__esModule?e:{default:e}}var c=[101,101],f=function(d){function l(e){var t=e||{};d.call(this,{attributions:t.attributions,projection:t.projection,resolutions:t.resolutions}),this.crossOrigin_=void 0!==t.crossOrigin?t.crossOrigin:null,this.url_=t.url,this.imageLoadFunction_=void 0!==t.imageLoadFunction?t.imageLoadFunction:h.defaultImageLoadFunction,this.params_=t.params||{},this.v13_=!0,this.updateV13_(),this.serverType_=t.serverType,this.hidpi_=void 0===t.hidpi||t.hidpi,this.image_=null,this.imageSize_=[0,0],this.renderedRevision_=0,this.ratio_=void 0!==t.ratio?t.ratio:1.5}return d&&(l.__proto__=d),l.prototype=Object.create(d&&d.prototype),l.prototype.constructor=l,l.prototype.getGetFeatureInfoUrl=function(t,i,r,s){if(void 0!==this.url_){var h=(0,n.get)(r),_=this.getProjection();_&&_!==h&&(i=(0,u.calculateSourceResolution)(_,h,t,i),t=(0,n.transform)(t,h,_));var p=(0,o.getForViewAndSize)(t,i,0,c),g={SERVICE:"WMS",VERSION:e.DEFAULT_WMS_VERSION,REQUEST:"GetFeatureInfo",FORMAT:"image/png",TRANSPARENT:!0,QUERY_LAYERS:this.params_.LAYERS};(0,a.assign)(g,this.params_,s);var d=Math.floor((t[0]-p[0])/i),l=Math.floor((p[3]-t[1])/i);return g[this.v13_?"I":"X"]=d,g[this.v13_?"J":"Y"]=l,this.getRequestUrl_(p,c,1,_||h,g)}},l.prototype.getParams=function(){return this.params_},l.prototype.getImageInternal=function(i,n,u,h){if(void 0===this.url_)return null;n=this.findNearestResolution(n),1==u||this.hidpi_&&void 0!==this.serverType_||(u=1);var _=n/u,p=(0,o.getCenter)(i),g=Math.ceil((0,o.getWidth)(i)/_),d=Math.ceil((0,o.getHeight)(i)/_),l=(0,o.getForViewAndSize)(p,_,0,[g,d]),c=Math.ceil(this.ratio_*(0,o.getWidth)(i)/_),f=Math.ceil(this.ratio_*(0,o.getHeight)(i)/_),v=(0,o.getForViewAndSize)(p,_,0,[c,f]),R=this.image_;if(R&&this.renderedRevision_==this.getRevision()&&R.getResolution()==n&&R.getPixelRatio()==u&&(0,o.containsExtent)(R.getExtent(),l))return R;var S={SERVICE:"WMS",VERSION:e.DEFAULT_WMS_VERSION,REQUEST:"GetMap",FORMAT:"image/png",TRANSPARENT:!0};(0,a.assign)(S,this.params_),this.imageSize_[0]=Math.round((0,o.getWidth)(v)/_),this.imageSize_[1]=Math.round((0,o.getHeight)(v)/_);var m=this.getRequestUrl_(v,this.imageSize_,u,h,S);return this.image_=new t.default(v,n,u,m,this.crossOrigin_,this.imageLoadFunction_),this.renderedRevision_=this.getRevision(),(0,r.listen)(this.image_,s.default.CHANGE,this.handleImageChange,this),this.image_},l.prototype.getImageLoadFunction=function(){return this.imageLoadFunction_},l.prototype.getRequestUrl_=function(e,t,r,s,o){if((0,i.assert)(void 0!==this.url_,9),o[this.v13_?"CRS":"SRS"]=s.getCode(),"STYLES"in this.params_||(o.STYLES=""),1!=r)switch(this.serverType_){case _.default.GEOSERVER:var a=90*r+.5|0;"FORMAT_OPTIONS"in o?o.FORMAT_OPTIONS+=";dpi:"+a:o.FORMAT_OPTIONS="dpi:"+a;break;case _.default.MAPSERVER:o.MAP_RESOLUTION=90*r;break;case _.default.CARMENTA_SERVER:case _.default.QGIS:o.DPI=90*r;break;default:(0,i.assert)(!1,8)}o.WIDTH=t[0],o.HEIGHT=t[1];var n,u=s.getAxisOrientation();return n=this.v13_&&"ne"==u.substr(0,2)?[e[1],e[0],e[3],e[2]]:e,o.BBOX=n.join(","),(0,g.appendParams)(this.url_,o)},l.prototype.getUrl=function(){return this.url_},l.prototype.setImageLoadFunction=function(e){this.image_=null,this.imageLoadFunction_=e,this.changed()},l.prototype.setUrl=function(e){e!=this.url_&&(this.url_=e,this.image_=null,this.changed())},l.prototype.updateParams=function(e){(0,a.assign)(this.params_,e),this.updateV13_(),this.image_=null,this.changed()},l.prototype.updateV13_=function(){var t=this.params_.VERSION||e.DEFAULT_WMS_VERSION;this.v13_=(0,p.compareVersions)(t,"1.3")>=0},l}(h.default),v=f;exports.default=v;
},{"./common.js":"a8mu","../Image.js":"DHWK","../asserts.js":"fLG6","../events.js":"55Uq","../events/EventType.js":"C8cu","../extent.js":"QDir","../obj.js":"mH6q","../proj.js":"Diht","../reproj.js":"U255","./Image.js":"XHvt","./WMSServerType.js":"mXwm","../string.js":"AiCK","../uri.js":"2n7G"}],"Focm":[function(require,module,exports) {
"use strict";var e=require("./src/Main.elm");require("ol/ol.css");var t=require("ol"),r=I(require("ol/layer/Image")),o=I(require("ol/layer/Tile")),n=I(require("ol/layer/Vector")),a=I(require("ol/source/Vector")),i=I(require("ol/proj/Projection")),l=I(require("ol/source/ImageWMS")),c=I(require("ol/interaction/DoubleClickZoom")),u=I(require("ol/interaction/Extent")),m=b(require("ol/interaction/Draw")),p=I(require("ol/interaction/Modify")),s=I(require("ol/interaction/Translate")),d=I(require("ol/control/ScaleLine")),f=I(require("ol/geom/Polygon")),g=require("ol/control.js"),y=I(require("ol/style/Style")),w=I(require("ol/style/Fill")),h=I(require("ol/style/Stroke")),v=I(require("ol/style/Circle"));function b(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var o=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,r):{};o.get||o.set?Object.defineProperty(t,r,o):t[r]=e[r]}return t.default=e,t}function I(e){return e&&e.__esModule?e:{default:e}}var x=e.Elm.Main.init({node:document.querySelector("main"),flags:{topic:"BASISKARTEZH",mapextent:"2699047,1262688,2699127,1262757",hostname:"localhost",width:window.innerWidth,height:window.innerHeight}});function S(e){e.ports.setOlConfig.subscribe(function(t){requestAnimationFrame(function(){P.setConfig(t,e)})}),e.ports.storeOrdersInCache.subscribe(function(e){localStorage.setItem("cache",e)}),localStorage.getItem("cache")&&e.ports.getOrdersFromCache.send(localStorage.getItem("cache")),e.ports.setOlAction.subscribe(function(e){console.log("got from Elm:",e),P.map&&("zoomToPeri"===e?P.zoomToPeri():"deletePeri"===e&&P.deletePeri())})}S(x);var P={elmApp:null,mapconfig:null,map:null,projection:null,view:null,periLayer:null,featureSource:null,boxExtent:null,drawBox:null,select:null,snap:null,modify:null,translate:null,setConfig:function(e,t){null===P.map?P.setupMap(e,t):(P.mapconfig=e,P.periLayer.getSource().getFeatures().forEach(function(e){return P.periLayer.getSource().removeFeature(e)})),P.addPeri(e),P.map.setTarget(document.getElementById("myOlMap"))},zoomToPeri:function(){P.view.fit(P.periLayer.getSource().getExtent(),{duration:1e3})},deletePeri:function(){P.removeInteractions(),P.periLayer.getSource().getFeatures().forEach(function(e){P.periLayer.getSource().removeFeature(e)}),"polygon"===P.mapconfig.perimeter?(P.mapconfig.polygon=[],P.map.addInteraction(P.drawPoly)):"box"===P.mapconfig.perimeter&&(P.mapconfig.box=[],P.map.addInteraction(P.drawBox)),P.elmApp.ports.mapConfigChanged.send(P.mapconfig)},updatePerimeter:function(e,t){"polygon"===P.mapconfig.perimeter?P.mapconfig.polygon=e:"box"===P.mapconfig.perimeter&&(P.mapconfig.box=e),P.elmApp.ports.mapConfigChanged.send(P.mapconfig)},onFinishDrawing:function(e){P.controlDoubleClickZoom(!1),setTimeout(function(){P.controlDoubleClickZoom(!0)},251)},controlDoubleClickZoom:function(e){for(var t=P.map.getInteractions(),r=0;r<t.getLength();r++){var o=t.item(r);o instanceof c.default&&o.setActive(e)}},buildUpLayer:function(){return new r.default({source:new l.default({url:"https://wms.zh.ch/uplayerwms/",attributions:'© <a href="https://maps.zh.ch?topic=UPZH&srid=2056" target="_blank">Übersichtsplan / maps.zh.ch</a>',params:{LAYERS:"uplayerwms",FORMAT:"image/png; mode=8bit"},serverType:"mapserver"})})},buildLkLayer:function(){return new r.default({source:new l.default({url:"https://wms.geo.admin.ch/",crossOrigin:"anonymous",attributions:'© <a href="http://www.geo.admin.ch/internet/geoportal/en/home.html">Pixelmap 1:1000000 / geo.admin.ch</a>',params:{LAYERS:"ch.swisstopo.pixelkarte-farbe-pk1000.noscale",FORMAT:"image/jpeg"},serverType:"mapserver"})})},removeInteractions:function(){P.map.removeInteraction(P.drawBox),P.map.removeInteraction(P.select),P.map.removeInteraction(P.modify),P.map.removeInteraction(P.translate),P.map.removeInteraction(P.snap),P.map.removeInteraction(P.boxExtent),P.map.removeInteraction(P.drawPoly)},setupMap:function(e,r){P.elmApp=r,P.mapconfig=e,P.projection=new i.default({code:"EPSG:2056",units:"m"}),P.view=new t.View({center:e.center,projection:P.projection,zoom:e.zoom}),P.view.on("change",function(e){P.mapconfig.center=e.target.getCenter(),P.mapconfig.extent=e.target.calculateExtent(P.map.getSize()),P.mapconfig.zoom=P.map.getView().getZoom(),r.ports.mapConfigChanged.send(P.mapconfig)}),P.featureSource=new a.default({wrapX:!1}),P.periLayer=new n.default({source:P.featureSource,style:new y.default({fill:new w.default({color:"rgba(255, 255, 255, 0.3)"}),stroke:new h.default({color:"#9999FF",width:2}),image:new v.default({radius:7,fill:new w.default({color:"#9999FF"})})})}),P.boxExtent=new u.default({source:P.featureSource}),P.boxExtent.on("extentchanged",function(e){}),P.drawBox=new m.default({type:"Circle",source:P.featureSource,geometryFunction:(0,m.createBox)()}),P.drawBox.on("drawend",function(e){var t=e.feature.getGeometry().getCoordinates();P.updatePerimeter(t,"drawend"),P.removeInteractions(),P.map.addInteraction(P.translate)}),P.drawPoly=new m.default({type:"Polygon",source:P.featureSource}),P.drawPoly.on("drawend",function(e){P.onFinishDrawing();var t=e.feature.getGeometry().getCoordinates();P.updatePerimeter(t,"drawend"),P.removeInteractions(),P.map.addInteraction(P.modify)}),P.modify=new p.default({source:P.featureSource}),P.modify.on("modifyend",function(e){var t=e.features.getArray()[0].getGeometry().getCoordinates();P.updatePerimeter(t,"modifyend")}),P.translate=new s.default({source:P.featureSource}),P.translate.on("translateend",function(e){var t=e.features.getArray()[0].getGeometry().getCoordinates();P.updatePerimeter(t,"translateend")}),P.map=new t.Map({controls:(0,g.defaults)().extend([new d.default]),layers:[P.buildUpLayer(),P.periLayer],view:P.view}),P.map.setTarget(document.getElementById("myOlMap"))},addPeri:function(e){var r=null;"polygon"===e.perimeter?e.polygon.length>0?((r=new t.Feature({geometry:new f.default(e.polygon),name:"polygon"})).setId(12345),P.featureSource.addFeature(r),P.removeInteractions(),P.map.addInteraction(P.modify)):(P.removeInteractions(),P.map.addInteraction(P.drawPoly)):"box"===e.perimeter?e.box.length>0?((r=new t.Feature({geometry:new f.default(e.box),name:"box"})).setId(23456),P.featureSource.addFeature(r),P.removeInteractions(),P.map.addInteraction(P.translate)):(P.removeInteractions(),P.map.addInteraction(P.drawBox)):"extent"===e.perimeter?(P.mapconfig.extent=P.view.calculateExtent(P.map.getSize()),P.removeInteractions(),P.elmApp.ports.mapConfigChanged.send(P.mapconfig)):P.removeInteractions(),"setCenter"==e.oltool&&(P.map.getView().setCenter(e.center),e.oltool="none",P.elmApp.ports.mapConfigChanged.send(P.mapconfig))}};
},{"./src/Main.elm":"3oS9","ol/ol.css":"JiFC","ol":"DRei","ol/layer/Image":"2KHB","ol/layer/Tile":"BU+E","ol/layer/Vector":"dflx","ol/source/Vector":"ZS12","ol/proj/Projection":"WUar","ol/source/ImageWMS":"e4Kb","ol/interaction/DoubleClickZoom":"2NSa","ol/interaction/Extent":"1o7b","ol/interaction/Draw":"5e7i","ol/interaction/Modify":"qrxo","ol/interaction/Translate":"dAAZ","ol/control/ScaleLine":"DK5d","ol/geom/Polygon":"6Nww","ol/control.js":"95uc","ol/style/Style":"1he4","ol/style/Fill":"AFcg","ol/style/Stroke":"TXDt","ol/style/Circle":"cdf1"}]},{},["Focm"], null)
//# sourceMappingURL=/geoToolsParcel.945a9706.map